var SIH;(()=>{"use strict";var e={6794:(e,t,n)=>{n.d(t,{getPageParams:()=>p});var r,o;n(3080);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function p(e){e=e||window.location.href;var t,n,r=(t=e,(n=(t=decodeURIComponent(t)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&{href:t,protocol:n[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7]});if(r.pathname.indexOf("market/listings/")>-1){var o=r.pathname.split("/");return{appId:o[3],marketHashName:o[4]+r.hash,location:r}}return{}}var f=d((function e(){l(this,e)}));r=f,c(f,"SELL_LISTING",{}),c(f,"setItem",(function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID},n="".concat(e.appid,"/").concat(e.contextid),o="".concat(e.market_hash_name,"/").concat(e.price);if(Object.keys(r.SELL_LISTING).length){var a=r.SELL_LISTING.data.findIndex((function(e){return Object.keys(e)[0]===n}));if(a>=0)if(r.SELL_LISTING.data[a][n].length){var i=r.SELL_LISTING.data[a][n].findIndex((function(e){return Object.keys(e)[0]===o}));if(i<0)r.SELL_LISTING.data[a][n].push(c({},o,[e]));else r.SELL_LISTING.data[a][n][i][o].findIndex((function(t){return t.assetid===e.assetid}))<0&&r.SELL_LISTING.data[a][n][i][o].push(e)}else r.SELL_LISTING.data[a][n].push(c({},o,[e]));else r.SELL_LISTING.data.push(c({},n,[c({},o,[e])]))}else r.SELL_LISTING={data:[c({},n,[c({},o,[e])])],userInfo:t}}})),c(f,"removeItem",(function(e){e&&r.SELL_LISTING&&r.SELL_LISTING.data&&r.SELL_LISTING.data.length&&r.SELL_LISTING.data.forEach((function(t,n){for(var o=function(){var t=a(s[i],2),o=t[0];t[1].forEach((function(t,i){for(var s=0,c=Object.entries(t);s<c.length;s++){var l=a(c[s],2),u=l[0],d=l[1].findIndex((function(t){return t.assetid===e}));d>=0&&(r.SELL_LISTING.data[n][o][i][u].splice(d,1),r.SELL_LISTING.data[n][o][i][u].length||(r.SELL_LISTING.data[n][o].splice(i,1),r.SELL_LISTING.data[n][o].length||r.SELL_LISTING.data.splice(n,1)))}}))},i=0,s=Object.entries(t);i<s.length;i++)o()}))})),c(f,"resellItems",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:r.SELL_LISTING},(function(t){e()}))}))}));var h=d((function e(){l(this,e)}));o=h,c(h,"BUY_ORDERS",[]),c(h,"setItem",(function(e){e&&(o.BUY_ORDERS.length?-1===o.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e.payload.buy_orderid}))&&o.BUY_ORDERS.push(e):o.BUY_ORDERS.push(e))})),c(h,"removeItem",(function(e){if(e&&o.BUY_ORDERS.length){var t=o.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e}));-1!==t&&o.BUY_ORDERS.splice(t,1)}})),c(h,"createBuyOrders",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:o.BUY_ORDERS},(function(t){e()}))}))}))},3080:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>s});const s=new(function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"getPriceFromCurrency",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=t.getCurrency(+n),s=t.getCurrency(+r),c=o?ExchangeSteamRates[i.strCode]:ExchangeRates._rates[i.strCode],l=o?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&e?"USD"!=i.strCode&&(e*=c)<.03&&2===a&&(e=.03):s.strCode!=i.strCode&&e&&(e=e/l*c)<.03&&2===a&&(e=.03),2!==a&&e>.03&&(a=2),{price:e||0,code:i.strCode,symbol:i.strSymbol,text:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(a):0).concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),template:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"","$price").concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),symbolPosition:i.bSymbolIsPrefix?"before":"after"}})),a(this,"getCurrency",(function(e){var n=null;for(var r in e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,t.g_rgCurrencyData)if(t.g_rgCurrencyData[r].eCurrencyCode===+e){n=t.g_rgCurrencyData[r];break}return n})),a(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),a(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""}})},(t=[{key:"getCurrencyIdByCode",value:function(e){var t;return(null===(t=g_rgCurrencyData[e])||void 0===t?void 0:t.eCurrencyCode)||null}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}())}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{injectSkinout:()=>A});var o,a=n(3080),i=n(6794),s=function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},c=function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return console.error(e),null}},l={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return c(this._name)||{}},set:function(e){s(this._name,e)}},u={_name:"SIH_MARKETPLACES_CACHE",get:function(){return c(this._name)||{}},set:function(e){s(this._name,e)}};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function h(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}var b=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"getLink",(function(t,n,r,o,a){return e._getLink(t,n,r,o,a)})),h(this,"getPriceMarket",(function(e){var t=l.get(),n=!1,r=0,o=0,a=0,i=0,s=0,c=0;return e.data&&(a=e.data.price||0,i=e.data.count||0,e.data.locked&&(s=e.data.locked.price||0,c=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(r=a,o=i),"B"===e.group&&(a?a>s&&s?(r=s,n=!0,o=c):(r=a,o=i):(r=s,o=c,n=!0)),"C"===e.group&&(r=s,o=c,n=!0)):"A"!==e.group&&"B"!==e.group||(r=a,o=i),{price:r,isLock:n,count:o}})),h(this,"makeNewData",(function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING})),h(this,"loadMarkets",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING),e._statusLoadMarkers===e._statusLoadMarkersEnum.NO_LOADING){e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING;var r=null===t&&null===n?(0,i.getPageParams)():{appId:t,marketHashName:n};if(r.marketHashName=decodeURIComponent(r.marketHashName),r){var o=u.get(),a="".concat(r.appId,"_").concat(r.marketHashName);if(sih_app_account&&(window.marketCacheTime=3e4),o[a]&&Date.now()-o[a].time<window.marketCacheTime)return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),void(e._marketplace.markets=o[a].data);var s=t&&n,c=e._getMarkets(r.appId,r.marketHashName,s),l={appId:r.appId,markets:c.map((function(e){return e.name})),items:[r.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:l},(function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[r.marketHashName]&&t.items[r.marketHashName].csmoney&&(t.items[r.marketHashName].csmoney.csmoneyStore&&(t.items[r.marketHashName].csmoneyStore=t.items[r.marketHashName].csmoney.csmoneyStore),t.items[r.marketHashName].csmoney.csmoneyTrade&&(t.items[r.marketHashName].csmoneyTrade=t.items[r.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=c.map((function(e){return e.data=t.items[r.marketHashName]&&t.items[r.marketHashName][e.name],e})).filter((function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))})),o[a]={},o[a].data=e._marketplace.markets,o[a].time=Date.now(),u.set(o)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR}))}}})),h(this,"checkLoadMarkets",(function(){var n=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(n){var r=l.get();r.market&&t.getMarkets().filter((function(e){return e.isView})).forEach((function(e){var t=r.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)}))}return n})),h(this,"getMarkets",(function(){return e._marketplace?l.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter((function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price})):[]})),h(this,"getMarketLowerPrice",(function(){var n=null;if(t.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var r=l.get(),o=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},a=function(e,t){return t.isServiceCommission&&e||0},i=e.excludeBuyMarkets(t.getMarkets()).filter((function(e){return e.isView}));i.length>1?n=i.reduce((function(e,n){var i=t.getPriceMarket(e),s=t.getPriceMarket(n);return i.price*o(e.depositPercentage,r)+a(e.fixedDepositPercentage,r)<s.price*o(n.depositPercentage,r)+a(n.fixedDepositPercentage,r)?e:n})):1===i.length&&(n=i[0])}return n})),h(this,"getOffersCount",(function(n){return e.excludeBuyMarkets(n).reduce((function(e,n){return e+t.getPriceMarket(n).count}),0)})),h(this,"getMarketsForExternal",(function(){return e._markets.filter((function(e){return e.forExternalInjection}))})),h(this,"getAllMarkets",(function(t){return t?e._markets.filter((function(e){return e.appIds.includes(t)})):e._markets}))}return t=e,r=[{key:"_markets",get:function(){return[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"skinport",title:"Skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"tradeit",title:"Tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:1},{name:"tradeitDeposit",title:"Tradeit Deposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:1},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"swapgg",title:"Swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cs2go",title:"CS2GO",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0}]}},{key:"_getMarkets",value:function(t,n,r){var o,a=e._markets.filter((function(e){return e.isView&&e.appIds.includes(t)}));if(!window.sih_subscribe_ads){var i="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";a=["RU","BY"].includes(i)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?a.filter((function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name})):a.filter((function(e){return e.name})):["ZH","CN"].includes(i)?a.filter((function(e){return e.name})):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?a.filter((function(e){return"igxe"!==e.name})):a.filter((function(e){return e.name}))}a.forEach((function(o){o.link=e._getLink(o.name,t,n,r)}));var s=e._markets.filter((function(e){return!e.isView}));return(o=a).push.apply(o,m(s)),a}},{key:"_getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"excludeBuyMarkets",value:function(e){var t=["csgocomBuy"];return e.filter((function(e){return!t.includes(e.name)}))}}],(n=null)&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();o=b,h(b,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),h(b,"_statusLoadMarkers",o._statusLoadMarkersEnum.NO_LOADING),h(b,"_marketplace",null),h(b,"_getLink",(function(e,t,n,r,o){var a="https://t.sih-db.com/".concat(o?"external-panel":"15GzoA"),i="",s="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}i="".concat(a,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(n,"&sd=asc")),"&subid2=").concat(s).concat(r?"-side-menu":"")}if("csmoneyStore"===e&&(i="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyStore").concat(r?"-side-menu":"")),"csmoneyTrade"===e&&(i="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyTrade").concat(r?"-side-menu":"")),"skinport"===e){var c=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),l="";"570"===t?l="/dota2":"440"===t?l="/tf2":"252490"===t&&(l="/rust"),i="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(l,"/market?search=").concat(c,"&sort=price&order=asc")),"&subid2=skinport").concat(r?"-side-menu":"")}if("bitskins"===e){var u="";switch(t){case"730":u="csgo";break;case"570":u="dota2";break;case"440":u="tf2"}i="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(u,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(n,'"}}')),"&subid2=newBitskins").concat(r?"-side-menu":"")}if("bitskinsp2p"===e){var d=n.replace(/ /g,"+");i="".concat(a,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(d,'"}}')),"&subid2=p2p-bitskins").concat(r?"-side-menu":"")}if("skinbaron"===e){n=n.replace("Souvenir Package","");var m="";"730"===t?m="/csgo":"440"===t&&(m="/tf2");var p=encodeURIComponent("".concat(m,"?str=").concat(n,"&sort=CF"));i="".concat(a,"?subid1=").concat(p,"&subid2=skinbaron").concat(r?"-side-menu":"")}if("shadowpay"===e){var f=encodeURIComponent("?search=".concat(n));i="".concat(a,"?subid1=").concat(f,"&subid2=shadowpay").concat(r?"-side-menu":"")}if("waxpeer"===e){var h=n.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),y="";["252490"].includes(t)&&(y="rust/"),["440"].includes(t)&&(y="tf2/"),i="".concat(a,"?subid1=").concat(y).concat(h,"/item/&subid2=waxpeer").concat(r?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var b=n.replace(/[™★]/g,""),g="";"730"===t&&(g="csgo-skins"),"570"===t&&(g="dota2-skins"),"252490"===t&&(g="rust-skins"),"440"===t&&(g="tf2-skins");var _=encodeURIComponent("/ingame-items/item-list/".concat(g,"?title=").concat(b));i="".concat(a,"?subid1=").concat(_,"&subid2=dmarket").concat(r?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var S="";if(n.indexOf("Unusual")>-1)S=encodeURIComponent("/market?e=".concat(n,"&f=ASC&appid=").concat(t));else{var v=n.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();S="/item/".concat(t,"-").concat(v)}i="".concat(a,"?subid1=").concat(S,"&subid2=manncostore").concat(r?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var C="";"730"===t&&(C="csgo"),"440"===t&&(C="tf2"),"570"===t&&(C="dota2"),"252490"===t&&(C="rust");var k=encodeURIComponent("/".concat(C,"/store?search=").concat(n));i="".concat(a,"?subid1=").concat(k,"&subid2=tradeit").concat(r?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var I="";"730"===t&&(I="csgo"),"440"===t&&(I="tf2"),"570"===t&&(I="dota2"),"252490"===t&&(I="rust");var x=encodeURIComponent("/".concat(I,"/trade?search=").concat(n));i="".concat(a,"?subid1=").concat(x,"&subid2=tradeit").concat(r?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(i="".concat(a,"?subid1=").concat(n,"&subid2=cstrade").concat(r?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){var w=encodeURIComponent("#skin=".concat(t,"_").concat(n));i="".concat(a,"?subid1=").concat(w,"&subid2=lootfarm").concat(r?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){var E=encodeURIComponent("/browse/".concat(t,"?search=").concat(n.replace("|"," ")));i="".concat(a,"?subid1=").concat(E,"&subid2=swapgg").concat(r?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var L="";"730"===t&&(L="csgo"),"570"===t&&(L="dota2"),"252490"===t&&(L="rust");var P=encodeURIComponent("/".concat(L,"/?query=").concat(n));i="".concat(a,"?subid1=").concat(P,"&subid2=lisskins").concat(r?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var N="";"730"===t&&(N="csgo");var A=encodeURIComponent("/market/".concat(N,"#tab=selling&page_num=1&search=").concat(n));i="".concat(a,"?subid1=").concat(A,"&subid2=buff163").concat(r?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var R=n,O="";"730"===t&&(O="csgo");var T=encodeURIComponent("/market/".concat(O,"?keyword=").concat(R));i="".concat(a,"?subid1=").concat(T,"&subid2=igxe").concat(r?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var H=encodeURIComponent("/buy?query=".concat(n));i="".concat(a,"?subid1=").concat(H,"&subid2=gamerpay").concat(r?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var U=n,D=encodeURIComponent("appId=".concat(t,"&q=").concat(U));i="".concat(a,"?subid1=").concat(D,"&subid2=skinmonkey").concat(r?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var j=n,B=encodeURIComponent("appId=".concat(t,"&q=").concat(j));i="".concat(a,"?subid1=").concat(B,"&subid2=skinmonkey").concat(r?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){var M=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();i="".concat(a,"?subid1=").concat(M,"&subid2=skinout").concat(r?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){var V=n;i="".concat(a,"?subid1=").concat(V,"&subid2=whitemarket").concat(r?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){var W=encodeURIComponent(n.replace(/&/,""));i="".concat(a,"?subid1=").concat(W,"&subid2=haloskins").concat(r?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){var G=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase(),$="".concat(t,"/").concat(G);i="".concat(a,"?subid1=").concat($,"&subid2=cs2go").concat(r?"-side-menu":"")}if("rustskins"===e&&["252490"].includes(t)){var F="".concat(n);i="".concat(a,"?subid1=").concat(F,"&subid2=rustskins").concat(r?"-side-menu":"")}if("csdeal"===e&&["730","570","440","252490"].includes(t)){var Y="";"730"===t&&(Y="csgo"),"440"===t&&(Y="tf2"),"570"===t&&(Y="dota2"),"252490"===t&&(Y="rust");var Z=encodeURIComponent(n.replace(/&/,"")),z="".concat(Z,"&game=").concat(Y);i="".concat(a,"?subid1=").concat(z,"&subid2=cs.deals").concat(r?"-side-menu":"")}if("sihmarket"===e&&["730"].includes(t)){var K=encodeURIComponent(n);i="".concat(a,"?subid1=").concat(K,"&subid2=sih.app").concat(r?"-side-menu":"")}if("csmarket"===e&&["730"].includes(t)){var q=encodeURIComponent("".concat(n,"&sortBy=price&utm_source=sih&utm_medium=cpm&utm_campaign=first"));i="".concat(a,"?subid1=").concat(q,"&subid2=csmarket").concat(r?"-side-menu":"")}if("steamLiveSell"===e&&["730"].includes(t)){var X=encodeURIComponent("".concat(n));i="".concat(a,"?subid1=").concat(X,"&subid2=steam").concat(r?"-side-menu":"")}return o&&(i="".concat(i,"&subid3=").concat(o)),i}));const g=new b;var _;function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new R(r||[]);return o(i,"_invoke",{value:L(e,n,s)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",f="executing",h="completed",y={};function b(){}function g(){}function _(){}var v={};l(v,i,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C(O([])));I&&I!==n&&r.call(I,i)&&(v=I);var x=_.prototype=b.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,i,s){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==S(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,n,r){var o=m;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=P(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?h:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return g.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=l(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new E(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(x),l(x,c,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function I(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function w(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var L=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"renderSihButton",function(){var t,n=(t=k().mark((function t(n,r,o,a){var i,s,c,l,u,d,m,p,f=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=f.length>4&&void 0!==f[4]?f[4]:window.SIHID,s=$('<div id="'.concat(a.btnId,'" title></div>')),e.updateBtnElement(a,s),n.length&&r&&o){t.next=5;break}return t.abrupt("return");case 5:return c={appId:o,markets:g.getMarketsForExternal().map((function(e){return e.name})),items:[r]},t.next=8,e.getPricesByMarkets(c,a.token);case 8:if((l=t.sent)&&l.length){t.next=11;break}return t.abrupt("return");case 11:return window.ExchangeRates||(window.ExchangeRates={}),t.next=14,e.getRates();case 14:return window.ExchangeRates._rates=t.sent,t.next=17,e.loadLocales();case 17:u=localStorage.getItem("SIH_LANG")||"EN",window.SIHLang=e.locales[u.toLowerCase()],d=e.createMarketCells(l,r,o,i,a.name),m=e.createTooltipHeader(i),(p=$('<div class="sih"></div>')).append(m.first()).append(d.first()),e.initBtnTooltip(s,p,a),Math.random()<.5?n.append(s):n.prepend(s),e.sendStatRequest("loads","","external-panel-loads",a.name);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){I(a,r,o,i,s,"next",e)}function s(e){I(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e,t,r,o){return n.apply(this,arguments)}}()),w(this,"generateRandomBtnIn",(function(){return Math.random().toString(36).substr(2,9)})),w(this,"getToken",(function(){return new Promise((function(e){window.addEventListener("PassToSiteExt",(function(t){e(t.detail)}),{once:!0}),window.dispatchEvent(new CustomEvent("PassToContentScript",{detail:{type:"BACKGROUND_GET_EXTERNAL_TOKEN"}}))}))}))},n=[{key:"updateBtnElement",value:function(e,t){var n={css:{position:"absolute",bottom:"20px",cursor:"pointer",width:"60px"},imgWidth:33,imgHeigh:24};switch(e.name){case"csgocom":n.css={position:"absolute",bottom:"20px",cursor:"pointer",width:"60px",display:"block"},n.imgWidth=60,n.imgHeigh=44;break;case"waxpeer":n.css={position:"absolute",bottom:"20px",left:"20px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"buff163":n.css={position:"absolute",bottom:"15px",right:"10px",cursor:"pointer",width:"40px","z-index":"5"},n.imgWidth=40,n.imgHeigh=29;break;case"skinport":n.css={position:"absolute",bottom:"0",left:"10px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"lisskins":n.css={position:"absolute",top:"180px",left:"20px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"haloskins":n.css={position:"absolute",bottom:"0",left:"0",cursor:"pointer",width:"50px","z-index":"5"},n.imgWidth=50,n.imgHeigh=37;break;case"shadowpay":n.css={position:"absolute",bottom:"40px",left:"20px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"bitskins":n.css={position:"absolute",bottom:"0",left:"20px",cursor:"pointer",width:"80px","z-index":"5"},n.imgWidth=80,n.imgHeigh=59;break;case"whitemarket":n.css={position:"absolute",bottom:"0",left:"0",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"skinout":n.css={position:"absolute",top:"170px",left:"20px",cursor:"pointer",width:"60px","z-index":"15"},n.imgWidth=60,n.imgHeigh=44;break;case"gamerpay":n.css={position:"absolute",bottom:"65px",left:"25px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"manncostore":n.css={position:"absolute",bottom:"95px",left:"25px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44;break;case"dmarket":n.css={position:"absolute",bottom:"0",left:"0",cursor:"pointer",width:"60px","z-index":"25"},n.imgWidth=60,n.imgHeigh=44;break;case"igxe":n.css={position:"absolute",bottom:"12px",right:"13px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=47,n.imgHeigh=34;break;case"csmoneyStore":n.css={position:"absolute",bottom:"0",left:"0",cursor:"pointer",width:"50px",height:"38px","z-index":"5"},n.imgWidth=50,n.imgHeigh=38;break;case"tradeit":n.css={position:"absolute !important",bottom:"0 !important",left:"0 !important",top:"unset !important",right:"unset !important",cursor:"pointer",width:"40px !important",height:"29px !important","z-index":"100000 !important",display:"block !important",opacity:"1 !important",visibility:"visible !important"},n.imgWidth=40,n.imgHeigh=29;break;case"skinbaron":n.css={position:"absolute",bottom:"5px",left:"5px",cursor:"pointer",width:"60px","z-index":"5"},n.imgWidth=60,n.imgHeigh=44}t[0].style.cssText=Object.entries(n.css).map((function(e){var t=v(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r,";")})).join(" "),t.append('<svg width="'.concat(n.imgWidth,'" height="').concat(n.imgHeigh,'" viewBox="0 0 33 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n')+'<path d="M6.26953 12.8371H10.5998V14.9125H6.26953V17.3723H12.8674V10.736H8.48589V8.78871H12.8674V6.48267H6.26953V12.8371Z" fill="white"/>\n<path d="M17.0802 6.48267H14.6973V17.3723H17.0802V6.48267Z" fill="white"/>\n<path d="M23.4344 6.48267V10.736H21.3718V6.48267H19.1426V17.3723H21.3333V12.6834H23.4856V17.3723H25.702V6.48267H23.4344Z" fill="white"/>\n<path d="M4.41991 10.7361H0V13.119H4.41991V10.7361Z" fill="#00A8D1"/>\n<path d="M32.0019 10.7361H27.582V13.119H32.0019V10.7361Z" fill="#0F4481"/>\n<path d="M17.0899 0H14.707V4.41991H17.0899V0Z" fill="#0077B7"/>\n<path d="M17.0899 19.4346H14.707V23.8545H17.0899V19.4346Z" fill="#0077B7"/>\n<path d="M4.41991 10.7361H0V13.119H4.41991V10.7361Z" fill="url(#paint0_linear_7441_55984)"/>\n<path d="M4.41991 10.7361H0V13.119H4.41991V10.7361Z" fill="url(#paint1_linear_7441_55984)"/>\n<path d="M32.0019 10.7361H27.582V13.119H32.0019V10.7361Z" fill="url(#paint2_linear_7441_55984)"/>\n<path d="M32.0019 10.7361H27.582V13.119H32.0019V10.7361Z" fill="url(#paint3_linear_7441_55984)"/>\n<path d="M17.0899 0H14.707V4.41991H17.0899V0Z" fill="url(#paint4_linear_7441_55984)"/>\n<path d="M17.0899 0H14.707V4.41991H17.0899V0Z" fill="url(#paint5_linear_7441_55984)"/>\n<path d="M17.0899 19.4346H14.707V23.8545H17.0899V19.4346Z" fill="url(#paint6_linear_7441_55984)"/>\n<path d="M17.0899 19.4346H14.707V23.8545H17.0899V19.4346Z" fill="url(#paint7_linear_7441_55984)"/>\n<path d="M25.2677 2.19116H19.2207V4.42034H25.2677C26.536 4.42034 27.5737 5.45805 27.5737 6.72638V8.69932H29.8029V6.72638C29.7901 4.22817 27.7659 2.19116 25.2677 2.19116Z" fill="#FFFBFA"/>\n<path d="M2.19141 6.29079V8.69932H4.42058V6.29079C4.42058 5.26588 5.25332 4.42034 6.29104 4.42034H12.7736V2.19116H6.29104C4.03624 2.19116 2.19141 4.03599 2.19141 6.29079Z" fill="#FFFBFA"/>\n<path d="M27.5737 17.1028C27.5737 18.3712 26.536 19.4089 25.2677 19.4089H19.2207V21.638H25.2677C27.7659 21.638 29.8029 19.601 29.8029 17.1028V15.1299H27.5737V17.1028Z" fill="#FFFBFA"/>\n<path d="M4.42058 17.1028V15.1299H2.19141V17.1028C2.19141 19.601 4.22841 21.638 6.72662 21.638H12.7736V19.4089H6.72662C5.4583 19.4089 4.42058 18.384 4.42058 17.1028Z" fill="#FFFBFA"/>\n<defs>\n<linearGradient id="paint0_linear_7441_55984" x1="0" y1="11.9266" x2="32.0041" y2="11.9266" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint1_linear_7441_55984" x1="0" y1="11.9266" x2="32.0041" y2="11.9266" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint2_linear_7441_55984" x1="-0.000782797" y1="11.9266" x2="32.0033" y2="11.9266" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint3_linear_7441_55984" x1="-0.000782797" y1="11.9266" x2="32.0033" y2="11.9266" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint4_linear_7441_55984" x1="-0.000381029" y1="11.9264" x2="32.0037" y2="11.9264" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint5_linear_7441_55984" x1="-0.000381029" y1="11.9264" x2="32.0037" y2="11.9264" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint6_linear_7441_55984" x1="-0.000381029" y1="11.9262" x2="32.0037" y2="11.9262" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n<linearGradient id="paint7_linear_7441_55984" x1="-0.000381029" y1="11.9262" x2="32.0037" y2="11.9262" gradientUnits="userSpaceOnUse">\n<stop stop-color="#009BC2"/>\n<stop offset="1" stop-color="#12427B"/>\n</linearGradient>\n</defs>\n</svg>\n')}}],(t=null)&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();_=L,w(L,"locales",{}),w(L,"getPricesByMarkets",(function(e,t){return new Promise((function(n){var r={type:"BACKGROUND_GET_PRICES_FOR_EXTERNAL",data:e,token:t};window.addEventListener("PassToSiteExt",(function(e){n(e.detail)}),{once:!0}),window.dispatchEvent(new CustomEvent("PassToContentScript",{detail:r}))}))})),w(L,"createMarketCells",(function(e,t,n,r,o){var i=$('\n      <div class="sih__main">\n        <div class="markets"></div>\n        <div class="ad-banner"></div>\n      </div>\n    ');if(e&&e.length){e.sort((function(e,t){return e.price-t.price}));var s=c("SIH_CURRENCY")||{},l=s.selectedCurrency||"USD",u="self_rate"===l?s.self_rate||1:window.ExchangeRates._rates[l];e.forEach((function(e){var s="";if("self_rate"===l)s=(e.price*u).toFixed(2);else{var c,d=(null===(c=a.A.g_rgCurrencyData[l])||void 0===c?void 0:c.eCurrencyCode)||1;s=a.A.getPriceFromCurrency(e.price,d).text}i.find(".markets").append($('\n            <a\n              class="market '.concat(e.name===o?"market_active":"",'"\n              href="').concat(g.getLink(e.name,n,t,!1,o),'"\n              target="_blank"\n            >\n              <img\n                class="market__name"\n                src="chrome-extension://').concat(r,"/assets/marketplace/mini-icons/").concat(e.name.toLowerCase(),'.svg"\n                alt="').concat(e.name,'"\n              />\n              <span class="market__price" data-price-usd="').concat(e.price,'">').concat(s,"</span>\n              ").concat(e.count?'<span> / </span><span class="market__count">'.concat(e.count,"</span>"):"","\n            </a>\n          ")))}))}return i})),w(L,"initBtnTooltip",(function(e,t,n){var r;e.tooltip({content:t,position:{my:"left center",at:"right top"},tooltipClass:"sih-tooltip",open:function(e,t){_.sendStatRequest("hover","","external-panel-loads",n.name)}}).on("mouseenter",(function(){clearTimeout(r),e.not($(this)).tooltip("close")})).on("mouseleave",(function(t){t.stopImmediatePropagation(),r=setTimeout((function(){e.tooltip("close")}),500)})),$("body").on("mouseenter",".ui-tooltip",(function(){clearTimeout(r)})).on("mouseleave",".ui-tooltip",(function(){r=setTimeout((function(){e.tooltip("close")}),500)}))})),w(L,"createTooltipHeader",(function(e){var t=$('\n      <div class="sih__header sih-header">\n        <a class="sih-header__more-info" href="https://sih.app/" target="_blank">\n          <img\n            class="sih-header__more-info_sih-logo"\n            src="chrome-extension://'.concat(e,'/assets/common/sih_logo_new.svg"\n          />\n          <span class="sih-header__more-info_text">').concat(SIHLang.external_injection.more_info,'</span>\n          <div class="sih-header__more-info_chevron"></div>\n        </a>\n\n        ').concat(_.createCurrencyDropDown()," ").concat(_.createLangDropDown(),'\n\n        <div class="sih-header__promotion">').concat(SIHLang.external_injection.add_market,"</div>\n      </div>\n    "));return $("body").on("click",".sih-header__promotion",(function(e){_.renderPromotionModal(),_.sendStatRequest("how_to_connect")})),$("body").on("click",".sih-header__more-info",(function(e){_.sendStatRequest("more_information")})),t})),w(L,"getRates",(function(){return new Promise((function(e,t){window.addEventListener("PassToSiteExt",(function(n){n.detail&&n.detail.data?e(n.detail.data.rates):t()}),{once:!0}),window.dispatchEvent(new CustomEvent("PassToContentScript",{detail:{type:"GetRates",data:{base:"USD"}}}))}))})),w(L,"recalculatePrices",(function(e,t){$(".sih-tooltip .market__price").each((function(n,r){var o=$(r),i=o.data("price-usd");if("self_rate"===e)o.text((i*t).toFixed(2));else{var s,c=(null===(s=a.A.g_rgCurrencyData[e])||void 0===s?void 0:s.eCurrencyCode)||1,l=a.A.getPriceFromCurrency(i,c).text;o.text(l)}}))})),w(L,"createCurrencyDropDown",(function(){for(var e=c("SIH_CURRENCY")||{},t=e.selectedCurrency||"USD",n="self_rate"===t?e.self_rate||1:window.ExchangeRates._rates[t],r=$('\n      <div class="sih-header__currency sih-custom-dd">\n        <div class="sih-custom-dd__main" data-currency="'.concat(t,'">\n          <div class="sih-custom-dd__main_code">\n            ').concat("self_rate"===t?"".concat(SIHLang.external_injection.self_rate):t,'\n          </div>\n          <div class="sih-custom-dd__main_rate">').concat(n,'</div>\n          <div class="sih-custom-dd__main_chevron"></div>\n        </div>\n        <div class="sih-custom-dd__options sih-custom-dd__options_hidden">\n          <div class="sih-custom-dd__option" data-currency="self_rate">\n            <div>').concat(SIHLang.external_injection.self_rate,'</div>\n            <input class="sih-custom-dd__option_input" type="number" step="0.1" value="').concat(e.self_rate||1,'" />\n          </div>\n        </div>\n      </div>\n    ')),o=r.find(".sih-custom-dd__options"),a=0,i=Object.entries(window.ExchangeRates._rates);a<i.length;a++){var l=v(i[a],2),u=l[0],d=l[1];o.append('\n        <div class="sih-custom-dd__option" data-currency="'.concat(u,'">\n          <div>').concat(u,"</div>\n          <div>").concat(d,"</div>\n        </div>\n      "))}var m=$("body");return m.on("click",".sih-header__currency",(function(e){var t=$(e.target);t.hasClass("sih-custom-dd__option_input")||$(".sih-header__currency .sih-custom-dd__options").toggleClass("sih-custom-dd__options_hidden"),(t.hasClass("sih-custom-dd__main")||t.parent(".sih-custom-dd__main").length)&&_.sendStatRequest("currency")})),m.on("click",(function(e){$(e.target).closest(".sih-header__currency").length||$(".sih-header__currency .sih-custom-dd__options").addClass("sih-custom-dd__options_hidden")})),m.on("change",".sih-header__currency .sih-custom-dd__option_input",(function(e){var t=+$(e.target).val()||0,n=_.validateInput(t,1e6,.1);$(e.target).val(n)})),m.on("click",".sih-header__currency .sih-custom-dd__option",(function(t){var n,r=$(t.target),o=(r.hasClass("sih-custom-dd__option")?r:r.closest(".sih-custom-dd__option")).data("currency");"self_rate"===o?($(".sih-header__currency .sih-custom-dd__main_code").text(SIHLang.external_injection.self_rate),n=$(".sih-tooltip .sih-header__currency .sih-custom-dd__option_input").val()):($(".sih-header__currency .sih-custom-dd__main_code").text(o),n=window.ExchangeRates._rates[o]),$(".sih-header__currency .sih-custom-dd__main_rate").text(n),_.recalculatePrices(o,n),e.selectedCurrency=o,s("SIH_CURRENCY",e),$(".sih-header__currency .sih-custom-dd__main").data("currency",o),_.sendStatRequest("currencyCode",o)})),m.on("change",".sih-custom-dd__option_input",(function(t){var n=$(t.target).val();"self_rate"===$(".sih-header__currency .sih-custom-dd__main").data("currency")&&$(".sih-header__currency .sih-custom-dd__main_rate").text(n),e.self_rate=n,s("SIH_CURRENCY",e)})),r.prop("outerHTML")})),w(L,"createLangDropDown",(function(){var e=localStorage.getItem("SIH_LANG")||"EN",t=$('\n      <div class="sih-header__lang sih-custom-dd">\n        <div class="sih-custom-dd__main">\n          <div class="sih-custom-dd__main_flag" lang="'.concat(e,'"></div>\n          <div class="sih-custom-dd__main_code">').concat(e,'</div>\n          <div class="sih-custom-dd__main_chevron"></div>\n        </div>\n        <div class="sih-custom-dd__options sih-custom-dd__options_hidden"></div>\n      </div>\n    '));t.find(".sih-custom-dd__main").data("lang",e);var n=t.find(".sih-custom-dd__options");["EN","RU","CN"].forEach((function(e){n.append('\n        <div class="sih-custom-dd__option" data-lang="'.concat(e,'">\n          <div class="sih-custom-dd__option_flag" lang="').concat(e,'"></div>\n          <div class="sih-custom-dd__option_code">').concat(e,"</div>\n        </div>\n      "))}));var r=$("body");return r.on("click",".sih-header__lang",(function(e){$(".sih-header__lang .sih-custom-dd__options").toggleClass("sih-custom-dd__options_hidden"),($(e.target).hasClass("sih-custom-dd__main")||$(e.target).parent(".sih-custom-dd__main").length)&&_.sendStatRequest("lang")})),r.on("click",(function(e){$(e.target).closest(".sih-header__lang").length||$(".sih-header__lang .sih-custom-dd__options").addClass("sih-custom-dd__options_hidden")})),r.on("click",".sih-header__lang .sih-custom-dd__option",(function(e){var t=$(e.target),n=(t.hasClass("sih-custom-dd__option")?t:t.closest(".sih-custom-dd__option")).data("lang");$(".sih-header__lang .sih-custom-dd__main_code").text(n),localStorage.setItem("SIH_LANG",n),$(".sih-header__lang .sih-custom-dd__main").data("lang",n),$(".sih-header__lang .sih-custom-dd__main_flag").attr("lang",n),window.SIHLang=_.locales[n.toLowerCase()],_.sendStatRequest("langCode",n),_.changeLocalizationOnPage()})),t.prop("outerHTML")})),w(L,"renderPromotionModal",(function(){var e=$('\n      <div class="promotion-modal">\n        <div class="promotion-modal__inner">\n          <div class="promotion-modal__close"></div>\n          <div class="promotion-modal__content">\n            <span>'.concat(SIHLang.external_injection.modal_text,'</span>\n            <a href="mailto:csinvhelp@gmail.com" class="promotion-modal__content_email">csinvhelp@gmail.com</a>\n            <span>').concat(SIHLang.external_injection.or,'</span>\n            <a href="mailto:sihtechnic@gmail.com" class="promotion-modal__content_email">sihtechnic@gmail.com</a>\n          </div>\n        </div>\n      </div>\n    '));$("body").append(e),$(".promotion-modal").click((function(e){var t=$(e.target);t.hasClass("promotion-modal__inner")||t.hasClass("promotion-modal__content")||$(".promotion-modal").remove()}))})),w(L,"loadLocales",(function(){return new Promise((function(e){window.addEventListener("PassLocalesToSiteExt",(function(t){_.locales=t.detail,e()}),{once:!0}),window.dispatchEvent(new CustomEvent("GetLocalesFromContentScript",{detail:{type:"BACKGROUND_GET_PRICES_FOR_EXTERNAL"}}))}))})),w(L,"changeLocalizationOnPage",(function(){$(".sih-header__promotion").text(SIHLang.external_injection.add_market),$(".sih-header__more-info_text").text(SIHLang.external_injection.more_info),$('.ui-tooltip-content .sih-header__currency .sih-custom-dd__main[data-currency="self_rate"] .sih-custom-dd__main_code').text(SIHLang.external_injection.self_rate),$('.ui-tooltip-content .sih-header__currency .sih-custom-dd__option[data-currency="self_rate"] div').text(SIHLang.external_injection.self_rate)})),w(L,"validateInput",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return isNaN(e)||e<=n?n:e>=t?t:Math.floor(1e3*e)/1e3})),w(L,"sendStatRequest",(function(e,t){var n=arguments.length>3?arguments[3]:void 0,r="https://t.sih-db.com/".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"menu_buttons");switch(e){case"how_to_connect":r="".concat(r,"?subid1=how_to_connect");break;case"more_information":r="".concat(r,"?subid1=more_information");break;case"currency":r="".concat(r,"?subid1=currency");break;case"currencyCode":r="".concat(r,"?subid1=currency&subid2=").concat(t);break;case"lang":r="".concat(r,"?subid1=lang");break;case"langCode":r="".concat(r,"?subid1=lang&subid3=").concat(t);break;case"hover":r="".concat(r,"?subid1=").concat(n,"&subid2=hover");break;case"loads":r="".concat(r,"?subid1=").concat(n,"&subid2=loads")}var o=$("<img>",{src:r,css:{display:"none"},load:function(){return o.remove()},error:function(){return o.remove()}});$("body").append(o)}));const P=new L;var N=P.generateRandomBtnIn(),A=function(){var e=$(".item-page .item-card");if(e.length){var t=$(".item-details .item-details__titles h2").text().trim(),n={btnId:N,name:"skinout"};P.renderSihButton(e,t,"730",n)}};SIH=r})();