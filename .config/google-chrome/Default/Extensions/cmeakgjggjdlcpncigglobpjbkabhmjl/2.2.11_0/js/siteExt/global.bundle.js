var SIH;(()=>{"use strict";var e={3080:(e,r,t)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,s(o.key),o)}}function a(e,r,t){return(r=s(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}t.d(r,{A:()=>l});const l=new(function(){return e=function e(){var r=this;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"getPriceFromCurrency",(function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=r.getCurrency(+t),l=r.getCurrency(+o),i=n?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode],m=n?ExchangeSteamRates[l.strCode]:ExchangeRates._rates[l.strCode];return"USD"===l.strCode&&e?"USD"!=s.strCode&&(e*=i)<.03&&2===a&&(e=.03):l.strCode!=s.strCode&&e&&(e=e/m*i)<.03&&2===a&&(e=.03),2!==a&&e>.03&&(a=2),{price:e||0,code:s.strCode,symbol:s.strSymbol,text:"".concat(s.bSymbolIsPrefix?"".concat(s.strSymbol).concat(s.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(a):0).concat(s.bSymbolIsPrefix?"":"".concat(s.strSymbolAndNumberSeparator).concat(s.strSymbol)),template:"".concat(s.bSymbolIsPrefix?"".concat(s.strSymbol).concat(s.strSymbolAndNumberSeparator):"","$price").concat(s.bSymbolIsPrefix?"":"".concat(s.strSymbolAndNumberSeparator).concat(s.strSymbol)),symbolPosition:s.bSymbolIsPrefix?"before":"after"}})),a(this,"getCurrency",(function(e){var t=null;for(var o in e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,r.g_rgCurrencyData)if(r.g_rgCurrencyData[o].eCurrencyCode===+e){t=r.g_rgCurrencyData[o];break}return t})),a(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),a(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""}})},(r=[{key:"getCurrencyIdByCode",value:function(e){var r;return(null===(r=g_rgCurrencyData[e])||void 0===r?void 0:r.eCurrencyCode)||null}}])&&n(e.prototype,r),t&&n(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,t}())}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};t.r(o),t.d(o,{App:()=>g,BuyOrders:()=>L,FormatNumberWithSuffix:()=>D,ModifyHoverItemName:()=>T,SKIN_WEAR_MAP:()=>d,SellListing:()=>_,SihUserPrices:()=>P,chromeStorage:()=>I,formatNumber:()=>N,formatNumberToLocalRu:()=>v,getLocation:()=>f,getPageParams:()=>h,getPercentNumberDifference:()=>O,getPriceFromSteam:()=>p,parseNumber:()=>C});var n,a,s=t(3080);function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,s,l=[],i=!0,m=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(o=a.call(t)).done)&&(l.push(o.value),l.length!==r);i=!0);}catch(e){m=!0,n=e}finally{try{if(!i&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(m)throw n}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return i(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,r,t){return(r=c(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function y(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}}function S(e,r,t){return r&&y(e.prototype,r),t&&y(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var r=function(e,r){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!=m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==m(r)?r:r+""}var d=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function f(e){var r=(e=decodeURIComponent(e)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return r&&{href:e,protocol:r[1],host:r[2],hostname:r[3],port:r[4],pathname:r[5],search:r[6],hash:r[7]}}function p(e){return new Promise((function(r){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},r):r()}))}function h(e){var r=f(e=e||window.location.href);if(r.pathname.indexOf("market/listings/")>-1){var t=r.pathname.split("/");return{appId:t[3],marketHashName:t[4]+r.hash,location:r}}return{}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=".";return(e=e.replace(/[^0-9.,]/g,"")).indexOf(",")>e.indexOf(".")&&(r=","),(e.match(new RegExp("\\"+r,"g"))||[]).length>1&&(r=""),""!==r&&e.length-e.indexOf(r)-1==3&&0!==e.indexOf("0"+r)&&(r=""),e=(e=e.replace(new RegExp("[^0-9"+r+"]","g"),"")).replace(",","."),parseFloat(e)}var I={getSync:function(e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:{key:e}},(function(t){var o=t[e]||{};r(o)}))}))},setSync:function(e,r){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:r}},(function(e){t(e)}))}))},getLocal:function(e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:e}},(function(t){var o=t[e]||{};r(o)}))}))},setLocal:function(e,r){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:r}},(function(e){t(e)}))}))}},g={getManifest:function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)})).then((function(e){return e.data}))}};function N(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function v(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=s.A.getPriceFromCurrency(e,r,t,o,n),l=a.price,i=a.symbolPosition,m=a.symbol;return l>1e5&&(l=Math.ceil(l)),2!==n&&l>.03&&(n=2),"".concat("before"===i?m:""," ").concat((+l.toFixed(n)).toLocaleString("ru").replace(",",".")," ").concat("after"===i?m:"")}function O(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/r)*100)/100*t}var T=function(e){var r=e.item;$J(".item-hover-name-tooltip").remove(),r.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),r.css({display:"inline-block",cursor:"pointer"}),r.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),r.off("click").click((function(){var r=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then((function(){r.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})})).catch((function(e){console.error("Error in copying text: ",e)}))})),r.mouseout((function(){r.tooltip("close"),r.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})}))},D=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=s.A.getPriceFromCurrency(e,r,t,n),l=a.price,i=a.symbol,m=a.symbolPosition,b=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast((function(e){return l>=e.value})),u=b?(l/b.value).toFixed(o).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(b.symbol):Math.ceil(100*l)/100;return{price:u,text:"before"===m?"".concat(i," ").concat(u):"".concat(u," ").concat(i),symbol:i,symbolPosition:m}},P=function(){return S((function e(){u(this,e)}),null,[{key:"sendItemData",value:function(e,r,t,o,n,a){try{var s,l,i=JSON.parse(JSON.stringify(e)),m=JSON.parse(JSON.stringify(i.buy_order_graph)),b=JSON.parse(JSON.stringify(i.sell_order_graph));if(!r||5!==o)return!1;if(!g_steamID)return!1;if(0===b.length)return;b.length>5?b.length=5:b.length,m.length>1?m.length=1:m.length;for(var u=[],y=b.length-1;y>=0;y--){var S=b[y][0],c=0!==y?b[y][1]-b[y-1][1]:b[y][1];u.unshift({price:S,count:c})}var d=null==m||null===(s=m[0])||void 0===s?void 0:s[0],f=null==m||null===(l=m[0])||void 0===l?void 0:l[1],p={app_id:r,hash_name:t,prices:u,steamid:g_steamID};if(m.length){var h={price:d,count:f};Object.assign(p,{buy_price:h})}if(n&&Object.keys(n).length&&Object.assign(p,{steamSoldData:n}),a){var C,I;"russian"===a?(C=Number($J.parseHTML(i.buy_order_summary)[1].innerHTML),I=Number($J.parseHTML(i.sell_order_summary)[1].innerHTML)):["koreana","japanese","turkish"].includes(a)?(C=Number($J(i.buy_order_summary)[2].innerHTML),I=Number($J(i.sell_order_summary)[2].innerHTML)):(C=Number($J(i.buy_order_summary)[0].innerHTML),I=Number($J(i.sell_order_summary)[0].innerHTML)),p.orders={buy:C,sell:I}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:p})}catch(e){}}}])}(),_=S((function e(){u(this,e)}));n=_,b(_,"SELL_LISTING",{}),b(_,"setItem",(function(e){if(e){var r={sessionid:g_sessionID,steamid:g_steamID},t="".concat(e.appid,"/").concat(e.contextid),o="".concat(e.market_hash_name,"/").concat(e.price);if(Object.keys(n.SELL_LISTING).length){var a=n.SELL_LISTING.data.findIndex((function(e){return Object.keys(e)[0]===t}));if(a>=0)if(n.SELL_LISTING.data[a][t].length){var s=n.SELL_LISTING.data[a][t].findIndex((function(e){return Object.keys(e)[0]===o}));if(s<0)n.SELL_LISTING.data[a][t].push(b({},o,[e]));else n.SELL_LISTING.data[a][t][s][o].findIndex((function(r){return r.assetid===e.assetid}))<0&&n.SELL_LISTING.data[a][t][s][o].push(e)}else n.SELL_LISTING.data[a][t].push(b({},o,[e]));else n.SELL_LISTING.data.push(b({},t,[b({},o,[e])]))}else n.SELL_LISTING={data:[b({},t,[b({},o,[e])])],userInfo:r}}})),b(_,"removeItem",(function(e){e&&n.SELL_LISTING&&n.SELL_LISTING.data&&n.SELL_LISTING.data.length&&n.SELL_LISTING.data.forEach((function(r,t){for(var o=function(){var r=l(s[a],2),o=r[0];r[1].forEach((function(r,a){for(var s=0,i=Object.entries(r);s<i.length;s++){var m=l(i[s],2),b=m[0],u=m[1].findIndex((function(r){return r.assetid===e}));u>=0&&(n.SELL_LISTING.data[t][o][a][b].splice(u,1),n.SELL_LISTING.data[t][o][a][b].length||(n.SELL_LISTING.data[t][o].splice(a,1),n.SELL_LISTING.data[t][o].length||n.SELL_LISTING.data.splice(t,1)))}}))},a=0,s=Object.entries(r);a<s.length;a++)o()}))})),b(_,"resellItems",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:n.SELL_LISTING},(function(r){e()}))}))}));var L=S((function e(){u(this,e)}));a=L,b(L,"BUY_ORDERS",[]),b(L,"setItem",(function(e){e&&(a.BUY_ORDERS.length?-1===a.BUY_ORDERS.findIndex((function(r){return r.payload.buy_orderid===e.payload.buy_orderid}))&&a.BUY_ORDERS.push(e):a.BUY_ORDERS.push(e))})),b(L,"removeItem",(function(e){if(e&&a.BUY_ORDERS.length){var r=a.BUY_ORDERS.findIndex((function(r){return r.payload.buy_orderid===e}));-1!==r&&a.BUY_ORDERS.splice(r,1)}})),b(L,"createBuyOrders",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:a.BUY_ORDERS},(function(r){e()}))}))})),SIH=o})();