var SIH_GLOBAL;(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{actionMenu:()=>i,navigationMenu:()=>r,notifications:()=>n,steamRefill:()=>a});var n={};e.r(n),e.d(n,{IsAllNotificationRead:()=>Un,LoadNotifications:()=>Pn,UpdateHeaderNotificationIndicator:()=>Dn});var a={};e.r(a),e.d(a,{RenderSteamRefillBtn:()=>wa});var i={};e.r(i),e.d(i,{ChangeCartCountHeaderMenu:()=>Ba,ChangeOrdersCountHeaderMenu:()=>Ga,LoadActionMenu:()=>Ua});var r={};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c(a.key),a)}}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}e.r(r),e.d(r,{loadNavigationMenu:()=>Ka});const d=new(function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"getPriceFromCurrency",(function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=t.getCurrency(+n),s=t.getCurrency(+a),l=i?ExchangeSteamRates[o.strCode]:ExchangeRates._rates[o.strCode],c=i?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&e?"USD"!=o.strCode&&(e*=l)<.03&&2===r&&(e=.03):s.strCode!=o.strCode&&e&&(e=e/c*l)<.03&&2===r&&(e=.03),2!==r&&e>.03&&(r=2),{price:e||0,code:o.strCode,symbol:o.strSymbol,text:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(r):0).concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),template:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"","$price").concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),symbolPosition:o.bSymbolIsPrefix?"before":"after"}})),l(this,"getCurrency",(function(e){var n=null;for(var a in e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,t.g_rgCurrencyData)if(t.g_rgCurrencyData[a].eCurrencyCode===+e){n=t.g_rgCurrencyData[a];break}return n})),l(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),l(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""}})},(t=[{key:"getCurrencyIdByCode",value:function(e){var t;return(null===(t=g_rgCurrencyData[e])||void 0===t?void 0:t.eCurrencyCode)||null}}])&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());var _,u,m={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return console.error(e),null}}};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,S(a.key),a)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var C=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function A(e){e=e||window.location.href;var t,n,a=(t=e,(n=(t=decodeURIComponent(t)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&{href:t,protocol:n[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7]});if(a.pathname.indexOf("market/listings/")>-1){var i=a.pathname.split("/");return{appId:i[3],marketHashName:i[4]+a.hash,location:a}}return{}}var E={getSync:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:{key:e}},(function(n){var a=n[e]||{};t(a)}))}))},setSync:function(e,t){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},(function(e){n(e)}))}))},getLocal:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:e}},(function(n){var a=n[e]||{};t(a)}))}))},setLocal:function(e,t){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},(function(e){n(e)}))}))}};var I=y((function e(){g(this,e)}));_=I,v(I,"SELL_LISTING",{}),v(I,"setItem",(function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID},n="".concat(e.appid,"/").concat(e.contextid),a="".concat(e.market_hash_name,"/").concat(e.price);if(Object.keys(_.SELL_LISTING).length){var i=_.SELL_LISTING.data.findIndex((function(e){return Object.keys(e)[0]===n}));if(i>=0)if(_.SELL_LISTING.data[i][n].length){var r=_.SELL_LISTING.data[i][n].findIndex((function(e){return Object.keys(e)[0]===a}));if(r<0)_.SELL_LISTING.data[i][n].push(v({},a,[e]));else _.SELL_LISTING.data[i][n][r][a].findIndex((function(t){return t.assetid===e.assetid}))<0&&_.SELL_LISTING.data[i][n][r][a].push(e)}else _.SELL_LISTING.data[i][n].push(v({},a,[e]));else _.SELL_LISTING.data.push(v({},n,[v({},a,[e])]))}else _.SELL_LISTING={data:[v({},n,[v({},a,[e])])],userInfo:t}}})),v(I,"removeItem",(function(e){e&&_.SELL_LISTING&&_.SELL_LISTING.data&&_.SELL_LISTING.data.length&&_.SELL_LISTING.data.forEach((function(t,n){for(var a=function(){var t=h(r[i],2),a=t[0];t[1].forEach((function(t,i){for(var r=0,o=Object.entries(t);r<o.length;r++){var s=h(o[r],2),l=s[0],c=s[1].findIndex((function(t){return t.assetid===e}));c>=0&&(_.SELL_LISTING.data[n][a][i][l].splice(c,1),_.SELL_LISTING.data[n][a][i][l].length||(_.SELL_LISTING.data[n][a].splice(i,1),_.SELL_LISTING.data[n][a].length||_.SELL_LISTING.data.splice(n,1)))}}))},i=0,r=Object.entries(t);i<r.length;i++)a()}))})),v(I,"resellItems",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:_.SELL_LISTING},(function(t){e()}))}))}));var w=y((function e(){g(this,e)}));u=w,v(w,"BUY_ORDERS",[]),v(w,"setItem",(function(e){e&&(u.BUY_ORDERS.length?-1===u.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e.payload.buy_orderid}))&&u.BUY_ORDERS.push(e):u.BUY_ORDERS.push(e))})),v(w,"removeItem",(function(e){if(e&&u.BUY_ORDERS.length){var t=u.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e}));-1!==t&&u.BUY_ORDERS.splice(t,1)}})),v(w,"createBuyOrders",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:u.BUY_ORDERS},(function(t){e()}))}))}));var x,T={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return m.get(this._name)||{}},set:function(e){m.set(this._name,e)}},k={_name:"SIH_MARKETPLACES_CACHE",get:function(){return m.get(this._name)||{}},set:function(e){m.set(this._name,e)}};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function R(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D(a.key),a)}}function P(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var U=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"getLink",(function(t,n,a,i,r){return e._getLink(t,n,a,i,r)})),P(this,"getPriceMarket",(function(e){var t=T.get(),n=!1,a=0,i=0,r=0,o=0,s=0,l=0;return e.data&&(r=e.data.price||0,o=e.data.count||0,e.data.locked&&(s=e.data.locked.price||0,l=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(a=r,i=o),"B"===e.group&&(r?r>s&&s?(a=s,n=!0,i=l):(a=r,i=o):(a=s,i=l,n=!0)),"C"===e.group&&(a=s,i=l,n=!0)):"A"!==e.group&&"B"!==e.group||(a=r,i=o),{price:a,isLock:n,count:i}})),P(this,"makeNewData",(function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING})),P(this,"loadMarkets",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING),e._statusLoadMarkers===e._statusLoadMarkersEnum.NO_LOADING){e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING;var a=null===t&&null===n?A():{appId:t,marketHashName:n};if(a.marketHashName=decodeURIComponent(a.marketHashName),a){var i=k.get(),r="".concat(a.appId,"_").concat(a.marketHashName);if(sih_app_account&&(window.marketCacheTime=3e4),i[r]&&Date.now()-i[r].time<window.marketCacheTime)return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),void(e._marketplace.markets=i[r].data);var o=t&&n,s=e._getMarkets(a.appId,a.marketHashName,o),l={appId:a.appId,markets:s.map((function(e){return e.name})),items:[a.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:l},(function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[a.marketHashName]&&t.items[a.marketHashName].csmoney&&(t.items[a.marketHashName].csmoney.csmoneyStore&&(t.items[a.marketHashName].csmoneyStore=t.items[a.marketHashName].csmoney.csmoneyStore),t.items[a.marketHashName].csmoney.csmoneyTrade&&(t.items[a.marketHashName].csmoneyTrade=t.items[a.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=s.map((function(e){return e.data=t.items[a.marketHashName]&&t.items[a.marketHashName][e.name],e})).filter((function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))})),i[r]={},i[r].data=e._marketplace.markets,i[r].time=Date.now(),k.set(i)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR}))}}})),P(this,"checkLoadMarkets",(function(){var n=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(n){var a=T.get();a.market&&t.getMarkets().filter((function(e){return e.isView})).forEach((function(e){var t=a.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)}))}return n})),P(this,"getMarkets",(function(){return e._marketplace?T.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter((function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price})):[]})),P(this,"getMarketLowerPrice",(function(){var n=null;if(t.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var a=T.get(),i=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},r=function(e,t){return t.isServiceCommission&&e||0},o=e.excludeBuyMarkets(t.getMarkets()).filter((function(e){return e.isView}));o.length>1?n=o.reduce((function(e,n){var o=t.getPriceMarket(e),s=t.getPriceMarket(n);return o.price*i(e.depositPercentage,a)+r(e.fixedDepositPercentage,a)<s.price*i(n.depositPercentage,a)+r(n.fixedDepositPercentage,a)?e:n})):1===o.length&&(n=o[0])}return n})),P(this,"getOffersCount",(function(n){return e.excludeBuyMarkets(n).reduce((function(e,n){return e+t.getPriceMarket(n).count}),0)})),P(this,"getMarketsForExternal",(function(){return e._markets.filter((function(e){return e.forExternalInjection}))})),P(this,"getAllMarkets",(function(t){return t?e._markets.filter((function(e){return e.appIds.includes(t)})):e._markets}))}return t=e,a=[{key:"_markets",get:function(){return[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"skinport",title:"Skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"tradeit",title:"Tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:1},{name:"tradeitDeposit",title:"Tradeit Deposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:1},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"swapgg",title:"Swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cs2go",title:"CS2GO",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0}]}},{key:"_getMarkets",value:function(t,n,a){var i,r=e._markets.filter((function(e){return e.isView&&e.appIds.includes(t)}));if(!window.sih_subscribe_ads){var o="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";r=["RU","BY"].includes(o)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?r.filter((function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name})):r.filter((function(e){return e.name})):["ZH","CN"].includes(o)?r.filter((function(e){return e.name})):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?r.filter((function(e){return"igxe"!==e.name})):r.filter((function(e){return e.name}))}r.forEach((function(i){i.link=e._getLink(i.name,t,n,a)}));var s=e._markets.filter((function(e){return!e.isView}));return(i=r).push.apply(i,R(s)),r}},{key:"_getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"excludeBuyMarkets",value:function(e){var t=["csgocomBuy"];return e.filter((function(e){return!t.includes(e.name)}))}}],(n=null)&&L(t.prototype,n),a&&L(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();x=U,P(U,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),P(U,"_statusLoadMarkers",x._statusLoadMarkersEnum.NO_LOADING),P(U,"_marketplace",null),P(U,"_getLink",(function(e,t,n,a,i){var r="https://t.sih-db.com/".concat(i?"external-panel":"15GzoA"),o="",s="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}o="".concat(r,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(n,"&sd=asc")),"&subid2=").concat(s).concat(a?"-side-menu":"")}if("csmoneyStore"===e&&(o="".concat(r,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyStore").concat(a?"-side-menu":"")),"csmoneyTrade"===e&&(o="".concat(r,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyTrade").concat(a?"-side-menu":"")),"skinport"===e){var l=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),c="";"570"===t?c="/dota2":"440"===t?c="/tf2":"252490"===t&&(c="/rust"),o="".concat(r,"?subid1=").concat(encodeURIComponent("".concat(c,"/market?search=").concat(l,"&sort=price&order=asc")),"&subid2=skinport").concat(a?"-side-menu":"")}if("bitskins"===e){var d="";switch(t){case"730":d="csgo";break;case"570":d="dota2";break;case"440":d="tf2"}o="".concat(r,"?subid1=").concat(encodeURIComponent("".concat(d,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(n,'"}}')),"&subid2=newBitskins").concat(a?"-side-menu":"")}if("bitskinsp2p"===e){var _=n.replace(/ /g,"+");o="".concat(r,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(_,'"}}')),"&subid2=p2p-bitskins").concat(a?"-side-menu":"")}if("skinbaron"===e){n=n.replace("Souvenir Package","");var u="";"730"===t?u="/csgo":"440"===t&&(u="/tf2");var m=encodeURIComponent("".concat(u,"?str=").concat(n,"&sort=CF"));o="".concat(r,"?subid1=").concat(m,"&subid2=skinbaron").concat(a?"-side-menu":"")}if("shadowpay"===e){var h=encodeURIComponent("?search=".concat(n));o="".concat(r,"?subid1=").concat(h,"&subid2=shadowpay").concat(a?"-side-menu":"")}if("waxpeer"===e){var f=n.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),p="";["252490"].includes(t)&&(p="rust/"),["440"].includes(t)&&(p="tf2/"),o="".concat(r,"?subid1=").concat(p).concat(f,"/item/&subid2=waxpeer").concat(a?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var v=n.replace(/[™★]/g,""),g="";"730"===t&&(g="csgo-skins"),"570"===t&&(g="dota2-skins"),"252490"===t&&(g="rust-skins"),"440"===t&&(g="tf2-skins");var b=encodeURIComponent("/ingame-items/item-list/".concat(g,"?title=").concat(v));o="".concat(r,"?subid1=").concat(b,"&subid2=dmarket").concat(a?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var y="";if(n.indexOf("Unusual")>-1)y=encodeURIComponent("/market?e=".concat(n,"&f=ASC&appid=").concat(t));else{var S=n.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();y="/item/".concat(t,"-").concat(S)}o="".concat(r,"?subid1=").concat(y,"&subid2=manncostore").concat(a?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var C="";"730"===t&&(C="csgo"),"440"===t&&(C="tf2"),"570"===t&&(C="dota2"),"252490"===t&&(C="rust");var A=encodeURIComponent("/".concat(C,"/store?search=").concat(n));o="".concat(r,"?subid1=").concat(A,"&subid2=tradeit").concat(a?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var E="";"730"===t&&(E="csgo"),"440"===t&&(E="tf2"),"570"===t&&(E="dota2"),"252490"===t&&(E="rust");var I=encodeURIComponent("/".concat(E,"/trade?search=").concat(n));o="".concat(r,"?subid1=").concat(I,"&subid2=tradeit").concat(a?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(o="".concat(r,"?subid1=").concat(n,"&subid2=cstrade").concat(a?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){var w=encodeURIComponent("#skin=".concat(t,"_").concat(n));o="".concat(r,"?subid1=").concat(w,"&subid2=lootfarm").concat(a?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){var x=encodeURIComponent("/browse/".concat(t,"?search=").concat(n.replace("|"," ")));o="".concat(r,"?subid1=").concat(x,"&subid2=swapgg").concat(a?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var T="";"730"===t&&(T="csgo"),"570"===t&&(T="dota2"),"252490"===t&&(T="rust");var k=encodeURIComponent("/".concat(T,"/?query=").concat(n));o="".concat(r,"?subid1=").concat(k,"&subid2=lisskins").concat(a?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var O="";"730"===t&&(O="csgo");var R=encodeURIComponent("/market/".concat(O,"#tab=selling&page_num=1&search=").concat(n));o="".concat(r,"?subid1=").concat(R,"&subid2=buff163").concat(a?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var N=n,L="";"730"===t&&(L="csgo");var P=encodeURIComponent("/market/".concat(L,"?keyword=").concat(N));o="".concat(r,"?subid1=").concat(P,"&subid2=igxe").concat(a?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var D=encodeURIComponent("/buy?query=".concat(n));o="".concat(r,"?subid1=").concat(D,"&subid2=gamerpay").concat(a?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var U=n,H=encodeURIComponent("appId=".concat(t,"&q=").concat(U));o="".concat(r,"?subid1=").concat(H,"&subid2=skinmonkey").concat(a?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var B=n,G=encodeURIComponent("appId=".concat(t,"&q=").concat(B));o="".concat(r,"?subid1=").concat(G,"&subid2=skinmonkey").concat(a?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){var M=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();o="".concat(r,"?subid1=").concat(M,"&subid2=skinout").concat(a?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){var K=n;o="".concat(r,"?subid1=").concat(K,"&subid2=whitemarket").concat(a?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){var $=encodeURIComponent(n.replace(/&/,""));o="".concat(r,"?subid1=").concat($,"&subid2=haloskins").concat(a?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){var J=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase(),j="".concat(t,"/").concat(J);o="".concat(r,"?subid1=").concat(j,"&subid2=cs2go").concat(a?"-side-menu":"")}if("rustskins"===e&&["252490"].includes(t)){var V="".concat(n);o="".concat(r,"?subid1=").concat(V,"&subid2=rustskins").concat(a?"-side-menu":"")}if("csdeal"===e&&["730","570","440","252490"].includes(t)){var F="";"730"===t&&(F="csgo"),"440"===t&&(F="tf2"),"570"===t&&(F="dota2"),"252490"===t&&(F="rust");var Y=encodeURIComponent(n.replace(/&/,"")),W="".concat(Y,"&game=").concat(F);o="".concat(r,"?subid1=").concat(W,"&subid2=cs.deals").concat(a?"-side-menu":"")}if("sihmarket"===e&&["730"].includes(t)){var Z=encodeURIComponent(n);o="".concat(r,"?subid1=").concat(Z,"&subid2=sih.app").concat(a?"-side-menu":"")}if("csmarket"===e&&["730"].includes(t)){var z=encodeURIComponent("".concat(n,"&sortBy=price&utm_source=sih&utm_medium=cpm&utm_campaign=first"));o="".concat(r,"?subid1=").concat(z,"&subid2=csmarket").concat(a?"-side-menu":"")}if("steamLiveSell"===e&&["730"].includes(t)){var q=encodeURIComponent("".concat(n));o="".concat(r,"?subid1=").concat(q,"&subid2=steam").concat(a?"-side-menu":"")}return i&&(o="".concat(o,"&subid3=").concat(i)),o}));const H=new U;function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function G(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function K(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,J(a.key),a)}}function $(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=B(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}var j=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(this,"getOrderStatusText",(function(t){return e._buyOrderStatusEnum[t]})),$(this,"getLoginSihAppUser",(function(){return new Promise((function(e,t){sih_app_account?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(t){t.success&&Object.keys(t).length||chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},(function(t){e(t)})),t.success&&Object.keys(t).length?e(t):e({success:!1})})):e({success:!1,auth:!1})}))})),$(this,"getUserSihApp",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},(function(t){e(t)}))}))})),$(this,"getSubscribeAds",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(t){e(t)}))}))})),$(this,"getSubscribeAdsPlans",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},(function(t){e(t)}))}))})),$(this,"getDaysNumber",(function(e){var t=(new Date).toUTCString(),n=new Date("".concat(t)).getTime(),a=new Date("".concat(e)).getTime()-n,i=Math.round(a/36e5);return i>24?{days:Math.ceil((i-24)/24)}:{hours:i}})),$(this,"setItemToBuyStack",(function(n){var a=n.hashName,i=void 0===a?null:a,r=n.countAdd,o=void 0===r?1:r,s=n.statusCode,l=void 0===s?null:s,c=n.steamId,d=void 0===c?null:c,_=n.appId,u=void 0===_?"730":_,m=n.price,h=void 0===m?null:m,f=n.image,p=n.url,v=n.gameName,g=void 0===v?null:v,b=n.color,y=void 0===b?"rgb(210, 210, 210)":b,S=n.rarityColor,C=void 0===S?"default":S,E=n.itemId,I=void 0===E?null:E;return new Promise((function(n,a){var r=H.getMarkets().find((function(e){return"sihmarket"===e.name}));if(g||(g=e._gameNames[u]),r||h){var s=h||H.getPriceMarket(r);if(s&&(s.price||h)){var c=A(),_=i||encodeURIComponent(c.marketHashName);t.getAllItemsBuyStackByName(_).then((function(r){for(var m=t.getFilterItemsByStatus(r,l),v=[],b=o>1?o-m.length:o,S=f||$J(".market_listing_largeimage").find("img").attr("src"),A=g||$J(".market_listing_nav > a:nth(0)").text(),E=y||$J("#largeiteminfo_item_name").css("color"),w=u&&i?"".concat(u,"/").concat(i):"".concat(c.appId,"/").concat(encodeURIComponent(c.marketHashName)),x=0;x<b;x++){var T,k={appid:u||c.appId,market_hash_name:i?decodeURIComponent(i):c.marketHashName,price:h||s.price,providerName:"sih",steam_id:d||(null!==(T=window)&&void 0!==T&&T.g_steamID?window.g_steamID:sih_steamID),custom_trade_link:null,createdAt:Date.now()+x+1,image:S,url:p||window.location.href,gameName:A,hashMarket:w,color:E,isChecked:!0,rarityColor:C||"default",itemId:I||null};null!==l&&(k.status=l),v.push(k)}if(c&&encodeURIComponent(c.marketHashName)===_&&730==+Object.keys(g_rgAssets)[0]){var O=+Object.keys(g_rgAssets[730]||{})[0],R=Object.values(g_rgAssets[730][O])[0];e.getRarityColor(730,R.classid,R.instanceid).then((function(t){v.forEach((function(e){e.rarityColor=t})),e.setPreparedDataToBuyStack(_,v).then((function(e){n(e)})).catch((function(e){a(e)}))}))}else e.setPreparedDataToBuyStack(_,v).then((function(e){n(e)})).catch((function(e){a(e)}))}))}}else i&&t.getAllItemsBuyStackByName(i).then((function(e){var r=t.getFilterItemsByStatus(e,l);if(r.length){for(var s=r.map((function(e){return e.createdAt})),c=r.find((function(e){return e.createdAt===Math.max.apply(Math,G(s))})),d=o>1?o-r.length:o,_=[],u=0;u<d;u++){var m=Object.assign({},c);m.createdAt=Date.now()+u+1,_.push(m)}var h=$({},i,[].concat(G(e),_));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:h},(function(e){e.success?n(h[i]):a(e)}))}}))}))})),$(this,"deleteItemFromBuyStack",(function(e){var n=e.hashName,a=e.argCountDelete,i=void 0===a?null:a,r=e.statusCode,o=void 0===r?null:r,s=e.itemId,l=void 0===s?null:s;return new Promise((function(e,a){t.getAllItemsBuyStackByName(n).then((function(r){var s=t.getFilterItemsByStatus(r,o),c=s.length-(null!==i?i:s.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:n,statusCode:o,countDelete:c,itemId:l}},(function(i){t.getAllItemsBuyStackByName(n).then((function(t){i.success?e(t):a(i)}))}))}))}))})),$(this,"getAllBuyStack",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},(function(t){e(t)}))}))})),$(this,"getFilterItemsByStatus",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter((function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status}))||[]})),$(this,"updateSIHMarketPrice",(function(){return new Promise((function(e,n){t.getAllBuyStack().then((function(t){if(t.length>0){var n=[],a=[],i=[];t.forEach((function(e){e.itemId?n.push(e.itemId.toString()):a.push(e.market_hash_name)})),n.length&&i.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{itemIds:n}},(function(n){n.success?e(n.data):t()}))}))),a.length&&i.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{items:a}},(function(n){n.success?e(n.data):t()}))}))),Promise.all(i).then((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{items:t.flat()}},(function(t){e(t)}))})).catch((function(){e()}))}else e()}))}))})),$(this,"changeItemsStatus",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},(function(){t()}))}))})),$(this,"cancelSihAppOrder",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),$(this,"updateItemLocalHistoryOrders",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),$(this,"getUserOrdersHistory",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(a){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:n}},(function(e){a(e)}))}))})),$(this,"createBuyOrder",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},(function(t){e(t)}))}))})),$(this,"getTopSales",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},(function(e){t(e)}))}))})),$(this,"getLogs",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},(function(t){e(t)}))}))})),$(this,"readAllNotification",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},(function(t){e(t)}))}))})),$(this,"renderTextLog",(function(t){return"".concat(e._buyOrderErrorsEnum[t.error]?"".concat(e._buyOrderErrorsEnum[t.error]," <br>"):t.error||t.message||"".concat(SIHLang.sihAppMarket.orders.order," № ").concat(t.orderId," ").concat(SIHLang.sihAppMarket.orders.successful_operation," <br>")," ").concat(t.itemData?"".concat(t.itemData.market_hash_name," <br>"):""," ").concat(t.itemData?"".concat(SIHLang.sihAppMarket.orders.price,": ").concat(t.itemData.price," <br>"):"")})),$(this,"getLogTemplateByGroup",(function(e){var n;if("bookmarks"===e.groupType){var a=H.getLink(e.itemData.marketName||"buff163",e.itemData.appId||"730",e.itemData.market_hash_name,e.itemData.market_hash_name),i=d.getPriceFromCurrency(e.itemData.price,e.itemData.currencyId||1).text;n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(e.title,'</span>\n            <a href="').concat(a,'" target="_blank" class="text text_blue hover-opacity-8"\n              >').concat(e.itemData.market_hash_name,'</a\n            >\n          </div>\n          <div class="row gap-5 items-end pb-2">\n            \x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n            <img\n              class="notification-panel__icon"\n              src="chrome-extension://').concat(SIHID,"/assets/marketplace/mini-icons/").concat(e.itemData.marketName||"buff163",'.svg"\n              alt="').concat(e.itemData.marketName||"buff163",'"\n            />\n            <span class="text text_green whitespace-nowrap">').concat(i,"</span>\n          </div>\n        ")}else n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.notifications[e.title],'</span>\n            <span class="text ').concat(e.success?"text_green":"text_red",'">').concat(t.renderTextLog(e),"</span>\n          </div>\n        ");return n})),$(this,"validateInput",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)||e<=n?n:e>=t?Math.ceil(t):a?Math.floor(1e3*e)/1e3:Math.ceil(e)})),$(this,"getSubscribeAdsMethods",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},(function(t){e(t)}))}))})),$(this,"getLinkForInvoice",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},(function(e){n(e)}))}))})),$(this,"updateTradeLink",(function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})})),$(this,"getSihAppToken",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},(function(t){e(t)}))}))})),$(this,"getAutoLoadFloats",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},(function(t){e(t)}))}))})),$(this,"errorHandler",(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";a.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click((function(){window.location.reload()}))),0===n.length?t.append('<span class="sih-modal__text sih-modal__error_message">'.concat("Error! "+a,"</span>")):(n.text("".concat("Error! "+a)),n.hasClass("blink")?(n.removeClass("blink"),setTimeout((function(){n.addClass("blink")}),100)):n.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()})),this.getAllItemsBuyStackByName=e.getAllItemsBuyStackByName}return t=e,a=[{key:"setPreparedDataToBuyStack",value:function(t,n){var a=this;return new Promise((function(i,r){e.getAllItemsBuyStackByName(t).then((function(e){var o=$({},t,[].concat(G(e),G(n)));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:o},(function(e){e.success?a.getAllItemsBuyStackByName(t).then((function(e){i(e)})):r(e)}))}))}))}},{key:"getRarityColor",value:function(e,t,n){return new Promise((function(a,i){$J.ajax({url:"https://steamcommunity.com/economy/itemclasshover/".concat(e,"/").concat(t,"/").concat(n,"?content_only=1&l=english"),cache:!0}).done((function(e){var t=/BuildHover\( '(.*)', (.*)\);/i.exec(e);switch(JSON.parse(t[2]).tags.find((function(e){return"Rarity"===e.category})).name.toLowerCase()){case"consumer grade":case"base grade":a("b0c3d9");break;case"mil-spec grade":case"distinguished":case"high grade":a("4b69ff");break;case"industrial grade":a("5e98d9");break;case"restricted":case"exceptional":case"remarkable":a("8847ff");break;case"classified":case"superior":case"exotic":a("d32ce6");break;case"covert":case"extraordinary":case"master":a("eb4b4b");break;case"contraband":a("e4ae39")}})).fail((function(e){i(e)}))}))}},{key:"getAllItemsBuyStackByName",value:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},(function(e){t(e)}))}))}}],(n=null)&&K(t.prototype,n),a&&K(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();$(j,"_buyOrderStatusEnum",{ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized}),$(j,"_buyOrderErrorsEnum",{"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed,"max retries reached":SIHLang.sihAppMarket.orders.errors.max_retries_reached}),$(j,"_gameNames",{730:"Counter-Strike 2",252490:"Rust",440:"TF2"});const V=new j;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,q(a.key),a)}}function z(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=F(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}var X=function(){return e=function e(t){var n=t.eventGroup,a=t.eventType,i=void 0===a?e.EVENT_TYPE:a,r=t.messageType,o=void 0===r?e.MESSAGE_TYPE:r,s=t.lang,l=void 0===s?e.DEFAULT_LANG:s,c=t.country,d=void 0===c?e.DEFAULT_COUNTRY:c,_=t.uid,u=void 0===_?e.DEFAULT_UID:_,m=t.location,h=void 0===m?h&&h.href||"":m,f=t.SIHID,p=void 0===f?window.SIHID:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventGroup=n,this.eventType=i,this.messageType=o,this.location=h,this.SIHID=p,this.lang=l,this.country=d,this.uid=u},t=[{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={type:this.eventType,payload:W({uid:this.uid,country:this.country,lang:this.lang,group:this.eventGroup,link:this.location},e)};chrome.runtime.sendMessage(this.SIHID,{type:this.messageType,data:t})}}],t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ce(a.key),a)}}function ae(e,t,n){return t=oe(t),function(e,t){if(t&&("object"==Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,n||[],oe(e).constructor):t.apply(e,n))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}function re(){return re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},re.apply(null,arguments)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e,t,n){return(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}z(X,"EVENT_TYPE","events"),z(X,"MESSAGE_TYPE","EVENT_STORE"),z(X,"DEFAULT_COUNTRY","n/a"),z(X,"DEFAULT_LANG","n/a"),z(X,"DEFAULT_UID","n/a");var de=function(e){function t(e){var n,a=e.eventType,i=void 0===a?t.EVENT_TYPE:a,r=e.messageType,o=void 0===r?t.MESSAGE_TYPE:r,s=e.SIHID,l=void 0===s?window.SIHID:s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,t,[{eventGroup:t.EVENT_GROUP,eventType:i,messageType:o,SIHID:l}])).eventType=i,n.messageType=o,n.SIHID=l,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(t,e),n=t,a=[{key:"register",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getUID(this.SIHID).then((function(a){return(i=t,r="register",o=e,l=re(oe(1&(s=3)?i.prototype:i),r,o),2&s&&"function"==typeof l?function(e){return l.apply(o,e)}:l)([te({uid:a,country:(g_strCountryCode||"").toLowerCase(),lang:(g_strLanguage||"").toLowerCase(),data:{steamId:g_steamID}},n)]);var i,r,o,s,l}))}}],i=[{key:"getUID",value:function(e){try{return new Promise((function(t){chrome.runtime.sendMessage(e,{type:"BACKGROUND_GET_SIH_TOKEN"},t)}))}catch(e){}}}],a&&ne(n.prototype,a),i&&ne(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(X);le(de,"EVENT_GROUP","inventory-page-events"),le(de,"EVENT_TYPE","events"),le(de,"MESSAGE_TYPE","EVENT_STORE");function _e(){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2"),t=e.find(".sih_market__row--cart-counter"),n=e.find("#sih_market__cart-count-input"),a=e.find("#sih_market__add-to-cart"),i=A().marketHashName,r=encodeURIComponent(i);V.getAllItemsBuyStackByName(r).then((function(e){var r=V.getFilterItemsByStatus(e),o=r.length;o?r.find((function(e){return e.market_hash_name===i}))&&(n.val(o),"none"===t.css("display")&&(t.show(),a.find(".sih_market__in-cart").css("display","flex").show(),a.find(".sih_market__text").text(""))):(t.hide(),a.find(".sih_market__in-cart").hide(),a.find(".sih_market__text").text(SIHLang.sihAppMarket.listing_lot.add_cart))}))}var ue=function(){var e=$J("#sih-market-listing").find(".sih-market-listing__item");V.getAllBuyStack().then((function(t){e.each((function(e,n){var a=$J(n),i=a.find(".sih-market-listing__name").text(),r=a.find(".sih-market-listing__cart-info"),o=a.find(".sih-market-listing__cart-price"),s=a.find(".sih-market-listing__sih-price").data("itemid"),l=t.find((function(e){return e.itemId||s?e.market_hash_name===i&&e.itemId===s:e.market_hash_name===i}));if(l&&l.status)a.addClass("sih-market-listing__item_processing"),r.text(SIHLang.sihAppMarket.listing_lot.already_in),r.addClass("fs-12 lh-16"),o.text(SIHLang.sihAppMarket.listing_lot.processing),o.addClass("fs-12");else{a.removeClass("sih-market-listing__item_processing"),r.text("".concat(l?SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for)),r.removeClass("fs-12 lh-16").addClass("fs-10");var c=m.get("SIH_MARKET_CURRENCY"),_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=d.getPriceFromCurrency(e,t,n,a,i),o=r.price,s=r.symbolPosition,l=r.symbol;return o>1e5&&(o=Math.ceil(o)),2!==i&&o>.03&&(i=2),"".concat("before"===s?l:""," ").concat((+o.toFixed(i)).toLocaleString("ru").replace(",",".")," ").concat("after"===s?l:"")}(a.find(".sih-market-listing__sih-price").data("price"),c||1,1,!1,3);o.text(_),o.removeClass("fs-12")}}));var n=e.find(".sih-market-listing__sih-price");me(n)}))},me=function(e){var t=70;e.each((function(e,n){$J(n).css("width","auto");var a=+$J(n).css("width").replace("px","");a>t&&(t=a)})),e.each((function(e,n){$J(n).css("width","".concat(t,"px"))}))};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ye(a.key),a)}}function ge(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,n){return(t=ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=he(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==he(t)?t:t+""}var Se=ge((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),be(this,"getWearInfo",(function(t){var n=e._skinWear.find((function(e){return t.includes(e.wearFull)})),a=t.includes("StatTrak™"),i=t.includes("Souvenir");return n?pe(pe({},n),{},{name:t,stattrak:a,souvenir:i}):null})),be(this,"getSplitName",(function(e){var n=e.split("|"),a=n[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),i=2===n.length?n[1]:n.splice(1,n.length).join("|"),r=t.getWearInfo(e),o=r&&null!=r&&r.wearFull?i.replace("(".concat(null==r?void 0:r.wearFull,")"),"").trim():null;return{skinTagName:a,skinName:i,nameWithoutWear:o}}))}));be(Se,"_skinWear",[{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59",priorityPosition:1},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B",priorityPosition:2},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154",priorityPosition:3},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D",priorityPosition:4},{wearFull:"Factory New",wearShort:"FN",color:"#5EB648",priorityPosition:5}]);const Ce=new Se;var Ae=null;function Ee(e){Ie(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}var Ie=function(e,t){e.find(".sih-top-sales").length&&e.find(".sih-top-sales").remove(),we(e,t);var n={offset:Math.floor(10*Math.random()+1),limit:5,appId:730};V.getTopSales(t||n).then((function(a){var i=a.data;a.pagination;Te().then((function(){if(i&&i.length){var a=$J('\n          <div class="sih-global sih-top-sales">\n            <span class="title sih-modal__text_md"\n              >'.concat(e.closest("#skins-refilling").length?"".concat(SIHLang.skinsRefilling.modal.top_sales_title):SIHLang.sihAppMarket.topSales.title,'</span\n            >\n            <div class="sih-top-sales__content row items-stretch gap-12"></div>\n          </div>\n        ')),r=$J('\n          <a href="javascript:void(0)" class="row items-center sih-top-sales__refresh">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n          </a>\n        ');a.find(".sih-top-sales__content").append(r),e.find(".sih-top-sales").length||(e.append(a),Oe(i,730).then((function(){$J(".sih-top-sales__content").find(".sih-top-sales__item").fadeIn(),ke(t||n)})))}else xe(e,t)}))}))},we=function(e,t){for(var n=(t||{limit:5}).limit,a=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__fake">\n      <div class="w-265 h-18 bg-grey rounded-4"></div>\n      <div class="sih-top-sales__content row items-center gap-12"></div>\n    </div>\n  '),i=0;i<n;i++)a.find(".sih-top-sales__content").append('<div class="sih-top-sales__item h-197 bg-grey rounded-4"></div>');if(n<=5){a.find(".sih-top-sales__content").append('<div class="w-24 h-24 rounded-50per bg-grey"></div>')}e.find(".sih-top-sales__fake").length||e.append(a)},xe=function(e,t){var n=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__empty">\n      <div class="column w-320 justify-center gap-20">\n        <span class="text text_white fs-24 bold">'.concat(SIHLang.sihAppMarket.topSales.plug_tab.title,'</span>\n        <span class="text text_white">').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_1,'</span>\n        <a href="javascript:void(0)" class="relative text text_blue"\n          >').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_2,"</a\n        >\n      </div>\n    </div>\n  "));n.find("a").off("click").click((function(){$J(".sih-top-sales__empty").fadeOut(300,(function(){$J(".sih-top-sales__empty").remove(),Ie(e,t)}))})),e.find(".sih-top-sales__empty").length||e.append(n)},Te=function(){return new Promise((function(e){$J(".sih-top-sales__fake").fadeOut(500,(function(){e(),$J(".sih-top-sales__fake").remove()}))}))},ke=function(e){Ne(e),Le()},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:730;return new Promise((function(n,a){V.getAllBuyStack().then((function(a){e.reverse().forEach((function(e){var n=Ce.getWearInfo(e.item),i=Ce.getSplitName(e.item),r=i.skinTagName,o=i.skinName,s=encodeURIComponent(e.item),l=d.getPriceFromCurrency(e.steamPrice,1,1).text,c=d.getPriceFromCurrency(e.price,1,1,!1,3).text,_=a.find((function(t){return t.itemId||e.id?t.market_hash_name===e.item&&+t.itemId==+e.id:t.market_hash_name===e.item})),u=$J('\n          <a\n            href="https://steamcommunity.com/market/listings/'.concat(t,"/").concat(s,'"\n            class="sih-top-sales__item column justify-between"\n            style="display: none"\n          >\n            <div class="row justify-between px-8">\n              <div class="row items-center gap-5">\n                <div\n                  class="row w-8 h-8 rounded-50per"\n                  style="background-color: ').concat(n&&n.color?n.color:"transparent",'"\n                ></div>\n                <span class="sih-top-sales__wear-short text fs-12"\n                  >').concat(n&&n.wearShort?n.wearShort:"",'</span\n                >\n              </div>\n\n              <span class="text text_green-900 fs-12">-').concat(Math.ceil(100*e.profitPercent)/100,' %</span>\n            </div>\n            <div class="row justify-center">\n              <div class="sih-top-sales__image">\n                <img\n                  src="https://community.cloudflare.steamstatic.com/economy/image/').concat(e.image,'"\n                  alt="').concat(e.item,'"\n                />\n              </div>\n            </div>\n            <div class="column px-8 sih-top-sales__name-block" title="').concat(e.item,'">\n              <span class="text text_light-grey fs-10">').concat(r,'</span>\n              <span class="text fs-12 sih-top-sales__item-name">').concat(o,'</span>\n            </div>\n            <div class="column gap-8 mt-11 px-8">\n              <div class="row items-center gap-5">\n                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2C6.73 2 2.43 6.05 2 11.2L7.38 13.41C7.83 13.1 8.38 12.92 8.97 12.92L9.13 12.93L11.5 9.47V9.42C11.5 7.34 13.2 5.65 15.28 5.65C17.36 5.65 19.05 7.34 19.05 9.42C19.05 11.5 17.36 13.19 15.28 13.19H15.2L11.8 15.62V15.75C11.8 17.31 10.53 18.58 8.97 18.58C7.6 18.58 6.45 17.6 6.19 16.31L2.36 14.73C3.55 18.92 7.4 22 12 22C12.8828 22 13.7536 21.8833 14.5917 21.6583C13.6124 20.7456 13 19.4443 13 18C13 15.2386 15.2386 13 18 13C19.4443 13 20.7456 13.6124 21.6583 14.5917C21.8833 13.7536 22 12.8828 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612ZM10.33 16.33C10 17.13 9.08 17.5 8.28 17.17L7.06 16.67C7.27 17.12 7.65 17.5 8.15 17.71C9.23 18.16 10.5 17.64 10.93 16.56C11.15 16.04 11.15 15.46 10.93 14.94C10.72 14.41 10.31 14 9.78 13.79C9.26 13.57 8.71 13.58 8.22 13.76L9.5 14.29C10.28 14.62 10.66 15.53 10.33 16.33ZM15.28 11.94C16.67 11.94 17.8 10.81 17.8 9.42C17.8 8.04 16.67 6.91 15.28 6.91C14.95 6.90868 14.623 6.9727 14.3179 7.09837C14.0128 7.22404 13.7356 7.40887 13.5022 7.64221C13.2689 7.87555 13.084 8.15278 12.9584 8.4579C12.8327 8.76303 12.7687 9.09001 12.77 9.42C12.77 10.81 13.9 11.94 15.28 11.94ZM15.29 11.31C14.24 11.31 13.4 10.46 13.4 9.42C13.4 8.38 14.24 7.53 15.29 7.53C16.33 7.53 17.17 8.38 17.17 9.42C17.17 10.46 16.33 11.31 15.29 11.31Z"\n                    fill="white"\n                  />\n                  <circle cx="18" cy="18" r="3" fill="#3DC67D" />\n                </svg>\n\n                <span class="sih-top-sales__price max-w-90 text text_light-grey fs-12"\n                  >').concat(l,'</span\n                >\n              </div>\n\n              <button\n                class="sih-top-sales__in-cart-btn sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-4 py-8 px-24 rounded-4"\n                data-price="').concat(e.price,'"\n                data-rarity-color="').concat(e.color||"",'"\n                data-itemid="').concat(e.id||"",'"\n              >\n                ').concat(_?"":'<img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket">'),'\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n                  >').concat(_?SIHLang.sihAppMarket.listing_lot.in_cart:c,"</span\n                >\n              </button>\n            </div>\n          </a>\n        ")),m=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #F39227">ST</span>\n            <span class="text fs-12">|</span>\n          </div>\n        '),h=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #FFC700">SV</span>\n            <span class="text fs-12">|</span>\n          </div>\n        ');n&&n.stattrak&&u.find(".sih-top-sales__wear-short").before(m),n&&n.souvenir&&u.find(".sih-top-sales__wear-short").before(h),u.find(".sih-top-sales__name-block").tooltip({classes:{"ui-tooltip":"sih-top-sales__tooltip"},position:{my:"left top",at:"left bottom+10"}}),Re(u),$J(".sih-top-sales__content").prepend(u)})),Le(),n()}))}))},Re=function(e){e.off("click").click((function(){E.getLocal("SIH_MARKET_LISTINGS_INFO").then((function(e){1!==e.indexBlockBestOfferOfMarketplaceTabs&&(e.indexBlockBestOfferOfMarketplaceTabs=1,e.set(e))}))}))},Ne=function(e){var t=$J(".sih-top-sales");t.find(".sih-top-sales__refresh").off("click").click((function(){t.hide(),we($J(".sih-modal__inner .sih-modal__bottom"),e);var n=$J(this);!n.hasClass("pointer-events-none")&&n.addClass("pointer-events-none");var a=t.find(".sih-top-sales__item");a.each((function(e,t){$J(t).append('<div class="animated-item"></div>')})),clearTimeout(Ae),Ae=setTimeout((function(){e.offset=Math.floor(10*Math.random()+1),V.getTopSales(e).then((function(i){var r=i.data,o=(i.pagination,0);r&&r.length&&a.fadeOut(300,(function(){++o===r.length&&(t.find(".sih-top-sales__item").remove(),Oe(r,e.appId).then((function(){Te().then((function(){var e=t.find(".sih-top-sales__item");t.fadeIn(),e.fadeIn(),n.removeClass("pointer-events-none")}))})))}))}))}),500)}))},Le=function(){$J(".sih-top-sales").find(".sih-top-sales__in-cart-btn").off("click").click((function(e){e.preventDefault(),e.stopPropagation();var t=$J(this).closest(".sih-top-sales__item"),n=t.find(".sih-top-sales__name-block").attr("title"),a=encodeURIComponent(n),i=+t.find(".sih-top-sales__in-cart-btn").data("price"),r=t.find(".sih-top-sales__in-cart-btn").data("rarityColor"),o=t.find(".sih-top-sales__image img").attr("src"),s=t.attr("href"),l=t.find(".sih-top-sales__in-cart-btn").data("itemid"),c={appId:"730",hashName:a,countAdd:1,price:i,image:o,url:s,rarityColor:r,itemId:l};V.getAllBuyStack().then((function(e){var i=e.find((function(e){return e.itemId||l?e.market_hash_name===n&&+e.itemId==+l:e.market_hash_name===n}));i?V.deleteItemFromBuyStack({hashName:a,itemId:l}).then((function(){r()})):V.setItemToBuyStack(c).then((function(){r()}));var r=function(){var e=t.find(".sih-top-sales__in-cart-btn");Ba(),_e(),ue(),t.closest("#sih-modal__buy-orders").length?Yt("cart-tab").then((function(){Pe(e,!!i),ft(null,!1)})):Pe(e,!!i)}}))}))},Pe=function(e,t){if(t){var n=d.getPriceFromCurrency(e.data("price"),1,1,!1,3).text;e.html('\n      <img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket" />\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >').concat(n,"</span\n      >\n    "))}else e.html('\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >'.concat(SIHLang.sihAppMarket.listing_lot.in_cart,"</span\n      >\n    "))};function De(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var He=1;function Be(){var e,t;e=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner"),t='\n    <div class="orders-tab__content orders-history-tab__content hidden"></div>\n    <div id="pagination-container"></div>\n  ',e.find(".orders-history-tab__content").length||e.append(t)}function Ge(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-history-tab__content");e.find(".orders-tab__item").remove(),e.find(".orders-tab__plug").remove(),V.getUserOrdersHistory().then((function(t){if(t.success||t.tfaNeed)if(t.orders.data.length){var n=V.getFilterItemsByStatus(t.orders.data,["failed","finished","penalized"]);n.length&&rt(),Me(n,t.orders.pagination)}else{var a=$J('\n          <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n            <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n          </div>\n        "));e.find(".orders-tab__plug").length||e.append(a)}else{var i=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n          <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n          <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n        </div>\n      "));e.find(".orders-tab__plug").length||e.append(i)}it()}))}function Me(e,t){var n=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),a=n.find(".orders-history-tab__content"),i=n.find("#pagination-container");function r(n){var a=$J(n.currentTarget).attr("data-num").trim();if(a&&10*a>t.perPage*t.page){for(var r=t.page,o=Math.ceil(10*a/t.perPage),s=[],l=r+1;l<=o;l++)s.push(V.getUserOrdersHistory(!1,l));at().then((function(){Promise.all(s).then((function(t){var n,r=[];t.forEach((function(t){var a=V.getFilterItemsByStatus(t.orders.data,["failed","finished","penalized"]);r=r.length?[].concat(De(r),De(a)):[].concat(De(e.map((function(e){return e}))),De(a)),n=t.orders.pagination})),Me(r,n),i.pagination(a),it()}))}))}}e.length<=t.total&&(e.length=t.total),i.pagination({dataSource:e,pageSize:10,afterNextOnClick:function(e){r(e)},afterPageOnClick:function(e){r(e)},callback:function(e){var t=function(e){var t='<div class="sih-modal__column gap-10">';return e.forEach((function(e){var n=d.getPriceFromCurrency(e.item_amount/1e3,He,1,!1,3).text,a=new Date(e.created_at).toLocaleString();t+='\n      <div class="orders-tab__item item sih-modal__column rounded-8">\n        <div class="sih-modal__row sih-modal__text sih-modal__text_xl">\n          '.concat(SIHLang.sihAppMarket.orders.order," #").concat(e.id,'\n        </div>\n\n        <div class="sih-modal__row justify-between mt-20">\n          \x3c!--TODO: change appid when the store is expanded--\x3e\n\n          <div class="sih-modal__column gap-10">\n            <div class="sih-modal__row items-start gap-15">\n              <a\n                href="https://steamcommunity.com/market/listings/730/').concat(encodeURIComponent(e.item_name),'"\n                class="item__image"\n              >\n                <img\n                  src="https://community.cloudflare.steamstatic.com/economy/image/').concat(e.item_info.image,'"\n                  alt="').concat(e.item_name,'"\n                />\n              </a>\n\n              <div class="sih-modal__column gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(e.item_name,'</span>\n                <span class="sih-modal__text sih-modal__text_md">').concat(n,'</span>\n                <span class="sih-modal__text sih-modal__text_sm">').concat(V.getOrderStatusText(e.status),"</span>\n              </div>\n            </div>\n\n            ").concat(e.sender?'\n                        <div class="sih-modal__row items-start gap-15">\n\n                           <div class="item__image '.concat(e.sender.avatar?"bg-grey":"",'">\n\n                              ').concat(e.sender.avatar?'<img src="'.concat(e.sender.avatar.match(/https:/g)?e.sender.avatar:"https://avatars.steamstatic.com/".concat(e.sender.avatar,"_medium.jpg"),'" alt="').concat(e.sender.nickname?e.sender.nickname:"",'">'):"",'\n\n                           </div>\n\n\n                            <div class="sih-modal__column gap-5">\n                              ').concat(e.sender.nickname?'<span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.sihAppMarket.orders.sender,": ").concat(e.sender.nickname,"</span>"):"","\n                              ").concat(e.sender.offerId?'<span class="sih-modal__text sih-modal__text_sm">'.concat(SIHLang.sihAppMarket.orders.trade_number_text,": ").concat(e.sender.offerId,"</span>"):"","\n                            </div>\n                        </div>\n                     "):"",'\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.order_date,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(a,'</div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(e.steam_id,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")})),t+="</div>",t}(e);a.html(t)}})}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function $e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Ve="SIH_MARKET_TAB",Fe=1,Ye=null,We=null,Ze=6e5,ze=["created","processing","sent"];function qe(){var e,t;e=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner"),t='\n    <div class="orders-tab__content orders-active-tab__content sih-modal__column gap-10"></div>\n  ',e.find(".orders-active-tab__content").length||e.append(t)}function Xe(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab").find(".orders-active-tab__content").removeClass("empty");t.find(".orders-tab__item").remove(),t.find(".orders-tab__plug").remove(),V.getAllBuyStack().then((function(n){V.getUserOrdersHistory().then((function(a){var i=n;a&&a.success&&!a.tfaNeed&&a.orders.data.length&&(i=[].concat(Je(i),Je(a.orders.data)));var r=V.getFilterItemsByStatus(i,["new","pending","created","processing","sent"]);if(!r.length||a.tfaNeed){var o=$J('\n          <div\n            class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20 mt-31 mb-50"\n          >\n            <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_active_title,'</span>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,'</span>\n            <a\n              href="javascript:void(0)"\n              class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n              >SIH Market</a\n            >\n          </div>\n        '));t.append(o),$J(".orders-active-tab__content").addClass("empty"),Ee($J(".orders-active-tab__content")),e.find(".sih-go-market").off("click").click((function(){E.getLocal(Ve).then((function(e){e.openTab=!0,E.setLocal(Ve,e)})),window.open("https://steamcommunity.com/market/","_self")}))}else{var s=r.sort((function(e,t){return t.orderAt-e.orderAt}));s.forEach((function(e,n){var a=d.getPriceFromCurrency(e.price||e.item_amount/1e3,Fe,1,!1,3).text,i=new Date(e.orderAt||e.created_at).toLocaleString(),r=$J('\n            <div class="orders-tab__item item sih-modal__column rounded-8">\n              '.concat(e.id?'<div class="sih-modal__row sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.order," #").concat(e.id,"</div>"):"",'\n              <div class="sih-modal__row mt-20 justify-between">\n                <div class="item__left-side sih-modal__row items-start gap-15">\n                  ').concat(e.item_info?'<a href="https://steamcommunity.com/market/listings/'.concat(e.app_id,"/").concat(encodeURIComponent(e.item_name),'"\n                         class="item__image">\n                        <img src="https://community.cloudflare.steamstatic.com/economy/image/').concat(e.item_info.image,'"\n                             alt="').concat(e.item_name,'">\n                      </a>'):'\n                        <a href="https://steamcommunity.com/market/listings/'.concat(e.appid,"/").concat(encodeURIComponent(e.market_hash_name),'" class="item__image">\n                            <img src="').concat(e.image.replace("/360fx360f",""),'" alt="').concat(e.market_hash_name,'">\n                        </a>\n                      '),'\n\n                  <div class="sih-modal__column gap-5">\n                    <span class="item__name sih-modal__text sih-modal__text_md"\n                      >').concat(e.market_hash_name||e.item_name,'</span\n                    >\n                    <span class="sih-modal__text sih-modal__text_md">').concat(a,'</span>\n                    <div class="item__status-block sih-modal__row items-center gap-8">\n                      <span\n                        class="item__status sih-modal__text sih-modal__text_sm"\n                        data-status="').concat(e.status,'"\n                        ').concat("pending"===e.status?'title="'.concat(SIHLang.sihAppMarket.orders.pending_payment_tooltip,'"'):"","\n                        >").concat(V.getOrderStatusText(e.status),'</span\n                      >\n                    </div>\n                    <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                    <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                      <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="item__right-side sih-modal__column w-320 gap-15">\n                  <div class="sih-modal__row justify-between">\n                    <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                      ').concat(SIHLang.sihAppMarket.orders.order_date,'\n                    </div>\n                    <div class="sih-modal__text sih-modal__text_md">').concat(i,'</div>\n                  </div>\n\n                  <div class="sih-modal__row justify-between">\n                    <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                      ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n                    </div>\n                    <div class="sih-modal__text sih-modal__text_md">').concat(e.steam_id,"</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          "));e.createdAt?r[0].createdTimestamp=e.createdAt:e.created_at&&(r[0].createdTimestamp=new Date(e.created_at).getTime()),r.find(".item__status").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),t.append(r)})),function(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab"),n=t.find(".orders-active-tab__content");function a(){var e=n.find(".item__spinner"),t=n.find(".item__timer"),a=n.find(".item__left-to-pay"),i=n.find(".item__left-to-pay--button");e.css("display","flex").hide().fadeOut(),t.css("display","flex").hide().fadeOut(),a.remove(),i.remove(),at().then((function(){Ba(),_e(),Ga(),Xe(),Ge(),ue()}))}clearInterval(Ye),Ye=setInterval((function(){V.getAllBuyStack().then((function(e){V.getUserOrdersHistory().then((function(t){var i=e;t&&t.success&&t.orders.data.length&&(i=[].concat(Je(i),Je(t.orders.data)));var r=V.getFilterItemsByStatus(i,["new","pending","created","processing","sent"]);if(r.length){var o=r.find((function(e){return e.finishOrderAt})),s=r.map((function(e){return e.createdAt?e.createdAt:new Date(e.created_at).getTime()})).filter((function(e){return e})),l=V.getFilterItemsByStatus(r,"new"),c=V.getFilterItemsByStatus(r,"sent");n.find(".orders-tab__item").each((function(e,t){var n=$J(t);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.createdAt?t.createdAt:new Date(t.created_at).getTime();if(e[0].createdTimestamp===n){var a=e.find(".item__status"),i=a.attr("data-status"),r=e.find(".item__cancel-block:visible");i!==t.status&&(a.attr("data-status",t.status),a.text(V.getOrderStatusText(t.status)),ze.includes(t.status)&&r.length&&r.hide())}}))}(n,r),l.length&&l.forEach((function(e){if(n[0].createdTimestamp===new Date(e.created_at).getTime()){var t=new Date(e.created_at).getTime()+Ze-Date.now();if(t>0){var i=new Date(t).toISOString().slice(14,19);Qe(n,e,"cancel",i)}else a()}})),c.length&&c.forEach((function(e){n[0].createdTimestamp===new Date(e.created_at).getTime()&&Qe(n,e)})),o&&o.createdAt===n[0].createdTimestamp&&Qe(n,o),JSON.stringify(We)!==JSON.stringify(s)&&(null!==We&&a(),We=s)}))}else clearInterval(Ye),a()}))}))}),1e3)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.orders-tab"),a=n.find(".orders-active-tab__content");a.find(".orders-tab__item").each((function(t,n){var a=$J(n);if(e[t]&&(e[t].createdAt||new Date(e[t].created_at).getTime())===a[0].createdTimestamp){var i=a.find(".item__status-block .item__spinner");i.length?i.css("display","flex").hide().fadeIn():a.find(".item__status").before('<div class="item__spinner"></div>')}}))}(s),function(e){var t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.orders-tab"),a=n.find(".orders-active-tab__content"),i=V.getFilterItemsByStatus(e,"pending"),r=i.map((function(e){return e.createdAt})),o=i.find((function(e){return e.finishOrderAt})),s=Math.max.apply(Math,Je(r));a.find(".orders-tab__item").each((function(e,t){var n=$J(t),a=n.find(".item__left-side").find(".item__buttons");!a.find(".item__remove").length&&r.includes(n[0].createdTimestamp)&&s!==n[0].createdTimestamp&&(a.append('\n        <a\n          href="javascript:void(0)"\n          class="item__remove sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n          >'.concat(SIHLang.sihAppMarket.orders.cancel_purchase,"</a\n        >\n      ")),function(e,t){e.find(".item__remove").off("click").click((function(){var n=e.find(".item__name").text(),a=$e({},encodeURIComponent(n),[{createdAt:e[0].createdTimestamp,statusCode:null}]);V.changeItemsStatus(a).then((function(){at().then((function(){t&&t.createdAt===e[0].createdTimestamp&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_DEFAULT_BUY_COUNT"},(function(e){})),e.remove(),it(),Ba(),_e(),Ga()}))}))}))}(n,o))}))}(s)}it()}))}))}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"status",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!a){var i=(t.finishOrderAt?t.finishOrderAt:t.sender.timeout)-Date.now();a=new Date(i>0?i:0).toISOString().slice(14,19)}var r,o,s,l,c=e.find(".item__".concat(n,"-block")),_=c.find(".item__spinner"),u=c.find(".item__timer"),m=c.find(".item__".concat(n));if(_.length||m.before('<div class="item__spinner"></div>'),u.length)u.is(":visible")||(_.css("display","flex").fadeIn(),u.css("display","flex").fadeIn()),u.text(a);else{if(m.after('<div class="item__timer sih-modal__text sih-modal__text_sm">'.concat(a,"</div>")),"cancel"===n&&m.text(SIHLang.sihAppMarket.orders.cancel_info),"status"!==n)return;t.finishOrderAt&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.find(".item__right-side"),a=e.find(".item__left-side").find(".item__buttons"),i=a.find(".item__left-to-pay--button"),r=n.find(".item__left-to-pay");V.getLoginSihAppUser().then((function(e){var o=0;if(e.success&&e.user){var s=(o=e.user.balance/1e3)-t<0?Math.abs(o-t):t,l=d.getPriceFromCurrency(s,Fe,1,!1,3).text;r.length||n.append('\n        <div class="item__left-to-pay sih-modal__row justify-between">\n          <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n            '.concat(SIHLang.sihAppMarket.orders.payment,'\n          </div>\n          <div class="sih-modal__row items-center gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey sih-modal__text_bold"\n              >').concat(l,'</span\n            >\n            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n              >').concat(SIHLang.sihAppMarket.orders.pending_payment,"</span\n            >\n          </div>\n        </div>\n      ")),i.length||(a.prepend('\n        <a\n          href="javascript:void(0)"\n          data-payment="'.concat(s,'"\n          class="item__left-to-pay--button sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n        >\n          <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n            >').concat(SIHLang.sihAppMarket.orders.pay,"</span\n          >\n        </a>\n      ")),function(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content"),t=e.find(".item__left-to-pay--button");t.each((function(e,t){$J(t).off("click").click((function(){var e=$J(this),t=Number(e.attr("data-payment")),n=Math.ceil(1e3*t)/1e3;V.getSihAppToken().then((function(e){window.open("https://sih.app/pay?amount=".concat(n,"#payToken=").concat(e),"_blank")}))}))}))}())}}))}(e,t.price),t.sender&&t.sender.timeout&&(r=e,o=t.sender.offerId,s=r.find(".item__left-side").find(".item__buttons"),l=s.find(".trade-sent__buttons"),V.getLoginSihAppUser().then((function(e){if(e.success&&e.socials){var t=e.socials.findIndex((function(e){return"steam"===e[0]})),n=e.socials[t][1];l.length||s.prepend('\n        <div class="trade-sent__buttons sih-modal__row justify-between items-center gap-20">\n          <a\n            href="https://steamcommunity.com/tradeoffer/'.concat(o,'/"\n            target="_blank"\n            class="sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n          >\n            <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.orders.open,'</span\n            >\n          </a>\n          <a\n            href="https://steamcommunity.com/profiles/').concat(n,'/tradeoffers/"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.orders.go_to_trades,"</a\n          >\n        </div>\n      "))}})))}}var et=30,tt=null;function nt(){var e,t,n;e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global orders-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="orders-tab__header sih-modal__row gap-60">\n          <div class="sih-modal__column">\n            <div class="title sih-modal__title">'.concat(SIHLang.sihAppMarket.orders.title,'</div>\n          </div>\n        </div>\n        <div class="orders-tabs orders-tabs__container sih-modal__row gap-30 mb-20">\n          <label for="orders-active" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-active" class="orders-tabs__input" checked />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_active,'</span\n            >\n          </label>\n          <label for="orders-history" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-history" class="orders-tabs__input" />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_history,'</span\n            >\n          </label>\n          <a\n            href="javascript:void(0)"\n            class="orders-tabs__refresh-btn sih-modal__row items-center gap-5 absolute right-32 bottom-0 ').concat(et>0?"pointer-events-none opacity-5":"",'"\n          >\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n            <div class="orders-tabs__timer sih-modal__row items-center">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">00:</span>\n              <span class="orders-tabs__timer-seconds sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(et||"","</span\n              >\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  "),e.find(".orders-tab").length||e.append(t),function(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab");function n(){e.show(),t.show(),Ga(),at().then((function(){Xe(),Ge()}))}$J("#sih-header-orders").off("click").click((function(){$J("body").css("overflow","hidden");var t=$J("body").find("#sih-enter-password");V.getUserOrdersHistory(!1).then((function(a){a&&a.success?a.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):n():a&&!a.hasOwnProperty("authorization")?V.getLoginSihAppUser().then((function(a){a.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):n()})):n()}))}))}(),(n=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab")).find(".orders-tabs__container").find(".orders-tabs__input").each((function(e,t){$J(t).change((function(){var e=$J(this),t=n.find("#pagination-container"),a=n.find(".orders-tabs__refresh-btn");n.find(".orders-tab__content").addClass("hidden"),n.find(".".concat(e.attr("id"),"-tab__content")).removeClass("hidden"),"orders-history"===e.attr("id")?(t.css("display","flex"),a.css("display","flex")):(t.hide(),a.hide())}))})),function(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab"),n=t.find(".orders-tabs__refresh-btn");n.off("click").click((function(){rt();var t=$J("body").find("#sih-enter-password");V.getUserOrdersHistory(!1).then((function(n){n&&n.success?n.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):at().then((function(){Ge()})):(n&&n.hasOwnProperty("authorization"),V.getLoginSihAppUser().then((function(e){at().then((function(){Ge()}))})))}))}))}(),function(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),t=e.find(".orders-tabs__refresh-btn");clearInterval(tt),rt(),tt=setInterval((function(){var n=e.find(".orders-tabs__timer"),a=n.find(".orders-tabs__timer-seconds");et>0?(n.is(":visible")||(t.addClass("pointer-events-none opacity-5"),n.show()),et-=1,a.text(et>=10?et:"0".concat(et))):(t.removeClass("pointer-events-none opacity-5"),n.hide())}),1e3)}(),qe(),Be()}function at(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,a=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content");return t='\n      <div class="fake-orders-tab__content">'.concat(e='\n      <div class="fake-orders__row sih-modal__column rounded-8">\n        <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n        <div class="sih-modal__row mt-20 justify-between">\n          <div class="sih-modal__row items-start gap-15">\n            <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '," ").concat(e," ").concat(e,"</div>\n    "),a.each((function(e,n){var a=$J(n),i=a.find(".fake-orders-tab__content");a.find(".orders-tab__item").fadeOut(),i.length?i.fadeIn():a.append(t)})),new Promise((function(e){return setTimeout(e,n)}))}function it(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content"),t=e.find(".orders-tab__item");e.find(".fake-orders-tab__content").fadeOut(),t.fadeIn()}function rt(){et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30}function ot(){var e,t,n,a,i,r,o,s,l,c;e=$J("body"),t='\n    <div id="sih-modal__buy-orders">\n      <div class="sih-modal__buy-orders__fade"></div>\n    </div>\n  ',e.find("#sih-modal__buy-orders").length||e.append(t),function(){var e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global ordering-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="ordering-tab__header sih-modal__row gap-12 items-baseline">\n          <div class="sih-modal__title title">'.concat(SIHLang.sihAppMarket.ordering.title,'</div>\n          <div class="ordering-tab__header-total-block sih-modal__row">\n            <div class="ordering-tab__header-total-row sih-modal__row items-center gap-5">\n              <span\n                class="sih-modal__all-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(SIHLang.sihAppMarket.ordering.items,'</span\n              >\n            </div>\n            <span class="ordering-animated"></span>\n          </div>\n        </div>\n\n        <div class="orders-tab__main sih-modal__row justify-between mt-36 gap-20"></div>\n      </div>\n    </div>\n  ');e.find(".ordering-tab").length||(e.append(t),function(e){!function(e){var t='\n    <div class="sih-plug sih-plug__steam-guard sih-steam-guard hidden">\n      <div class="sih-steam-guard__container">\n        <div class="column max-w-360 gap-14">\n          <span class="title">'.concat(SIHLang.sihAppMarket.plug_steam_guard.title,'</span>\n          <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey lh-26"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.info_text,'</span\n          >\n        </div>\n\n        <div class="row mt-52">\n          <a\n            href="https://store.steampowered.com/twofactor/manage"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.setup,'</a\n          >\n        </div>\n\n        <div class="column mt-40 gap-14">\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/06B0-26E6-2CF8-254C"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard,'</a\n          >\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/7EFD-3CAE-64D3-1C31"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard_mobile,"</a\n          >\n        </div>\n      </div>\n    </div>\n  ");e.find(".sih-plug__steam-guard").length||e.append(t)}(e)}(e.find(".ordering-tab")))}(),function(){var e=$J("#sih-modal__buy-orders").find(".orders-tab__main"),t='\n    <div class="ordering-tab__left-block sih-modal__column">\n      <div class="sih-modal__column ordering-tab__listing-block available">\n        <div class="sih-modal__controls sih-modal__row justify-between">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >'.concat(SIHLang.sihAppMarket.ordering.available_items,'</span\n            >\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-available">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-available"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-available"></label>\n              <label\n                for="select-all-available"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n        <div class="ordering-tab__content available sih-modal__column"></div>\n      </div>\n\n      <div class="sih-modal__column ordering-tab__listing-block unavailable">\n        <div class="sih-modal__controls sih-modal__row justify-between mt-51">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.unavailable_items,'\n            </span>\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-unavailable">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-unavailable"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-unavailable"></label>\n              <label\n                for="select-all-unavailable"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n\n        <div class="ordering-tab__content unavailable  sih-modal__column"></div>\n      </div>\n    </div>\n  ');e.find(".ordering-tab__left-block").length||e.append(t)}(),n=$J("#sih-modal__buy-orders").find(".orders-tab__main"),a=At("ordering"),i=$J('\n    <div class="right-block ordering-tab__right-block sih-modal__column">\n      <div class="sih-modal__row justify-between">\n        <span class="sih-modal__text sih-modal__text_lg">'.concat(SIHLang.sihAppMarket.ordering.buy_on_steam,'</span>\n      </div>\n      <div class="sih-modal__row justify-between bg-grey mt-16 rounded-4 px-6 py-6">\n        <div class="sih-modal__row gap-8 items-center">\n          <div class="right-block__user-image w-36 h-36 bg-black-100"></div>\n          <div class="sih-modal__column">\n            <span class="right-block__user-name sih-modal__text sih-modal__text_md"></span>\n            <span\n              class="right-block__user-steamid sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n            ></span>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__order-info">\n        <div class="right-block__order-info_inner">\n          <div class="sih-modal__row justify-between mt-31 gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.your_balance,'</span\n            >\n            <span class="sih-modal__user-balance sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n          </div>\n          <div class="sih-modal__column mt-16 gap-8">\n            <div class="right-block__unavailable-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  >').concat(SIHLang.sihAppMarket.ordering.not_enough_balance,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">(</span>\n                  <span\n                    class="sih-modal__unavailable-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">)</span>\n                </div>\n              </div>\n              <span\n                class="sih-modal__unavailable-total-cost sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n            </div>\n\n            <div class="splitter-1 bg-grey mt-9"></div>\n          </div>\n\n          <div class="sih-modal__column mt-11 mb-10 gap-10">\n            <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.sihAppMarket.ordering.summary,'</span>\n\n            <div class="right-block__available-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue"\n                  >').concat(SIHLang.sihAppMarket.ordering.available_item_now,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">(</span>\n                  <span\n                    class="sih-modal__available-item-count sih-modal__text sih-modal__text_blue sih-modal__text_md"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">)</span>\n                </div>\n              </div>\n\n              <span\n                class="sih-modal__available-total-cost sih-modal__text sih-modal__text_blue sih-modal__text_md"\n              ></span>\n            </div>\n\n            <div class="right-block__all-orders-row sih-modal__row justify-between gap-5">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.for_all,'</span>\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md">(</span>\n                  <span class="sih-modal__ordering-item-count sih-modal__text sih-modal__text_md"></span>\n                  <span class="sih-modal__text sih-modal__text_md">)</span>\n                </div>\n              </div>\n              <span class="sih-modal__total-cost sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__buttons sih-modal__column gap-15 mt-34">\n        <button\n          id="sih_buy_available"\n          class="sih-modal__button sih-modal__button_blue justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_available"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_available,'\n        </button>\n        <button\n          class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_all"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_all,'\n        </button>\n      </div>\n\n      <div class="sih-modal__error mt-20"></div>\n\n      <div class="sih-modal__row text-center mt-47">\n        <span class="sih-modal__text sih-modal__text_md"> ').concat(SIHLang.sihAppMarket.ordering.info_text," </span>\n      </div>\n    </div>\n  ")),a.find("#sih-tos-ordering").off("change").change((function(e){Ot()})),i.find(".right-block__order-info_inner").append(a),n.find(".ordering-tab__right-block").length||n.append(i),cn(),nt(),function(){var e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global cart-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="sih-modal__header sih-modal__column gap-20">\n          <div class="header-container">\n            <div class="sih-modal__row title gap-23 items-center lh-26 pt-32 px-36">\n              <div class="cart-tab__title sih-modal__text fs-24"></div>\n              <div class="sih-modal__cart-count fs-24"></div>\n            </div>\n            <div class="header-container__timer fs-24" title="'.concat(SIHLang.cart.timer_tooltip,'"></div>\n          </div>\n\n          <div class="sih-modal__column cart-tab__content mt-16"></div>\n          <div class="sih-modal__error"></div>\n        </div>\n\n        <div class="sih-modal__bottom sih-modal__column gap-20"></div>\n      </div>\n    </div>\n  ');e.find(".cart-tab")&&e.append(t)}(),r=$J("body").find("#sih-enter-password"),o=$J("#sih-modal__buy-orders"),s=o.find(".sih-modal.cart-tab"),l=o.find(".sih-modal.ordering-tab"),c=o.find(".sih-modal.orders-history-tab"),$J("#sih-header-cart").off("click").click((function(){Yt("cart-tab",null,!0).then((function(){ft(null,!0),s.show(),o.show(),r.hide(),l.hide(),c.hide(),$J("body").css("overflow","hidden"),V.updateSIHMarketPrice().then((function(){Yt("cart-tab").then((function(){ft()}))}))}))})),setTimeout((function(){$J(document).off("keydown").keydown((function(e){27===e.keyCode&&(e.stopPropagation(),$J("body").css("overflow","auto"),lt(),st(),gt())})),$J(".sih-modal__buy-orders__fade").off("click").click((function(){(function(){var e=$J("#sih-modal__buy-orders"),t=$J("body").find("#sih-enter-password").is(":visible"),n=["ordering-tab","cart-tab"];return e.find(".sih-modal:visible").each((function(e,a){var i=$J(a);n.forEach((function(e){i.hasClass(e)&&(t=!0)}))})),t})()||($J("body").css("overflow","auto"),lt(),st(),gt())})),$J("#sih-modal__buy-orders").find(".sih-modal__close").each((function(e,t){$J(t).off("click").click((function(){$J("body").css("overflow","auto"),lt(),st(),gt()}))})),dn()}),500)}function st(){$J("#sih-modal__buy-orders").hide().remove(),In(),ot()}function lt(){var e=$J("#sih-modal__buy-orders");e.find(".sih-modal:visible").hasClass("ordering-tab")&&Wt(),e.hide()}window.onbeforeunload=function(){lt()};var ct="SIH_MARKET_TAB",dt=1,_t=6e4,ut=1e3,mt=_t,ht=null;function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),a=n.find(".cart-tab__title"),i=n.find(".sih-modal__cart-count");V.getAllBuyStack().then((function(r){if(r&&r.length){var o=V.getFilterItemsByStatus(r,e);if(o&&o.length){var s=0;o.forEach((function(e,t){s+=e.price||0}));var l=d.getPriceFromCurrency(s,dt,1,!1,3).text;a.text("".concat(SIHLang.sihAppMarket.cart.title)),i.text("".concat(o.length," - ").concat(l)),function(e,t){var n=d.getPriceFromCurrency(t,dt,1,!1,3).text,a='\n    <div class="sih-modal__buttons sih-modal__row justify-center px-36 pb-4">\n      <button class="sih-modal__button-exit sih-modal__button bg-grey py-13 px-24">\n        '.concat(SIHLang.sihAppMarket.cart.continue,'\n      </button>\n      <button\n        id="sih-cart-buy"\n        class="sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-5 py-13 px-24"\n      >\n        <span class="sih-modal__text sih-modal__text_md lh-14">').concat(SIHLang.sihAppMarket.cart.buy_now,'</span\n        ><span class="sih-modal__text sih-modal__text_md sih-modal__text_bold lh-14 cart-tab__button-sum"\n          >').concat(t&&t>0?n:"","</span\n        >\n      </button>\n    </div>\n  ");e.find(".sih-modal__buttons").length?(e.find(".sih-modal__buttons").show(),$J("#sih-cart-buy").find(".cart-tab__button-sum").text(n)):e.find(".sih-modal__bottom").prepend(a);t&&t>0?e.find("#sih-cart-buy").prop("disabled",!1):e.find("#sih-cart-buy").prop("disabled",!0)}(n,s),function(e){var t=e.find(".header-container__timer");t.tooltip({tooltipClass:"timer-tooltip",position:{my:"center bottom",at:"center top"}}),gt(),ht=setInterval((function(){if(t.text(new Date(mt).toISOString().slice(14,19)),!mt)return gt(),void V.updateSIHMarketPrice().then((function(){Yt("cart-tab").then((function(){ft()}))}));mt-=ut}),ut)}(n),vt()}else n.addClass("empty"),pt()}else n.addClass("empty"),pt();t&&E.getLocal("sihAppUserProfile").then((function(e){var t={offset:Math.floor(10*Math.random()+1),limit:5,appId:730,sortBy:"-profit"};if(e&&e.user&&e.user.balance)t.maxPrice=e.user.balance/1e3;else if("undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_balance){var a=g_rgWalletInfo.wallet_balance/100,i=g_rgWalletInfo.wallet_currency;t.maxPrice=1===i?a:d.getPriceFromCurrency(a,1,i).price}else t.minPrice=20,t.maxPrice=200;Ee(n.find(".sih-modal__bottom"),t)}))}))}function pt(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),t=e.find(".cart-tab__title"),n=e.find(".sih-modal__cart-count"),a=e.find(".cart-tab__content"),i=a.find(".title"),r=e.find(".sih-modal__info-message"),o=e.find(".sih-modal__buttons"),s=e.find(".sih-modal__sum-cart-cost");i.length||a.append('\n      <div class="sih-modal__column w-100per h-100per justify-center items-center gap-20 h-300 mt-40">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.cart.empty_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.cart.empty_text,'</span>\n        <a\n          href="javascript:void(0)"\n          class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n          >SIH Market</a\n        >\n      </div>\n    ')),t.text("".concat(SIHLang.sihAppMarket.cart.title_empty)),n.text(""),s.hide(),r.hide(),o.hide(),e.find(".sih-go-market").off("click").click((function(){E.getLocal(ct).then((function(e){e.openTab=!0,E.setLocal(ct,e)})),window.open("https://steamcommunity.com/market/","_self")}))}function vt(){var e,t,n;$J(".sih-modal__button-exit").off("click").click((function(){$J("body").css("overflow","auto"),st(),gt()})),Zt(ft),zt(ft),e=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),t=e.find("#sih-cart-buy"),n=e.find(".sih-modal__error"),t.off("click").click((function(){var e=n.find(".sih-modal__error_message"),t=$J(this);t.addClass("animated-background-btn"),V.getUserSihApp().then((function(a){a.success?(t.removeClass("animated-background-btn"),Wt(!0,"ordering")):a.hasOwnProperty("error")?V.errorHandler(t,n,e,a.error):V.errorHandler(t,n,e)})),gt()}))}function gt(){clearInterval(ht),mt=_t}var bt=1,yt=null;function St(){var e,t,n;$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block").each((function(e,t){var n=$J(t),a=n.find(".sih-modal__controls"),i=n.find(".sih-modal__controls").find(".ordering-tab__total-number"),r=n.find(".sih-modal__row_item").length,o=a.find(".ordering-tab__delete-all");a.removeClass("opacity-5 pointer-events-none"),0===r?(function(e){var t=e.find(".sih-modal__controls");t.addClass("opacity-5 pointer-events-none")}(n),o.is(":visible")&&o.addClass("hidden")):o.removeClass("hidden"),i.text(r)})),e=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content.available"),t=e.find(".sih-modal__row_item").length,n='\n    <div\n      class="plug-available ordering-tab__plug-available sih-modal__column justify-center items-center h-100per gap-30"\n    >\n      <div class="sih-modal__column items-center gap-5">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.ordering.plug_text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.plug_text_2,'</span>\n      </div>\n\n      <button\n        class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center rounded-8 py-16 w-100per max-w-360 opacity-5 pointer-events-none"\n      >\n        ').concat(SIHLang.sihAppMarket.ordering.buy_all,"\n      </button>\n    </div>\n  "),e.find(".plug-available").length||e.find(".sih-modal__row_item").length||0!==t||e.append(n),Ot()}function Ct(){var e;(e=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block")).each((function(t,n){var a=$J(n),i=a.find(".sih-modal__controls").find(".ordering-tab__select-all-items-checkbox");i.off("change").change((function(){clearTimeout(yt),yt=setTimeout((function(){var t=a.find(".ordering-tab__content"),n=t.find(".sih-modal__row_item");if(e.each((function(e,t){var a=$J(t),r=a.find(".ordering-tab__delete-all"),o=a.find(".ordering-tab__select-all_label");i.prop("checked")?(o.text("".concat(SIHLang.sihAppMarket.global.remove_all)),r.removeClass("hidden"),n.find(".select-item").prop("checked",!0)):(o.text("".concat(SIHLang.sihAppMarket.global.select_all)),r.addClass("hidden"),n.find(".select-item").prop("checked",!1))})),t.hasClass("available")){var r=[];n.each((function(e,t){var n=$J(t),a=n.find(".sih-item-order__name").data("hashname"),i=n.find(".select-item").prop("checked"),o=r.findIndex((function(e){return e.name===a}));r.length&&-1!==o||r.push({name:a,isChecked:i})})),$J(e[1]).find(".sih-modal__row_item").each((function(e,t){var n=$J(t),a=n.find(".sih-item-order__name").data("hashname"),i=n.find(".select-item"),o=r.find((function(e){return e.name===a}));o&&o.name===a&&o.isChecked!==i.prop("checked")&&i.trigger("click")}))}Xt().then((function(){Ot().then((function(){Yt("ordering-tab","ordering").then((function(){_e(),Ba(),ue(),kt()}))}))}))}),300)}))})),function(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab"),t=e.find(".ordering-tab__listing-block");t.each((function(t,n){var a=$J(n),i=a.find(".sih-modal__controls").find(".ordering-tab__delete-all"),r=e.find(".ordering-tab__select-all_label");i.off("click").click((function(){var t=a.find(".ordering-tab__content").find(".sih-modal__row_item"),n=e.find("#select-all");Nt(Rt(t,null)).then((function(){})),n.prop("checked")?(n.prop("checked",!1),r.text("".concat(SIHLang.sihAppMarket.global.select_all))):i.is(":visible")&&i.addClass("hidden")}))}))}(),function(){var e=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block");e.each((function(t,n){var a=$J(n),i=a.find(".sih-modal__controls"),r=a.find(".ordering-tab__content"),o=r.find(".sih-modal__row_item"),s=i.find(".ordering-tab__select-all-items-checkbox");o.each((function(t,n){var a=$J(n);a.find(".select-item").off("change").change((function(){var t=this;clearTimeout(yt),yt=setTimeout((function(){if(r.hasClass("available")){var n=a.find(".sih-item-order__name").data("hashname");$J(e[1]).find(".sih-modal__row_item").each((function(e,a){var i=$J(a),r=i.find(".select-item"),o=i.find(".sih-item-order__name").data("hashname");n===o&&$J(t).prop("checked")!==r.prop("checked")&&r.trigger("click")}))}Xt().then((function(){Ot().then((function(){Yt("ordering-tab","ordering").then((function(){_e(),Ba(),ue(),kt(),e.each((function(e,t){var n=$J(t),a=n.find(".ordering-tab__delete-all"),i=n.find(".ordering-tab__select-all_label");!!n.find(".select-item:checked").length?(i.text("".concat(SIHLang.sihAppMarket.global.remove_all)),s.prop("checked",!0),a.removeClass("hidden")):(s.prop("checked",!1),i.text("".concat(SIHLang.sihAppMarket.global.select_all)),a.addClass("hidden"))}))}))}))}))}),1e3)}))}))}))}()}var At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return $J('\n    <label class="sih-global sih-tos" for="sih-tos-'.concat(e,'">\n      <input type="checkbox" name="sih-tos" id="sih-tos-').concat(e,'" class="sih-modal__input hidden" />\n      <label class="fake-checkbox sih-tos__input" for="sih-tos-').concat(e,'"></label>\n      <div class="row items-center flex-wrap gap-5 sih-modal__text sih-modal__text_md ticker-wrapper">\n        <span class="ticker">\n          <span>').concat(SIHLang.TOS.tos_1,'</span>\n          <a\n            href="https://sih.app/terms-of-service"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.TOS.tos_2,'.</a\n          >\n          <span class="sih-tos__info">').concat(SIHLang.TOS.tos_tooltip,"</span>\n        </span>\n      </div>\n    </label>\n  "))},Et=1;function It(){var e,t;e=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab").find(".sih-modal__total-cost"),V.getAllBuyStack().then((function(t){var n=V.getFilterItemsByStatus(t,"ordering"),a=0;n.forEach((function(e){e.isChecked&&(a+=e.price)}));var i=d.getPriceFromCurrency(a,Et,1,!1,3).text;e.text(i)})),xt(),(t=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab")).find("#sih_buy_available").tooltip({content:SIHLang.sihAppMarket.ordering.buy_available_tooltip,position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),t.find(".sih__buy-all-items").each((function(e,t){$J(t).tooltip({content:SIHLang.sihAppMarket.ordering.buy_all_tooltip,position:{my:"left bottom",at:"left+10 top"},classes:{"ui-tooltip":"ordering__tooltip"}})}))}function wt(){var e,t,n,a,i;e=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab"),t=$J(".right-block__user-image"),n=e.find(".right-block__user-name"),a=e.find(".right-block__user-steamid"),i=e.find(".sih-modal__user-balance"),V.getLoginSihAppUser().then((function(e){t.find("img").length||t.append('<img src="'.concat(e.user.avatar,'">')),n.text(e.user.username);var r=e.socials.findIndex((function(e){return"steam"===e[0]}));a.text(e.socials[r][1]);var o=e.user.balance/1e3,s=d.getPriceFromCurrency(o,Et).text;i.text(s)})),xt()}function xt(){var e,t,n;e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".sih-modal__error"),t.find(".sih__buy-all-items").off("click").click((function(){var a=$J(this);a.addClass("animated-background-btn");var i=n.find(".sih-modal__error_message");V.getUserSihApp().then((function(r){r.success?V.getLoginSihAppUser().then((function(r){if(r.success)if(r.tfaNeed)V.errorHandler(a,n,i,"Enter password"),setTimeout((function(){Yt("cart-tab",null).then((function(){ft(),vt();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()}))}),1e3);else{a.removeClass("animated-background-btn");var o=r.user.balance/1e3;Vt("ordering").then((function(e){var n=0,a=0;e.forEach((function(e){a+=e.reduce((function(e,t){return t.isChecked&&(a+e+t.price<=o?e+=t.price:n+=t.price),e}),0)})),n=n>0?Math.abs(o-(a+n)):0;var i=Math.ceil(1e3*n)/1e3;V.getSihAppToken().then((function(e){window.open("https://sih.app/pay?amount=".concat(i,"#payToken=").concat(e),"_blank");var n=Rt(t.find(".sih-modal__row_item"),"pending");V.changeItemsStatus(n).then((function(){Wt(),st(),Ga(),$J("#sih-header-orders").trigger("click"),V.updateTradeLink(),setTimeout((function(){V.createBuyOrder().then((function(e){}))}),1e3)}))}))}))}else V.errorHandler(a,n,i)})):r.hasOwnProperty("error")?V.errorHandler(a,n,i,r.error):V.errorHandler(a,n,i)}))})),function(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".ordering-tab__content.available"),a=t.find(".sih-modal__error");t.find("#sih_buy_available").off("click").click((function(){var i=a.find(".sih-modal__error_message"),r=n.find(".sih-modal__row_item"),o=$J(this);o.addClass("animated-background-btn"),V.getUserSihApp().then((function(n){n.success?V.getLoginSihAppUser().then((function(n){if(n.success)if(n.tfaNeed)V.errorHandler(o,a,i,"Enter password"),setTimeout((function(){Yt("cart-tab",null).then((function(){ft(),vt();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()}))}),1e3);else{var s=Rt(r,"pending");V.changeItemsStatus(s).then((function(){Wt(),st(),Ga(),$J("#sih-header-orders").trigger("click"),V.updateTradeLink(),setTimeout((function(){V.createBuyOrder().then((function(e){}))}),1e3)}))}else V.errorHandler(o,a,i)})):n.hasOwnProperty("error")?V.errorHandler(o,a,i,n.error):V.errorHandler(o,a,i)}))}))}()}var Tt=1;function kt(){Zt(Lt,"ordering-tab","ordering"),zt(Lt,"ordering-tab","ordering"),Lt(),Ct(),wt()}function Ot(){return new Promise((function(e){V.getLoginSihAppUser().then((function(t){var n,a,i,r=t.user.balance/1e3,o=0,s=0,l=0,c=0;(n=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content"),a=[],i={},new Promise((function(e){n.each((function(e,t){$J(t).find(".sih-modal__row_item").each((function(e,t){var n=$J(t),r=n.find(".select-item").prop("checked"),o=encodeURIComponent(n.find(".sih-item-order__name").data("hashname"));n[0].createTimestamps.forEach((function(e){a.push({createdAt:e,isChecked:r})})),i[o]=[].concat(a)}))})),Object.keys(i).length?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:i},(function(t){e()})):e()}))).then((function(){Vt("ordering").then((function(t){t.forEach((function(e){l+=e.reduce((function(e,t){return t.isChecked&&(l+e+t.price<=r?(o++,e+=t.price):(s++,c+=t.price)),e}),0)})),c=c>0?Math.abs(r-(l+c)):0;var n=d.getPriceFromCurrency(l,Tt,1,!1,3).text,a=d.getPriceFromCurrency(c,Tt,1,!1,3).text,i=$J(".sih-modal.ordering-tab"),_=i.find(".sih-modal__ordering-item-count"),u=i.find(".right-block__available-row"),m=i.find(".sih-modal__available-item-count"),h=i.find(".sih-modal__available-total-cost"),f=i.find(".right-block__unavailable-row"),p=i.find(".sih-modal__unavailable-item-count"),v=i.find(".sih-modal__unavailable-total-cost"),g=i.find(".sih__buy-all-items"),b=i.find("#sih_buy_available"),y=i.find("#sih-tos-ordering");_.text(o+s),m.text(o),h.text(n),h.data("total-price",l),p.text(s),v.text(a),v.data("total-price",c),f.toggleClass("hidden",0===c),$J("#select-all-unavailable").prop("checked",0!==c),u.toggleClass("hidden",0===l),$J("#select-all-available").prop("checked",0!==l),0!==c?g.toggleClass("opacity-5 pointer-events-none",!y.is(":checked")&&0!==c):g.addClass("opacity-5 pointer-events-none"),0!==l?b.toggleClass("opacity-5 pointer-events-none",!y.is(":checked")&&0!==l):b.addClass("opacity-5 pointer-events-none"),e()}))}))}))}))}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering",n={};return e.each((function(e,a){var i=$J(a),r=[],o=i.find(".select-item"),s=encodeURIComponent(i.find(".sih-item-order__name").data("hashname"));o.prop("checked")&&(i[0].createTimestamps.forEach((function(e){r.push({createdAt:e,statusCode:t})})),n[s]=[].concat(r),i.remove())})),n}function Nt(e){return new Promise((function(t){var n=$J("#sih-modal__buy-orders"),a=n.find(".sih-modal.ordering-tab");V.changeItemsStatus(e).then((function(){Xt().then((function(){Ot().then((function(){Yt("ordering-tab","ordering").then((function(){_e(),Ba(),ue(),kt(),Yt("cart-tab",null).then((function(){ft(),Lt(),vt(),V.getAllBuyStack().then((function(e){if(!V.getFilterItemsByStatus(e,"ordering").length){var i=n.find(".sih-modal.cart-tab");a.hide(),i.show()}t()}))}))}))}))}))}))}))}function Lt(){var e;e=$J(".sih-modal.ordering-tab").find(".sih-modal__all-item-count"),V.getAllBuyStack().then((function(t){var n=V.getFilterItemsByStatus(t,"ordering").length;e.text(n)})),St(),It()}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Ut(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Dt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Gt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Kt=1,$t=1,Jt=1,jt=!0;function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t){V.getAllBuyStack().then((function(n){var a,i=V.getFilterItemsByStatus(n,e),r=[],o=[],s=[],l=Bt(i);try{for(l.s();!(a=l.n()).done;){var c=a.value;0!==r.length&&r.includes(c.market_hash_name)||r.push(c.market_hash_name)}}catch(e){l.e(e)}finally{l.f()}for(var d=0,_=r;d<_.length;d++){var u=_[d],m=encodeURIComponent(u);s.push(V.getAllItemsBuyStackByName(m))}Promise.all(s).then((function(n){n.forEach((function(t){var n=V.getFilterItemsByStatus(t,e);o.push(n)}));var a=o.sort((function(e,t){return Math.min.apply(Math,Ht(e.map((function(e){return e.createdAt}))))>Math.min.apply(Math,Ht(t.map((function(e){return e.createdAt}))))?1:-1}));t(a)}))}))}))}function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart-tab";return new Promise((function(t){"cart-tab"!==e?V.getLoginSihAppUser().then((function(e){e.success&&e.user?t(e.user.balance/1e3):t(null)})):t(null)}))}function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(e)),i=a.find(".".concat(e,"__content"));return i.children().remove(),new Promise((function(r,o){Ft(e).then((function(o){var s=0,l={};Vt(t).then((function(t){(t=t.reduce((function(e,t){var n=t.filter((function(t){return!t.itemId||(e.push([t]),!1)}));return n.length&&e.push(n),e}),[]))&&t.length||r(),t.forEach((function(c,_){var u,m,h,f=0,p=0,v=c.length,g=c[v-1],b=[],y=[];if("cart-tab"!==e){h=$t;var S=c.length;y=c.slice(h,S),c=c.slice(0,h)}var A=y.map((function(e){return e?{createdAt:e.createdAt,statusCode:null}:{}}));if(y&&y.length){var E=encodeURIComponent(y[0].market_hash_name);Object.assign(l,Ut({},E,A))}s+=c.reduce((function(t,n){"cart-tab"!==e?(s+t+(n.isChecked?n.price:0)<=o?(f++,t+=n.isChecked?n.price:0,i=a.find(".".concat(e,"__content.available")),u=n):(p++,n.isChecked?n.price:0,i=a.find(".".concat(e,"__content.unavailable")),m=n),b.find((function(e){return e.attr("class")===i.attr("class")}))||b.push(i)):b.length||b.push(i);return t}),0);var I=c.length;b.forEach((function(a){"cart-tab"!==e&&(a.hasClass("available")?(g=u,I=f):(g=m,I=p));var i=g.price,o=null!==i?d.getPriceFromCurrency(i,Kt,1,!1,3).text:null,s=d.getPriceFromCurrency(i*I,Kt,1,!1,3).text,v=!0;a.find(".sih-modal__row_item").each((function(e,t){$J(t).find(".sih-item-order__name").each((function(e,t){var n=$J(t).data("hashname"),a=$J(t).data("itemid");g.market_hash_name===n&&+g.itemId==+a&&(v=!1)}))}));var b=function(e){var t,n,a=Bt(C.entries());try{for(a.s();!(n=a.n()).done;){var i=Pt(n.value,2),r=i[0],o=i[1];e.includes(o)&&(t=r)}}catch(e){a.e(e)}finally{a.f()}var s=e.replace("★","").replace("Souvenir ","").replace("StatTrak™ ","").replace("(".concat(C.get(t),")"),""),l=s.lastIndexOf("|"),c=-1===l?s.trim():s.slice(0,l).trim(),d=-1===l?s.trim():s.slice(l+1).trim(),_=e.includes("StatTrak™"),u=e.includes("Souvenir");return{type:c,name:d,currentWear:t,hasStatrak:_,hasSouvenir:u}}(g.market_hash_name),y=function(e){var t=e.type,n=e.currentWear,a=e.hasStatrak,i=e.hasSouvenir,r="<span>".concat(t,"</span>");n&&(r="<span>".concat(n.toUpperCase(),"</span> | ")+r);a&&(r='<span class="sih-item-order__header_statrak">St</span> | '+r);i&&(r='<span class="sih-item-order__header_souvenir">Sv</span> | '+r);return r}(b);if(!a.find(".sih-item-order__name").length||v){var S=$J('\n                <div\n                  class="sih-item-order sih-modal__row sih-modal__row_item items-center justify-between bg-black-100 border-solid border-x-0 border-y-1 border-grey py-13 px-24"\n                >\n                  <div class="sih-modal__row items-center">\n                    \x3c!--              '.concat("ordering-tab"!==e?'<input type="checkbox" name="sih-item-order__checkbox" id="sih-item-order__'.concat(_,'" class="sih-modal__input hidden" checked>\n                    <label class="fake-checkbox sih-item-order__checkbox-label" for="sih-item-order__').concat(_,'"></label>'):"",' --\x3e\n\n                    <a href="').concat(g.url,'" class="sih-modal__image mr-20">\n                      <img class="w-62 h-47" src="').concat(g.image,'" />\n                    </a>\n                    <div class="vertical-divider" data-rarity="').concat(g.rarityColor||"default",'"></div>\n                    <div class="sih-modal__column gap-3">\n                      <div class="sih-item-order__header">').concat(y,'</div>\n                      <a\n                        href="').concat(g.url,'"\n                        class="sih-item-order__name sih-modal__text sih-modal__text_white sih-modal__text_bold max-w-200 text-ellipsis lh-16"\n                        data-hashname="').concat(g.market_hash_name,'"\n                        data-itemid="').concat(g.itemId?g.itemId:null,'"\n                        >').concat(b.name,'</a\n                      >\n\n                      <div class="sih-modal__row gap-15 items-center">\n                        <a\n                          href="javascript:void(0)"\n                          class="sih-modal__remove-item sih-modal__text sih-modal__text_sm sih-modal__text_blue lh-16"\n                          >').concat(SIHLang.sihAppMarket.global.delete,'</a\n                        >\n                      </div>\n                    </div>\n                  </div>\n\n                  \x3c!--                   <div class="sih-modal__column">\n                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ').concat(g.isChecked&&i&&i>0?"":"pointer-events-none opacity-5",'">\n                          <a href="javascript:void(0)" class="sih-modal__decrement sih-modal__button py-8 px-14"></a>\n                          <input type="number" class="sih-modal__row sih-modal__cart-count-input sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="').concat(I,'">\n                          <a href="javascript:void(0)" class="sih-modal__increment sih-modal__button py-8 px-14 ').concat(I>=Jt?"opacity-5 pointer-events-none":"",'"></a>\n                     </div>\n                     ').concat(a.hasClass("available")||a.hasClass("unavailable")?'\n                       <div class="sih-modal__row justify-center">\n                          <span class="sih-modal__buy-stack-count sih-modal__text sih-modal__text_sm opacity-5">'.concat(f+p,'</span>\n                          <span class="sih-modal__text sih-modal__text_sm opacity-5">/</span>\n                          <span class="sih-modal__buy-available-count sih-modal__text sih-modal__text_sm opacity-5">').concat(h,"</span>\n                        </div>\n                        "):"","\n\n                  </div>--\x3e\n                  ").concat(n?'<div class="sih-modal_row-price-loader"></div>':'<div class="sih-modal__row gap-30 items-center">\n                        <div class="sih-modal__column_price sih-modal__column items-end w-100">\n                          <div class="sih-modal__row items-center gap-2">\n                            <div class="sih-modal__row mr-5">\n                              <img\n                                class="w-22 h-22"\n                                src="chrome-extension://'.concat(SIHID,"/assets/marketplace/mini-icons/").concat(g.providerName,'.svg"\n                                alt="').concat(g.providerName,'"\n                              />\n                            </div>\n                            <span\n                              class="sih-modal__item-row-single-price sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?o:"".concat(SIHLang.sihAppMarket.global.not_available),'</span\n                            >\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?"/":"",'</span\n                            >\n                            <span\n                              class="sih-modal__item-row-count sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?I+"".concat(SIHLang.sihAppMarket.global.units):"",'</span\n                            >\n                          </div>\n                          <span\n                            class="sih-modal__item-row-price-group sih-modal__text sih-modal__text_lg sih-modal__text_white text-ellipsis"\n                            >').concat(null!==o?s:"","\n                          </span>\n                        </div>\n                      </div>"),"\n                </div>\n              "));if("ordering-tab"===e){var A,E="";a.hasClass("available")?(A=c.map((function(e){return e.createdAt})).slice(0,f),E="available-"):(A=c.map((function(e){return e.createdAt})).slice(f,c.length),E="unavailable-"),S[0].createTimestamps=A;var w='\n                  <label class="sih-modal__row items-center -mr-14" for="'.concat(E,"select-item-").concat(_,'">\n                    <input\n                      type="checkbox"\n                      name="').concat(E,"select-item-").concat(_,'"\n                      id="').concat(E,"select-item-").concat(_,'"\n                      class="select-item hidden"\n                      ').concat(g.isChecked?"checked":"",'\n                    />\n                    <label class="fake-checkbox" for="').concat(E,"select-item-").concat(_,'"></label>\n                  </label>\n                ');S.find(".sih-modal__column_price").after(w)}else S[0].createTimestamps=c.map((function(e){return e.createdAt}));a.append(S)}_+1===t.length&&(Object.keys(l).length?V.changeItemsStatus(l).then((function(){r()})):r())}))}))}))}))}))}function Wt(){var e,t,n,a,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=$J("#sih-modal__buy-orders"),s=$J("body").find("#sih-enter-password");i?(e=o.find(".cart-tab"),t=o.find(".ordering-tab"),n="cart-tab",a="ordering-tab"):(e=o.find(".ordering-tab"),t=o.find(".cart-tab"),n="ordering-tab",a="cart-tab"),function(e){return new Promise((function(t){e?V.updateSIHMarketPrice().then((function(e){t(e)})):t()}))}(i).then((function(i){V.getLoginSihAppUser().then((function(i){if(i.success&&i.tfaNeed)o.hide(),s.attr("data-show-modal","ordering").show();else if(i.success){e.hide();var l={};e.find(".".concat(n,"__content")).find(".sih-modal__row_item").each((function(e,t){var n=[],a=$J(t);if(a.find(".sih-modal__item-row-price-group").text().length>0){var i=a.find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(i);a[0].createTimestamps.forEach((function(e){a.remove(),n.push({createdAt:e,statusCode:r})})),l[o]=[].concat(n)}})),V.changeItemsStatus(l).then((function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:null},(function(e){Yt(a,r).then((function(){if(_e(),Ba(),ue(),t.show(),"ordering-tab"===a){var e=i.socials.findIndex((function(e){return"steam"===e[0]}));i.socials[e][3]&&"object"!==Dt(i.socials[e][3])?kt():t.find(".sih-plug__steam-guard").removeClass("hidden")}}))}))}))}}))}))}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(t)),i=a.find(".".concat(t,"__content")).find(".sih-modal__row_item"),r=a.find(".sih-modal__error");i.each((function(a,i){var o=$J(i);o.find(".sih-modal__remove-item").off("click").click((function(){var a=encodeURIComponent($J(this).closest(".sih-item-order").find(".sih-item-order__name").data("hashname")),i=$J(this).closest(".sih-item-order").find(".sih-item-order__name").data("itemid"),s=$J(this).parent().parent().parent().parent(),l=r.find(".sih-modal__error_message");if("ordering-tab"!==t){var c={hashName:a,argsCountDelete:0,statusCode:n,itemId:i};V.deleteItemFromBuyStack(c).then((function(t){s.remove(),e&&e(),Ba(),_e(),ue(),r.hide()})).catch((function(e){V.errorHandler(null,r,l,e.error)}))}else{var d={},_=[];o[0].createTimestamps.forEach((function(e){_.push({createdAt:e,statusCode:null})})),Object.assign(d,Ut({},a,[].concat(_))),Nt(d).then((function(){}))}}))}))}function zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(t)),i=a.find(".".concat(t,"__content")).find(".sih-modal__row_item"),r=a.find(".sih-modal__error"),o=null;function s(t,a){t.parent().hasClass("available")||t.parent().hasClass("unavailable")?function(e){var t=e.find(".sih-item-order__name").data("hashname"),n=e.find(".sih-modal__cart-count-input"),a=e.find(".sih-modal__item-row-single-price"),i=e.find(".sih-modal__item-row-count"),r=e.find(".sih-modal__item-row-price-group"),o=(e.find(".sih-modal__increment"),0);return new Promise((function(e,s){Ft("ordering-tab").then((function(s){Vt("ordering").then((function(l){l&&l.length||e(),l.forEach((function(e,l){var c=0,_=0,u=e[e.length-1];if(o+=e.reduce((function(e,t){return o+e+t.price<=s?(c++,e+=t.price):(_++,t.price),e}),0),t===u.market_hash_name){var m=c+_;n.val(m);var h=u.price;if(h){var f=m*h,p=d.getPriceFromCurrency(f,bt).text,v=d.getPriceFromCurrency(h,bt).text;a.text(v),i.text("".concat(c+_," ").concat(SIHLang.sihAppMarket.global.units)),r.text(p)}else a.text("".concat(SIHLang.sihAppMarket.global.not_available))}})),e()}))}))}))}(t).then((function(){clearTimeout(o),o=setTimeout((function(){Xt().then((function(){e&&e(),qt(t,a,n),Ba(),_e(),ue(),r.hide()}))}),400)})):(e&&e(),qt(t,a,n),Ba(),_e(),ue(),r.hide())}i.each((function(e,a){var i=$J(a),o=i.find(".sih-modal__decrement"),l=i.find(".sih-modal__increment"),c=i.find(".sih-modal__cart-count-input");o.off("click").click((function(){var e=$J(this);+c.val()<=Jt&&1!==Jt&&l.removeClass("opacity-5 pointer-events-none");var a=$J(this).parent().parent().parent(),i=r.find(".sih-modal__error_message"),o=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),d=encodeURIComponent(o);V.getAllItemsBuyStackByName(d).then((function(e){var o=V.getFilterItemsByStatus(e,n);if("ordering-tab"!==t||"ordering-tab"===t&&o.length>1){var l={hashName:d,statusCode:n};V.deleteItemFromBuyStack(l).then((function(e){s(a,e)})).catch((function(e){V.errorHandler(null,r,i,e.error)}))}}))})),l.off("click").click((function(){var e=$J(this);+c.val()>=Jt-1&&$J(this).addClass("opacity-5 pointer-events-none");var t=$J(this).parent().parent().parent(),a=r.find(".sih-modal__error_message"),i=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(i);V.setItemToBuyStack({hashName:o,countAdd:1,statusCode:n}).then((function(e){e&&s(t,e)})).catch((function(e){V.errorHandler(null,r,a,e.error)}))})),c.off("focusout").focusout((function(){var e=$J(this),a=Math.ceil($J(this).val());(a=V.validateInput(a,Jt))>=Jt?l.addClass("opacity-5 pointer-events-none"):l.removeClass("opacity-5 pointer-events-none");var i=$J(this).parent().parent().parent(),o=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),c=r.find(".sih-modal__error_message"),d=encodeURIComponent(o);V.getAllItemsBuyStackByName(d).then((function(o){var l=V.getFilterItemsByStatus(o,n).length;if(0===a&&"ordering-tab"===t&&(e.val(1),a=1),a>=l&&1!==a)V.setItemToBuyStack({hashName:d,countAdd:a,statusCode:n}).then((function(e){s(i,e)})).catch((function(e){V.errorHandler(null,r,c,e.error)}));else{var _={hashName:d,argsCountDelete:a,statusCode:n};V.deleteItemFromBuyStack(_).then((function(e){s(i,e)})).catch((function(e){V.errorHandler(null,r,c,e.error)}))}}))}))}))}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.find(".sih-modal__cart-count-input"),i=e.find(".sih-modal__item-row-single-price"),r=e.find(".sih-modal__item-row-count"),o=e.find(".sih-modal__item-row-price-group");if(e.parent().hasClass("available")||e.parent().hasClass("unavailable"))Yt("ordering-tab","ordering").then((function(){_e(),Ba(),ue(),kt()}));else{var s=V.getFilterItemsByStatus(t,n),l=s.length;if(e[0].createTimestamps=s.map((function(e){return e.createdAt})),l>0){var c=s[l-1].price;if(c){var _=s.reduce((function(e,t){return e+t.price}),0),u=d.getPriceFromCurrency(_,Kt).text,m=d.getPriceFromCurrency(c,Kt).text;a.val(l),i.text(m),r.text("".concat(l," ").concat(SIHLang.sihAppMarket.global.units)),o.text(u)}else i.text("".concat(SIHLang.sihAppMarket.global.not_available))}else e.remove()}}function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering-tab";jt=!0;var n=$J("#sih-modal__buy-orders").find(".".concat(t));return r(),o(),a(),i(),new Promise((function(t){return setTimeout((function(){jt=!1,o(),r(),a(),i(),t()}),e)}));function a(){var e=n.find(".".concat(t,"__content")),a='\n      <div class="fake-ordering__row sih-modal__row items-center justify-between bg-black-100 py-13 px-24">\n        <div class="sih-modal__row items-center w-265">\n          <div class="sih-modal__image mr-20">\n            <div class="w-62 h-47 bg-grey rounded-4"></div>\n          </div>\n\n          <div class="sih-modal__column gap-6">\n            <div class="w-100 h-16 bg-grey rounded-4"></div>\n            <div class="sih-modal__row gap-15 items-center">\n              <div class="w-62 h-16 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!--                  <div class="sih-modal__column gap-2">--\x3e\n        \x3c!--                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ">--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__decrement sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                          <input type="number" class="sih-modal__row sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="" disabled>--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__increment sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                     <div class="sih-modal__row w-100per justify-center">--\x3e\n        \x3c!--                        <div class="sih-modal__row w-22 h-16 bg-grey rounded-4"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                  </div>--\x3e\n\n        <div class="sih-modal__row gap-30 items-center">\n          <div class="sih-modal__column_price sih-modal__column items-end w-100 gap-2">\n            <div class="sih-modal__row gap-2">\n              <span class="w-100 h-16 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-62 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="w-22 h-22 bg-grey rounded-4 -mr-14"></div>\n        </div>\n      </div>\n    ',i='\n      <div class="fake-ordering fake-ordering__content">'.concat(a," ").concat(a," ").concat(a,"</div>\n    ");e.each((function(e,n){var a=$J(n);a.find(".sih-modal__row_item").hide();var r=a.find(".fake-ordering__content");jt?r.length?r.fadeIn():Ft(t).then((function(e){e&&e>0?a.find(".sih-modal__row_item").length&&a.append(i):!e&&e<=0&&a.hasClass("unavailable")&&a.append(i)})):r.fadeOut()}))}function i(){var e=n.find(".".concat(t,"__right-block")),a=e.find(".right-block__order-info"),i=' <div class="right-block__fake">'.concat('\n      <div class="right-block__fake-order-info">\n        <div class="sih-modal__row justify-between mt-31 gap-5">\n          <span class="w-150 h-20 bg-grey rounded-4"></span>\n          <span class="w-100 h-20 bg-grey rounded-4"></span>\n        </div>\n        <div class="sih-modal__column mt-16 gap-8">\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="splitter-1 bg-grey mt-9"></div>\n        </div>\n\n        <div class="sih-modal__column mt-11 mb-10 gap-10">\n          <span class="w-80 h-20 bg-grey rounded-4"></span>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n        </div>\n\n        <div class="sih-modal__row items-center gap-14">\n          <div class="sih-modal__row w-22 h-22 bg-grey rounded-4"></div>\n          <div class="sih-modal__row w-300 h-44 bg-grey rounded-4"></div>\n        </div>\n      </div>\n    '," ").concat('\n      <div class="right-block__fake-buttons sih-modal__column gap-15 mt-34">\n        <div class="w-100per h-47 bg-grey rounded-4"></div>\n        <div class="w-100-per h-47 bg-grey rounded-4"></div>\n      </div>\n    ',"</div> "),r=a.find(".right-block__order-info_inner"),o=e.find(".right-block__buttons");if(jt){var s=a.find(".right-block__fake");r.css("opacity",0),o.css("opacity",0),s.length?s.fadeIn():a.append(i)}else{var l=e.find(".right-block__fake");r.css("opacity",1),o.css("opacity",1),l.fadeOut()}}function r(){var e=n.find(".ordering-tab__header").find(".ordering-tab__header-total-block"),t=e.find(".ordering-tab__header-total-row"),a=e.find(".ordering-animated");jt?(t.css("opacity",0),a.fadeIn()):(a.fadeOut(),t.css("opacity",1))}function o(){n.find(".sih-modal__controls").each((function(e,t){var n=$J(t),a=n.find(".ordering-tab__total-number"),i=n.find(".ordering-animated");jt?(a.css("opacity",0),i.fadeIn()):(i.fadeOut(),a.css("opacity",1))}))}}function Qt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function tn(e){var t,n=$J(".sih-modal.active-plan-tab"),a=Qt(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if("adfree"===i.for_what){n.find(".sih-modal__smile").html(i.icon),n.find(".plans__name").text("".concat(void 0!==i.plan_txt?i.plan_txt:""));var r=V.getDaysNumber(i.active_till);r.hasOwnProperty("days")?n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.days_left,": ").concat(r.days)):n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.hours_left,": ").concat(r.hours))}}}catch(e){a.e(e)}finally{a.f()}}function nn(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var rn=null;function on(e){var t,n,a,i;!function(e){var t=$J(".selecting-plan-tab"),n=t.find(".plans"),a=t.find(".payment__input:checked");n.each((function(t,n){var i=$J(n),r=i.data("payment"),o={},s=e.map((function(e){return e.is_enabled&&e.payment_system===r?e.full_price||e.price:0})).filter((function(e){return e}));o["".concat(r)]=Math.max.apply(Math,nn(s)),e.forEach((function(e){if(e.payment_system===r&&e.is_enabled){var t=e.full_price||e.price,n=function(e){var t,n,a;switch(e.toLowerCase()){case"for one year":t="&#128526;",n="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_name),a="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_period);break;case"every 6 months":t="&#128527;",n="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_name),a="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_period);break;case"every 3 month":t="&#128521;",n="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_name),a="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_period);break;case"every month":t="&#128522;",n="".concat(SIHLang.subscribeAds.modal.plan_every_month_name),a="".concat(SIHLang.subscribeAds.modal.plan_every_month_period);break;default:t=null,n=null,a=null}return{plan_icon:t,plan_name:n,plan_period:a}}(e.title),s=n.plan_icon,l=n.plan_name,c=n.plan_period,d=(t/1e3).toLocaleString("ru"),_=((e.per_month?e.per_month:e.price)/1e3).toLocaleString("ru"),u=g_rgCurrencyData[e.price_currency]||g_rgCurrencyData.USD,m=$J('\n          <div\n            class="plans__item '.concat(o["".concat(r)]===t?"active":"",'"\n            data-plan-title="').concat(e.title,'"\n            data-id="').concat(e.id,'"\n            data-total-price="').concat(t,'"\n          >\n            <div class="plans__header">\n              <span class="sih-modal__smile sih-modal__smile_lg">').concat(s,'</span>\n              <span class="sih-modal__text sih-modal__text_sm plans__name">').concat(l,'</span>\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold -mt-5">').concat(c,'</span>\n              <div class="sih-modal__row -mt-5">\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey "\n                  >').concat(e.per_month&&t!==e.per_month&&u.bSymbolIsPrefix?"".concat(u.strSymbol):"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(e.per_month&&t!==e.per_month?d:"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(e.per_month&&t!==e.per_month&&!u.bSymbolIsPrefix?"".concat(u.strSymbol):"",'</span\n                >\n              </div>\n            </div>\n            <div class="plans__bottom">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"!==e.payment_system&&u.bSymbolIsPrefix?"".concat(u.strSymbol):"","</span\n              >\n\n              ").concat("balance"===e.payment_system?'<div class="sih-modal__sih-coins mr-5">\n                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                                    </svg>\n                                  </div>':"",'\n\n              <span class="plans__actual-price sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(_,'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"===e.payment_system||u.bSymbolIsPrefix?"":"".concat(u.strSymbol),'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">/</span>\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.month,"</span\n              >\n            </div>\n          </div>\n        "));i.find(m).length||(i.append(m),a.length&&a.attr("id")&&i.attr("data-id")===a.attr("id")&&i.css("display","flex").show())}}))}))}(e),sn(),$J(".selecting-plan-tab").find(".plans").each((function(e,t){var n=$J(t),a=n.find(".plans__item");a.sort((function(e,t){return $J(e).data("total-price")-$J(t).data("total-price")})),a.detach().appendTo(n)})),$J(".sih-modal").find(".plans__item").each((function(e,t){var n=$J(t);n.off("click").click((function(){$J(this).parent().find(".active").removeClass("active"),n.addClass("active"),sn()}))})),$J("#sih-tos-selecting-plan").off("change").change((function(){$J(this).is(":checked")?($J(".sih-modal__button-subscribe").removeAttr("disabled"),$J(".sih-balance__button").removeAttr("disabled")):($J(".sih-modal__button-subscribe").attr("disabled",!0),$J(".sih-balance__button").attr("disabled",!0))})),t=$J(".selecting-plan-tab"),n=t.find(".sih-modal__button-subscribe"),a=t.find("#sih-tos-selecting-plan"),i=t.find(".sih-modal__error"),n.each((function(e,n){$J(n).off("click").click($J.debounce(300,(function(){var e=this;$J(this).addClass("animated-background-btn");var n=i.find(".sih-modal__error_message"),r=t.find(".plans:visible").find(".plans__item.active"),o=r.find(".plans__name").text(),s=r.attr("data-id"),l={planName:o,paymentId:s};s?a.is(":checked")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:s}},(function(t){t.success?(i.hide(),$J(e).removeClass("animated-background-btn"),un(l,t.email)):t.hasOwnProperty("authorization")?V.errorHandler($J(e),i,n):t.hasOwnProperty("error")?V.errorHandler($J(e),i,n,t.error):($J(e).removeClass("animated-background-btn"),un(l))})):V.errorHandler($J(this),i,n,"Please, select checkbox subscription TOS"):V.errorHandler($J(this),i,n,"Please, enter plan")})))})),function(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__back-info");t.click((function(){$J(".selecting-plan-tab").hide(),$J(".subscription-info-tab").show(),e.find(".sih-modal__error").children().remove()}))}(),function(){var e=$J(".selecting-plan-tab"),t=e.find(".plans"),n=e.find(".payment-info__message"),a=e.find(".sih-balance"),i=e.find(".sih-modal__buttons"),r=e.find(".payment__input");r.each((function(e,r){$J(r).change((function(){var e=$J(this);t.each((function(t,r){var o=$J(r);o.hide(),o.attr("data-id")===e.attr("id")&&(o.css("display","flex").show(),"payment-balance"===o.attr("data-id")?(i.addClass("hidden"),n.css("display","flex").show(),a.css("display","flex").show()):(n.hide(),a.hide(),i.removeClass("hidden")))}))}))}))}()}function sn(){V.getLoginSihAppUser().then((function(e){if(e&&e.success&&!e.tfaNeed&&e.user){var t=e.user.balance,n=$J(".selecting-plan-tab"),a=n.find(".plans-balance"),i=n.find(".sih-balance"),r=a.find(".plans__item.active");if(r.length){var o=r.attr("data-total-price");if(!o)return;var s=i.find(".sih-balance__user"),l=i.find(".sih-balance__plan-price"),c=i.find(".sih-balance__not-enough"),d=c.find(".sih-balance__user-not-enough"),_=i.find(".sih-balance__button");s.text(t/1e3),l.text(o/1e3);var u=t-o;if(u<0){var m=Math.abs(u/1e3);c.css("display","flex").show(),d.text(m),_.text(SIHLang.subscribeAds.modal.selectingPlan.refill),$J("#sih-tos-selecting-plan").is(":checked")||_.attr("disabled",!0),ln("refill",m)}else $J("#sih-tos-selecting-plan").is(":checked")||_.attr("disabled",!0),c.hide(),_.text(SIHLang.subscribeAds.modal.selectingPlan.buy_sub),ln("buy")}}}))}function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"refill",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".selecting-plan-tab"),a=n.find(".plans-balance"),i=n.find(".sih-balance"),r=a.find(".plans__item.active"),o=i.find(".sih-balance__button"),s=n.find(".sih-modal__error"),l=r.attr("data-id");"buy"!==e?o.off("click").click((function(){V.getSihAppToken().then((function(e){clearTimeout(rn),rn=setTimeout((function(){t<1&&(t=1),window.open("https://sih.app/pay?amount=".concat(t,"#payToken=").concat(e),"_blank")}),300)}))})):o.off("click").click((function(){var e=this;$J(this).addClass("animated-background-btn"),s.hide(),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:l}},(function(t){if(t.success)$J(e).removeClass("animated-background-btn"),V.getUserSihApp().then((function(e){e.success&&V.getSubscribeAds().then((function(e){e.success?V.getLoginSihAppUser().then((function(e){tn(e.subscribes),n.hide(),$J(".sih-modal.active-plan-tab").show()})):(n.hide(),$J(".sih-modal.refill-plug-info").show())}))}));else{var a=s.find(".sih-modal__error_message");V.errorHandler($J(e),s,a)}}))}))}function cn(){var e,t;e=$J("body"),t='\n    <div id="sih-enter-password">\n      <div class="sih-enter-password__fade"></div>\n      <div class="sih-modal sih-global">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column items-start">\n          <div class="sih-modal__text sih-modal__text_xl sih-modal__text_white">\n            '.concat(SIHLang.subscribeAds.modal.enterPassword.title,'\n          </div>\n          <label class="sih-modal__column w-248" for="sih-password-input">\n            <input\n              type="password"\n              autocomplete="new-password"\n              class="sih-modal__input"\n              id="sih-password-input"\n              placeholder="').concat(SIHLang.subscribeAds.modal.enterPassword.enter_pwd,'"\n            />\n          </label>\n          <a\n            href="https://sih.app/"\n            target="_blank"\n            class="sih-modal__text_md sih-modal__text_blue text-decoration-underline"\n            >').concat(SIHLang.subscribeAds.modal.enterPassword.forgot_pwd,'</a\n          >\n          <label class="sih-modal__trading-rules sih-modal__row items-center gap-10 mt-16" for="trading-rules">\n            <input type="checkbox" name="trading-rules" id="trading-rules" class="hidden" />\n            <label class="fake-checkbox" for="trading-rules"></label>\n            <div class="sih-modal__text sih-modal__text_md">\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_1,'\n              <a href="https://sih.app/" target="_blank" class="sih-modal__text_blue text-decoration-underline"\n                >').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_2,'</a\n              >\n            </div>\n          </label>\n          <div class="sih-modal__error mt-20"></div>\n          <div class="sih-modal__buttons mt-16">\n            <button\n              id="sih-enter-password-btn"\n              class="sih-modal__button sih-modal__button_blue px-24 py-16"\n              disabled="disabled"\n            >\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.continue,"\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  "),e.find("#sih-enter-password").length||e.append(t),dn()}function dn(){var e,t,n,a,i,r;$J(document).keydown((function(e){27===e.keyCode&&(e.stopPropagation(),$J("#sih-enter-password").hide().remove(),cn(),$J("body").css("overflow","auto"))})),$J("#sih-enter-password").find(".sih-modal__close").off("click").click((function(){$J("#sih-enter-password").hide().remove(),cn(),$J("body").css("overflow","auto")})),e=$J("body").find("#sih-enter-password"),t=e.find("#sih-password-input"),n=e.find("#trading-rules"),a=e.find("#sih-enter-password-btn"),t.off().keyup((function(){var e=$J(this);n.prop("checked")&&e.val().length>0?a.prop("disabled",!1):a.prop("disabled",!0)})),n.off("click").click((function(){$J(this).prop("checked")&&t.val().length>0?a.prop("disabled",!1):a.prop("disabled",!0)})),i=$J("#sih-enter-password"),r=i.find(".sih-modal__error"),i.find("#sih-enter-password-btn").off("click").click((function(){var e=$J(this);e.addClass("animated-background-btn");var t=r.find(".sih-modal__error_message"),n=i.find("#sih-password-input").val();""!==n&&n?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ENTER_PASSWORD_SIH_APP",data:{password:n}},(function(n){if(n.success){var a=i.data("show-modal"),o=$J(".sih-modal.".concat(a,"-tab"));switch(i.hide(),a){case"subscription-info":V.getSubscribeAds().then((function(e){e.success?V.getLoginSihAppUser().then((function(e){tn(e.subscribes),$J(".sih-subscribe-ads").show(),$J(".sih-subscribe-ads").find(".sih-modal").hide(),$J(".sih-modal.active-plan-tab").show()})):V.getSubscribeAdsPlans().then((function(e){e&&e.length&&on(e),$J(".sih-subscribe-ads").show()}))}));break;case"orders":V.getUserOrdersHistory(!1).then((function(e){e.success&&(Ga(),Xe(),Ge()),$J("#sih-modal__buy-orders").show()}));break;case"ordering":Wt(!0,"ordering"),$J("#sih-modal__buy-orders").show();break;case"notification-panel":$J("#sih-header-notifications").trigger("click")}o.show()}else V.errorHandler(e,r,t,n.error)})):V.errorHandler(e,r,t)}))}function _n(){$J(".sih-subscribe-ads").hide().remove()}function un(e){var t=e.planName,n=e.paymentId,a=e.amount,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=$J(".sih-subscribe-ads"),o=$J(".selecting-plan-tab"),s=$J(".enter-email-tab"),l=s.find("#sih-email");o.hide(),s.show();var c=r.find(".sih-modal__save-email"),d=r.find(".sih-modal__cancel-email"),_=r.find(".sih-modal__edit-email"),u=s.find(".sih-modal__button-send-email");c.hide(),d.hide(),_.hide(),s.find(".sih-modal__title").text("".concat(SIHLang.subscribeAds.modal.second_title," ").concat(t?", ".concat(t):"")),i?l.val()!==i&&""!==l.val()||(l.val("".concat(i)),s.find(".sih-modal__buttons_email").css("display","flex"),l.focus()):l.focus(),o.find(".payment__input").each((function(e,t){var n=$J(t);if(n.prop("checked"))switch(n.data("name").toLowerCase()){case"stripe":u.text(SIHLang.subscribeAds.modal.complete_payment_stripe);break;case"gamemoney":u.text(SIHLang.subscribeAds.modal.complete_payment_gamemoney);break;default:u.text(SIHLang.subscribeAds.modal.complete_payment)}})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".sih-subscribe-ads"),a=n.find(".sih-modal__error"),i=n.find(".sih-modal__button-send-email");i.off("click").click($J.debounce(300,(function(){var i=this;$J(this).addClass("animated-background-btn");var r=a.find(".sih-modal__error_message"),o=n.find("#sih-email").val();o.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_EMAIL_SIH_APP",data:{email:o}},(function(n){if(n.success){if(!e)return void V.errorHandler($J(i),a,r,"Please, select method");t?V.getLinkForInvoice(t>1?t:1,e).then((function(e){e&&e.success&&e.url?($J(i).removeClass("animated-background-btn"),_n(),window.open(e.url,"_blank")):e.hasOwnProperty("error")?V.errorHandler($J(i),a,r,e.error):V.errorHandler($J(i),a,r)})):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:e}},(function(e){e.success?($J(i).removeClass("animated-background-btn"),_n(),e.url&&window.open(e.url,"_blank")):e.hasOwnProperty("error")?V.errorHandler($J(i),a,r,e.error):V.errorHandler($J(i),a,r)}))}else n.hasOwnProperty("authorization")?V.errorHandler($J(i),a,r):V.errorHandler($J(i),a,r,n.error)})):V.errorHandler($J(this),a,r,"Invalid email")})))}(n,a)}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var fn={skins:["skinsback"],bank:["card","sberbank"],crypt:["bitcoin","ethereum","tether","tron","polygon","monero","ton","litecoin","dogecoin","dash","binance","chaingpt"],wallet:["yandex"]};function pn(){var e,t;e=$J(".refill-sih-balance").find(".refill-sih-balance__payment-methods"),t='\n    <div class="payment-methods">\n      <div class="payment-methods__item hidden" data-method="bank">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M18 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H18C18.5304 16 19.0391 15.7893 19.4142 15.4142C19.7893 15.0391 20 14.5304 20 14V2C20 1.46957 19.7893 0.960859 19.4142 0.585786C19.0391 0.210714 18.5304 0 18 0ZM18 7H2V4H18V7Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >'.concat(SIHLang.refillBalance.bank_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="crypt">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M12.24 8.55967C11.93 9.79967 10 9.16967 9.4 8.99967L9.95 6.81967C10.57 6.99967 12.56 7.25967 12.24 8.55967ZM9.13 10.1197L8.53 12.5297C9.27 12.7197 11.56 13.4497 11.9 12.0897C12.26 10.6697 9.87 10.2997 9.13 10.1197ZM19.7 12.4197C18.36 17.7797 12.94 21.0397 7.58 19.6997C2.22 18.3597 -1.037 12.9397 0.300001 7.57967C1.64 2.21967 7.06 -1.03633 12.42 0.299674C17.77 1.63967 21.03 7.05967 19.7 12.4197ZM12.21 6.04967L12.66 4.24967L11.56 3.99967L11.12 5.72967C10.83 5.65967 10.54 5.58967 10.24 5.52967L10.68 3.75967L9.59 3.49967L9.14 5.28967C8.9 5.22967 8.66 5.17967 8.44 5.11967L6.93 4.73967L6.63 5.90967C6.63 5.90967 7.45 6.09967 7.43 6.10967C7.88 6.21967 7.96 6.49967 7.94 6.74967L6.71 11.6797C6.66 11.8197 6.5 11.9997 6.21 11.9497C6.22 11.9597 5.41 11.7497 5.41 11.7497L4.87 12.9997L6.29 13.3597C6.56 13.4297 6.82 13.4997 7.08 13.5597L6.62 15.3797L7.72 15.6597L8.17 13.8497C8.47 13.9297 8.76 13.9997 9.04 14.0797L8.59 15.8697L9.69 16.1497L10.15 14.3297C12 14.6797 13.42 14.5397 14 12.8497C14.5 11.4997 14 10.6997 13 10.1897C13.72 9.99967 14.26 9.54967 14.41 8.56967C14.61 7.23967 13.59 6.52967 12.21 6.04967Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.crypt_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="wallet">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M14 0H4C1.79 0 0 1.79 0 4V14C0 16.21 1.79 18 4 18H16C17.11 18 18 17.11 18 16V6C18 4.9 17.11 4 16 4V2C16 0.9 15.11 0 14 0ZM14 2V4H4C3.27 4 2.59 4.2 2 4.54V4C2 2.9 2.9 2 4 2M12.5 12.5C11.67 12.5 11 11.83 11 11C11 10.17 11.67 9.5 12.5 9.5C13.33 9.5 14 10.17 14 11C14 11.83 13.33 12.5 12.5 12.5Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.wallet_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  '),e.find(".payment-methods").length||e.append(t),$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item").each((function(e,t){$J(t).off("click").click((function(){var e=$J(this).data("method");V.getSubscribeAdsMethods().then((function(t){var n=function(e,t){var n=t.map((function(t){return e.map((function(e){if(e.method_name.match(t))return e.local_title=t,e})).filter((function(e){return e}))})).filter((function(e){return e.length}));return n}(bn(t,gn(e)),fn[e]);vn(n,e,"main")}))}))}))}function vn(e,t,n){var a=$J(".refill-sih-balance").find(".refill-sih-balance__inner"),i=a.find(".refill-sih-balance__tab"),r=$J('\n    <div\n      class="refill-sih-balance__tab '.concat(t,' sih-modal__column"\n      data-title="').concat(t,'"\n      data-prev-title="').concat(n,'"\n    >\n      <div class="sih-modal__column mb-35">\n        <span class="sih-modal__title text-capitalize"\n          >').concat(SIHLang.refillBalance["".concat(t,"_title")]?SIHLang.refillBalance["".concat(t,"_title")]:t,'</span\n        >\n      </div>\n      <div class="refill-sih-balance__tab-content"></div>\n    </div>\n  '));e.sort((function(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var n=yn(e,"title"),a=yn(t,"title");return n[0].local_title===a[0].local_title?0:n[0].local_title<a[0].local_title?-1:1})).forEach((function(e){if(Array.isArray(e)||(e=[e]),e.length>1){var n=$J('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__new-tab sih-modal__row items-center justify-between"\n        >\n          <span class="sih-modal__text text-capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >'.concat(e[0].local_title,'</span\n          >\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n              fill="#6F7F8A"\n            />\n          </svg>\n        </a>\n      '));r.find(".refill-sih-balance__tab-content").append(n),n.off("click").click((function(){a.find(".refill-sih-balance__tab").hide(),vn(e,e[0].local_title,t)}))}else r.find(".refill-sih-balance__tab-content").append('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__payment-link sih-modal__row"\n          data-payment-id="'.concat(e[0].id,'"\n        >\n          <span class="sih-modal__text sih-modal__text_capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >').concat(e[0].title,"</span\n          >\n        </a>\n      "))})),i.hide();var o=a.find(".refill-sih-balance__tab.".concat(t));o.length?(o.remove(),a.append(r)):a.append(r),function(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__payment-link").each((function(t,n){$J(n).off("click").click((function(){!function(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__inner").hide(),e.find(".sih-modal__inner.sih-loader").css("display","flex").show()}();var t=$J(this).data("payment-id"),n=+e.attr("data-refill-amount"),a={paymentId:t,amount:Math.ceil(1e3*(.01*n+n))/1e3};V.getLoginSihAppUser().then((function(e){In(),un(a,e.user.email)}))}))}))}()}function gn(e){var t={},n=m.get("SIH_REFILL_BALANCE")||{},a="rus"===(n.country?n.country:"usa")?"rub":"usd";switch(e){case"crypt":t={payment_system:"cryptomus"};break;case"bank":t={method_name:fn[e],currency:a};break;case"wallet":t={method_name:fn[e],currency:a}}return t}function bn(e,t){return e&&e.length&&t?e.reduce((function(e,n){return e.push(n),Object.entries(t).forEach((function(t){var n=mn(t,2),a=n[0],i=n[1];e=Array.isArray(i)?e.filter((function(e){return e.is_enabled&&i.includes(e[a])})):e.filter((function(e){return e.is_enabled&&e[a]===i}))})),e}),[]):[]}function yn(e,t){return e.sort((function(e,n){return e[t]===n[t]?0:e[t]<n[t]?-1:1}))}const Sn={msg:{BACKGROUND_GET_WEAR_VALUE:"floatvalue",BACKGROUND_GET_INVENTORY_VALUE:"GetInventoryValue",BACKGROUND_GET_INVENTORY_ITEMS:"GetInventoryItems",BACKGROUND_GET_EXTPRICE_TF2BP:"TF2BP",BACKGROUND_GET_EXTPRICES:"GET_EXTERNAL_PRICES",BACKGROUND_GET_PLAYER_ITEMS:"GetPlayerItems",BACKGROUND_GET_PLAYER_BANS:"GetPlayerBans",BACKGROUND_GET_LAST_TRADES:"GetLastTrades",BACKGROUND_GET_EXCHANGE_RATES:"exchangerate",BACKGROUND_GET_BANNER:"GetBanner",BACKGROUND_GET_CUSTOM:"getcustom",BACKGROUND_GET_CUSTOM_TOTAL:"getcustomtotal",BACKGROUND_GET_STEAM_PRICES:"GET_STEAM_PRICES",BACKGROUND_GET_PRICE_FROM_STEAM:"GET_PRICE_FROM_STEAM",BACKGROUND_SEND_MARKETPLACE_FEEDBACK:"SEND_MARKETPLACE_FEEDBACK",BACKGROUND_GET_MANIFEST_APP:"GET_MANIFEST_APP",BACKGROUND_GET_MARKETPLACES:"GET_MARKETPLACES",BACKGROUND_REMOVE_BOOKMARK:"RemoveBookmark",BACKGROUND_UPDATE_BOOKMARKS:"UpdateBookmarks",BACKGROUND_SET_TRADEOFFER_NUMBERS:"SetTradeOfferNumbers",BACKGROUND_GET_STEAM_PLAYER_BADGES:"GetSteamPlayerBadges",BACKGROUND_GET_STEAM_BADGES:"GetSteamBadges",BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:"getSteamPlayerAvailableCards",BACKGROUND_SET_USER_STEAM_PRICE:"BACKGROUND_SET_USER_STEAM_PRICE",BACKGROUND_SEND_USER_STEAM_PRICE:"BACKGROUND_SEND_USER_STEAM_PRICE",BACKGROUND_GET_LISTING_ITEM_INFO:"GetListingItemInfo",BACKGROUND_GET_RATES:"GetRates",BACKGROUND_CHANGE_CURRENCY:"BACKGROUND_CHANGE_CURRENCY",BACKGROUND_GET_STEAM_BY_SIH_PRICES:"GET_STEAM_BY_SIH_PRICES",BACKGROUND_GET_PRICES_BY_MARKETPLACES:"GET_PRICES_BY_MARKETPLACES",BACKGROUND_GET_WEAPON_WEAR_MAP:"GET_WEAPON_WEAR_MAP",BACKGROUND_GET_STEAM_RUNES:"GET_STEAM_RUNES",BACKGROUND_GET_SKINS_GIVEAWAY:"GET_SKINS_GIVEAWAY",BACKGROUND_GET_STEAM_REP_BAN_INFO:"GET_STEAM_REP_BAN_INFO",BACKGROUND_GET_PLAYER_BANS_GAINSKINS:"GET_PLAYER_BANS_GAINSKINS",BACKGROUND_GET_ONLINE_USERS_BY_APPID:"GET_ONLINE_USERS_BY_APPID",BACKGROUND_GET_SIH_PRICES:"GET_SIH_PRICES",BACKGROUND_BADGE_PROGRESS_GET_BADGES:"BADGE_PROGRESS_GET_BADGES",BACKGROUND_OPEN_TAB_SETTINGS:"BACKGROUND_OPEN_TAB_SETTINGS",BACKGROUND_EVENT_STORE:"EVENT_STORE",BACKGROUND_EVENT_REGISTRATION:"EVENT_REGISTRATION",BACKGROUND_SET_EVENT_REGISTRATION_V2:"BACKGROUND_SET_EVENT_REGISTRATION_V2",BACKGROUND_SIH_SETTINGS:"SIH_SETTINGS",BACKGROUND_REGISTER_SIH_REFERRER:"REGISTER_SIH_REFERRER",BACKGROUND_REGISTER_SIH_REFERRER_DELETE:"REGISTER_SIH_REFERRER_DELETE",BACKGROUND_INVENTORY_MODE:"SIH_INVENTORY_MODE",BACKGROUND_INVENTORY_PRICE:"BACKGROUND_INVENTORY_PRICE",BACKGROUND_HIGHLIGHT_OVERPRICED:"BACKGROUND_HIGHLIGHT_OVERPRICED",BACKGROUND_TRADE_ACCEPT:"BACKGROUND_TRADE_ACCEPT",BACKGROUND_TRADE_DECLINE:"BACKGROUND_TRADE_DECLINE",BACKGROUND_TRADE_CANCEL:"BACKGROUND_TRADE_CANCEL",BACKGROUND_UPDATE_TRADE_STATUS:"BACKGROUND_UPDATE_TRADE_STATUS",BACKGROUND_TRADEOFFER_THROUGH_PARSING:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT:"BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT",BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY:"BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY",BACKGROUND_GET_MY_STEAM_ID:"BACKGROUND_GET_MY_STEAM_ID",BACKGROUND_UPDATE_KEY_STORAGE_SYNC:"BACKGROUND_UPDATE_KEY_STORAGE_SYNC",BACKGROUND_UPDATE_WALLET:"BACKGROUND_UPDATE_WALLET",BACKGROUND_MANUAL_LOGIN:"BACKGROUND_MANUAL_LOGIN",BACKGROUND_CHECK_USER:"BACKGROUND_CHECK_USER",BACKGROUND_ON_LOGOUT_STEAM_USER:"BACKGROUND_ON_LOGOUT_STEAM_USER",BACKGROUND_UPDATE_USER_SORT_MARKET:"BACKGROUND_UPDATE_USER_SORT_MARKET",BACKGROUND_LOGIN_SIH_APP:"BACKGROUND_LOGIN_SIH_APP",BACKGROUND_GET_USER_AUTH_SIH_APP:"BACKGROUND_GET_USER_AUTH_SIH_APP",BACKGROUND_GET_SIH_APP_USER_INFO:"BACKGROUND_GET_SIH_APP_USER_INFO",BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",BACKGROUND_SET_EMAIL_SIH_APP:"BACKGROUND_SET_EMAIL_SIH_APP",BACKGROUND_DELETE_EMAIL_SIH_APP:"BACKGROUND_DELETE_EMAIL_SIH_APP",BACKGROUND_CHECK_SUBSCRIBE_ADS:"BACKGROUND_CHECK_SUBSCRIBE_ADS",BACKGROUND_ENTER_PASSWORD_SIH_APP:"BACKGROUND_ENTER_PASSWORD_SIH_APP",BACKGROUND_UPDATE_TRADELINK_SIH_APP:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",BACKGROUND_GET_SIH_APP_LOG:"BACKGROUND_GET_SIH_APP_LOG",BACKGROUND_READ_SIH_APP_LOG:"BACKGROUND_READ_SIH_APP_LOG",BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP",BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP",BACKGROUND_CREATE_INVOICE:"BACKGROUND_CREATE_INVOICE",BACKGROUND_GET_ORDER_HISTOGRAM:"BACKGROUND_GET_ORDER_HISTOGRAM",BACKGROUND_GET_SIH_TOKEN:"BACKGROUND_GET_SIH_TOKEN",BACKGROUND_GET_SIH_APP_TOKEN:"BACKGROUND_GET_SIH_APP_TOKEN",BACKGROUND_GET_EVENT_CARDS:"BACKGROUND_GET_EVENT_CARDS",BACKGROUND_CHECK_EVENT_GAME:"BACKGROUND_CHECK_EVENT_GAME",BACKGROUND_BUY_ITEM_SIH_APP:"BACKGROUND_BUY_ITEM_SIH_APP",BACKGROUND_CANCEL_ORDER_SIH_APP:"BACKGROUND_CANCEL_ORDER_SIH_APP",BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",BACKGROUND_SET_BUY_STACK_SIH_APP:"BACKGROUND_SET_BUY_STACK_SIH_APP",BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",BACKGROUND_GET_ALL_BUY_STACK_SIH_APP:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP",BACKGROUND_DELETE_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_BUY_STACK_SIH_APP",BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",BACKGROUND_GET_ORDERS_HISTORY_SIH_APP:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",BACKGROUND_CREATE_BUY_ORDER_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP",BACKGROUND_GET_TOP_SALES:"BACKGROUND_GET_TOP_SALES",BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",BACKGROUND_SET_DEFAULT_BUY_COUNT:"BACKGROUND_SET_DEFAULT_BUY_COUNT",BACKGROUND_GET_AUTO_LOAD_FLOATS:"BACKGROUND_GET_AUTO_LOAD_FLOATS",BACKGROUND_PING_SIH_APP_SESSION:"BACKGROUND_PING_SIH_APP_SESSION",BACKGROUND_UPDATE_USER_STATE:"BACKGROUND_UPDATE_USER_STATE",BACKGROUND_CREATE_BUY_ORDER:"BACKGROUND_CREATE_BUY_ORDER",BACKGROUND_GET_BUY_ORDER_STATUS:"BACKGROUND_GET_BUY_ORDER_STATUS",BACKGROUND_CANCEL_BUY_ORDER:"BACKGROUND_CANCEL_BUY_ORDER",BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",BACKGROUND_RESELL_ITEMS:"BACKGROUND_RESELL_ITEMS",BACKGROUND_SAVE_ITEM_FOR_SALE:"BACKGROUND_SAVE_ITEM_FOR_SALE",BACKGROUND_REMOVE_ITEM_FOR_SALE:"BACKGROUND_REMOVE_ITEM_FOR_SALE",BACKGROUND_GET_SAVED_ITEMS_FOR_SALE:"BACKGROUND_GET_SAVED_ITEMS_FOR_SALE",BACKGROUND_STOP_RESELL_ITEMS:"BACKGROUND_STOP_RESELL_ITEMS",BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS",BACKGROUND_RESUBMIT_BUY_ORDER:"BACKGROUND_RESUBMIT_BUY_ORDER",BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS",BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS",BACKGROUND_CHECK_API_KEY:"BACKGROUND_CHECK_API_KEY",BACKGROUND_RECONNECT_NEW_SIH_AGENT:"BACKGROUND_RECONNECT_NEW_SIH_AGENT",BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS:"BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS",BACKGROUND_EDIT_PROJECTS_PERMISSION:"BACKGROUND_EDIT_PROJECTS_PERMISSION",BACKGROUND_DELETE_PROJECTS_PERMISSION:"BACKGROUND_DELETE_PROJECTS_PERMISSION",BACKGROUND_GET_PROJECTS_PERMISSION:"BACKGROUND_GET_PROJECTS_PERMISSION",BACKGROUND_GET_PRICES_FOR_EXTERNAL:"BACKGROUND_GET_PRICES_FOR_EXTERNAL",BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",BACKGROUND_CHECK_SIH_CASE:"BACKGROUND_CHECK_SIH_CASE",BACKGROUND_GET_SIH_CASES:"BACKGROUND_GET_SIH_CASES",BACKGROUND_GET_SIH_CASE_INFO:"BACKGROUND_GET_SIH_CASE_INFO",BACKGROUND_SIH_OPEN_CASE:"BACKGROUND_SIH_OPEN_CASE",BACKGROUND_GET_SIH_CASE_HISTORY:"BACKGROUND_GET_SIH_CASE_HISTORY",BACKGROUND_DELETE_SIH_CASE_HISTORY:"BACKGROUND_DELETE_SIH_CASE_HISTORY",BACKGROUND_GET_KINGUIN_PRODUCTS:"BACKGROUND_GET_KINGUIN_PRODUCTS",BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE:"BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE"},alarm:{MAIN:"main",CHECK_PRICE:"checkprice",CHECK_USER:"checkUser",CHECK_TRADEOFFER_THROUGH_API:"CHECK_TRADEOFFER_THROUGH_API",CHECK_TRADEOFFER_THROUGH_PARSING:"CHECK_TRADEOFFER_THROUGH_PARSING",CLEAR_TRADEOFFER_REQUEST_LIMIT:"CLEAR_TRADEOFFER_REQUEST_LIMIT",CHECK_MARKET_TOGGLE:"CHECK_MARKET_TOGGLE",CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE:"CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE",BACKGROUND_AD_HIT_SEND:"AD_HIT_SEND",ACTUALIZE_AGENTS_STATE:"ACTUALIZE_AGENTS_STATE",ACTUALIZE_NEW_SIH_AGENT_STATE:"ACTUALIZE_NEW_SIH_AGENT_STATE",PARSING_ACTUAL_INVENTORY:"PARSING_ACTUAL_INVENTORY",CHECK_ACTUAL_BALANCE:"CHECK_ACTUAL_BALANCE",CHECK_ACTIVE_LOTS_MARKET:"CHECK_ACTIVE_LOTS_MARKET",CHECK_HISTORY_LOTS_MARKET:"CHECK_HISTORY_LOTS_MARKET",GET_EXCHANGE_RATES:"GET_EXCHANGE_RATES",GET_STEAM_RATES:"GET_STEAM_RATES",GET_STEAM_CURRENCY:"GET_STEAM_CURRENCY",UPDATE_PRICE_BOOKMARKS:"UPDATE_PRICE_BOOKMARKS",CHECK_SIH_APP_AUTH:"CHECK_SIH_APP_AUTH",UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS:"UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS",PING_SIH_APP_SESSION:"PING_SIH_APP_SESSION",BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP",BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP:"BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP",BACKGROUND_PARSE_OTHER_INVENTORY:"BACKGROUND_PARSE_OTHER_INVENTORY",BACKGROUND_SEND_EVENT_REGISTRATION_V2:"BACKGROUND_SEND_EVENT_REGISTRATION_V2",BACKGROUND_SEND_USER_MARKET_HISTORY:"BACKGROUND_SEND_USER_MARKET_HISTORY",BACKGROUND_CHECK_SIH_VERSION:"BACKGROUND_CHECK_SIH_VERSION"},notification:{EXTENSION_UPDATED:"update",INPUT_INVITE:"comInvites",INPUT_COMMENT:"comMessages",OUTPUT_OFFER:"comSentOffers",INPUT_OFFER:"comReceivedOffers",AVAILABLE_FREE_REWARDS:"available_free_rewards"},tradeOfferState:{Invalid:1,Active:2,Accepted:3,Countered:4,Expired:5,Canceled:6,Declined:7,InvalidItems:8,CreatedNeedsConfirmation:9,CanceledBySecondFactor:10,InEscrow:11},tradeOfferType:{Sent:0,Received:1},games:{CSGO:730,COUNTER_STRIKE_GLOBAL_OFFENSIVE:730,TEAM_FORTRESS_2:440,DOTA_2:570,PAYDAY_2:218620,RUST:252490,H1Z1_JUST_SURVIVE:295110,H1Z1_KING_OF_THE_KILL:433850,UNTURNED:304930,KILLING_FLOOR_2:232090,PLAYERUNKNOWNS_BATTLEGROUNDS:578080,STEAM_COMMUNITY:753},stats:{SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED:"SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED",SIH_EVENTS_REGISTER_ENABLED:"SIH_EVENTS_REGISTER_ENABLED",SIH_REFERRER:"SIH_REFERRER"},ALLOW_LAST_STEAM_NUMBERS:[0,1,2,3,4,5,6,7,8,9],UNAVAILABLE_GROUP_APP_IDS:[321360,753],AVAILABLE_DOTA_NAMES:[{"Music Pack":{isMarketHashName:!0,isType:!0}},{"Cursor Pack":{isMarketHashName:!0,isType:!0}},{Bundle:{isMarketHashName:!0,isType:!0}},{Taunt:{isMarketHashName:!0,isType:!1}},{"Treasure Chest":{isMarketHashName:!1,isType:!0}},{"Immortal Treasure":{isMarketHashName:!0,isType:!1}},{"Inscribed Gem":{isMarketHashName:!1,isType:!0}},{"Name Tag":{isMarketHashName:!0,isType:!1}},{"Treasure Key":{isMarketHashName:!1,isType:!0}},{"Loading Screen":{isMarketHashName:!1,isType:!0}},{"Priceless Treasure":{isMarketHashName:!1,isType:!0}}],STEAM_NOTIFICATIONS_TYPES:{TRADE:9},countries:{abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia",bra:"Brasil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic",can:"Canada",cat:"Catalonia",cck:"Cocos (Keeling) Islands",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d`Ivoire",cmr:"Cameroon",cod:"Congo (Democratic Republic of the Congo)",cog:"Congo (Congo-Brazzaville)",cok:"Cook Islands",col:"Colombia",com:"Comoros",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands",cyp:"Cyprus",cze:"Czech Republic",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (Malvinas)",fra:"France",fro:"Faroe Islands",fsm:"Micronesia",gab:"Gabon",gbr:"United Kingdom",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory",irl:"Ireland",irn:"Iran",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea",kos:"Kosovo",kwt:"Kuwait",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macau",maf:"Saint Martin",mar:"Marokko",mco:"Monaco",mda:"Moldova",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands",mkd:"Makedonia",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Phillipines",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea",prt:"Portugal",pry:"Paraguay",pse:"State of Palestine",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Roumania",rus:"Russia",rwa:"Rwanda",sau:"Saudi Arabia",sco:"Scotland",sdn:"Sudan",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan, Province of China",tza:"United Republic of Tanzania",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands",ury:"Uruguay",usa:"USA",uzb:"Uzbekistan",vat:"Vanuatu",vct:"Vatican",ven:"Venezuela",vgb:"Virgin Islands",vnm:"Vietnam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe"}};function Cn(){!function(){var e=$J(".refill-sih-balance").find(".refill-sih-balance__select-country-outer");e.find("#refill-sih-balance__select-country").length||e.append('<select id="refill-sih-balance__select-country"></select>');!function(){var e=$J(".refill-sih-balance"),t=e.find("#refill-sih-balance__select-country");$J.each(Sn.countries,(function(e,n){t.append('<option class="flag-icon flag-icon-'.concat(e,' flag-icon-squared" data-country="').concat(e,'">\n        <span>').concat(n,"</span>\n      </option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var n=$J(t.element).attr("data-country"),a=$J("<li>",{class:"refill-sih-balance__select-option",value:t.element.attr("value")}).attr("data-country","".concat(n)),i=$J("<span>",{class:t.element.attr("class")}),r=$J("<span>",{text:t.label});return r.prepend(i),a.append(r).appendTo(e)}}),$J("#refill-sih-balance__select-country").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("refill-sih-balance__widget_content")}}}),An(),$J("#refill-sih-balance__select-country-button").click((function(){var e=m.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa";$J("#refill-sih-balance__select-country-menu").find(".refill-sih-balance__select-option").each((function(e,n){var a=$J(n),i=a.find(".ui-menu-item-wrapper");i.removeClass("ui-state-active"),a.data("country")===t&&i.addClass("ui-state-active")}))})),$J("#refill-sih-balance__select-country-button").click((function(){var e=$J(this);$J(".refill-sih-balance__widget_content").find(".refill-sih-balance__select-option").each((function(t,n){$J(n).off("click").click((function(){var t=$J(this).data("country");e.find(".flag-icon").remove();var n,a=m.get("SIH_REFILL_BALANCE")||{};a.country=t,m.set("SIH_REFILL_BALANCE",a),An(),n=$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item"),V.getSubscribeAdsMethods().then((function(e){n.each((function(t,n){var a=$J(n),i=a.find(".payment-methods__item_text"),r=gn(a.data("method")),o=bn(e,r);if(o.length){a.removeClass("hidden");var s=o.map((function(e){return e.title})).filter((function(e){return e}));if(!s.length)return;if(s.length<=2){var l=s.join(",");i.text(l)}else{var c=s.slice(0,2).join(","),d=s.slice(2,s.length),_="".concat(c," ").concat(SIHLang.refillBalance.and," ").concat(d.length," ").concat(SIHLang.refillBalance.more_currencies);i.text(_)}}else a.addClass("hidden")}))})),function(){var e=$J(".refill-sih-balance"),t=+e.attr("data-refill-amount"),n=m.get("SIH_REFILL_BALANCE")||{},a=n.country?n.country:"usa",i="rus"===a?5:1,r=d.getPriceFromCurrency(t,i).text;e.find(".refill-sih-balance__refill-amount").text(r)}()}))}))}))}()}()}function An(){var e=m.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa",n=$J("#refill-sih-balance__select-country-button").find(".ui-selectmenu-text");n.before('<span class="flag-icon flag-icon-'.concat(t,' flag-icon-squared"></span')),n.text(Sn.countries[t])}function En(){var e;!function(){var e=$J("body"),t=$J('\n    <div class="refill-sih-balance">\n      <div class="refill-sih-balance__fade"></div>\n      <div class="sih-modal sih-global refill-sih-balance__modal">\n        <div class="refill-sih-balance__close"></div>\n        <div class="refill-sih-balance__content">\n          <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n            <span class="sih-modal__back_icon"></span>\n            <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n          </div>\n          <div class="sih-modal__inner refill-sih-balance__inner">\n            <div class="refill-sih-balance__tab sih-modal__column gap-20" data-title="main">\n              <div class="sih-modal__column">\n                <span class="sih-modal__title">').concat(SIHLang.refillBalance.title,'</span>\n                <div class="sih-modal__row refill-sih-balance__subtitle gap-5">\n                  <span>').concat(SIHLang.refillBalance.subtitle,'</span>\n                  <span class="refill-sih-balance__refill-amount"></span>\n                </div>\n              </div>\n\n              <div class="sih-modal__column gap-10">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_country,':</span>\n                <div class="sih-modal__row refill-sih-balance__select-country-outer"></div>\n              </div>\n\n              <div class="sih-modal__column">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_method,':</span>\n                <div class="sih-modal__row refill-sih-balance__payment-methods mt-10"></div>\n              </div>\n            </div>\n          </div>\n          <div class="sih-modal__inner sih-loader">\n            <div class="sih-logo-loader"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '));e.find(".refill-sih-balance").length||e.append(t);var n=m.get("SIH_REFILL_BALANCE")||{};n&&n.readRefillTerms||function(e){var t=e.find(".refill-sih-balance__modal"),n=$J('\n    <div\n      class="refill-sih-balance__info-message sih-modal__column w-100per h-100per absolute left-0 bottom-0 justify-end bg-glass"\n    >\n      <div class="sih-modal__column bg-main gap-15 px-36 py-36 items-start rounded-b-8">\n        <span class="title">'.concat(SIHLang.refillBalance.info_message.title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_2,'</span>\n        <div class="sih-modal__text sih-modal__text_md">\n          ').concat(SIHLang.refillBalance.info_message.text_3,'\n          <a\n            href="https://sih.app/user/subscription"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >https://sih.app/user/subscription</a\n          >\n        </div>\n        <div class="sih-modal__row items-center gap-20">\n          <a href="javascript:void(0)" class="close-info-message sih-modal__button sih-modal__button_blue py-16 px-24"\n            >').concat(SIHLang.refillBalance.info_message.btn_text,'</a\n          >\n          <label class="sih-modal__refill-terms" for="refill-terms">\n            <input type="checkbox" name="refill-terms" id="refill-terms" class="sih-modal__input_hidden" />\n            <label class="fake-checkbox" for="refill-terms"></label>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.refill_terms,"</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  ")),a=t.find(".refill-sih-balance__info-message");a.length?a.show():t.append(n);function i(){r(),o()}function r(){t.find(".close-info-message").click((function(){t.find(".refill-sih-balance__info-message").hide()}))}function o(){n.find("#refill-terms").change((function(){var e=$J(this).is(":checked"),t=m.get("SIH_REFILL_BALANCE")||{};t.readRefillTerms=e,m.set("SIH_REFILL_BALANCE",t)}))}i()}(t)}(),Cn(),pn(),(e=$J(".refill-sih-balance")).find(".refill-sih-balance__close").off("click").click((function(){In()})),e.find(".refill-sih-balance__fade").off("click").click((function(){In()})),function(){var e=$J(".refill-sih-balance"),t=e.find(".refill-sih-balance__inner");e.find(".sih-modal__back").off("click").click((function(){var n=t.find(".refill-sih-balance__tab:visible"),a=n.data("prev-title");a?(n.hide(),t.find(".refill-sih-balance__tab").each((function(e,t){var n=$J(t);n.data("title")===a&&n.css("display","flex").show()}))):e.hide()}))}()}function In(){$J(".refill-sih-balance").hide().remove(),$J("body").css("overflow","auto"),En()}var wn=null;function xn(){var e,t,n;e=$J("body"),t='\n    <div id="sih-notification-panel">\n      <div class="notification-panel__fade"></div>\n      <div class="notification-panel sih-global">\n        <div class="row justify-between px-24">\n          <div class="notification-panel__title row gap-16 items-baseline">\n            <span class="text fs-16">'.concat(SIHLang.notifications.title,'</span>\n          </div>\n\n          <div class="notification-panel__close"></div>\n        </div>\n        <div class="notification-panel__header">\n          <div class="filter row gap-8">\n            <label for="notification-panel__filter-success" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-success"\n                class="filter__input"\n                data-filter="success"\n                checked\n              />\n              <div class="filter__item success">\n                <div class="row w-6 h-6 rounded-50per bg-green"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n            <label for="notification-panel__filter-error" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-error"\n                class="filter__input"\n                data-filter="error"\n                checked\n              />\n              <div class="filter__item error">\n                <div class="row w-6 h-6 rounded-50per bg-red"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n          </div>\n        </div>\n        <div class="notification-panel__content column"></div>\n      </div>\n    </div>\n  '),e.find("#sih-notification-panel").length||e.append(t),n=$J("#sih-notification-panel"),$J("#sih-header-notifications").off("click").click((function(){$J("body").css("overflow","hidden"),n.css("display","flex"),setTimeout((function(){n.find(".notification-panel").css({transform:"translateX(0)"})}),100),Tn().then((function(){Dn(),kn(),On(),Rn(),Nn()}))})),function(){var e=$J("#sih-notification-panel");function t(){e.find(".notification-panel").css({transform:"translateX(100%)"}),setTimeout((function(){e.hide(),$J("body").css("overflow","auto")}),300)}e.find(".notification-panel__close").off("click").click((function(){t()})),e.find(".notification-panel__fade").off("click").click((function(){t()}))}()}function Tn(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__content");return e.find(".notification-panel__content").children().remove(),new Promise((function(e){V.getLogs().then((function(n){if(n)V.getUserSihApp().then((function(a){V.getLoginSihAppUser().then((function(i){if(i.success&&i.tfaNeed&&($J("#sih-notification-panel").find(".notification-panel__close").trigger("click"),$J("#sih-enter-password").attr("data-show-modal","notification-panel").show()),n.length&&a.success){var r=(new Date).toDateString();n.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})).forEach((function(e,n){t.append('\n                    <div class="notification-panel__group notification-panel__group-'.concat(n,'">\n                      <div class="notification-panel__date-splitter">\n                        <div class="notification-panel__date-splitter_text">\n                          ').concat(r===e.date?"".concat(SIHLang.notifications.today):e.date.slice(4,10),"\n                        </div>\n                      </div>\n                    </div>\n                  ")),e.items.sort((function(e,t){return t.createdAt-e.createdAt})).forEach((function(e){var a=new Date(e.createdAt).getHours(),i=new Date(e.createdAt).getMinutes(),r=V.getLogTemplateByGroup(e.data),o='\n                        <div\n                          class="notification-panel__item '.concat(e.isRead?"":"new",'"\n                          data-filter="').concat(e.data.success?"success":"error",'"\n                        >\n                          <div class="row items-center gap-14">\n                            <div class="row w-6 h-6 rounded-50per ').concat(e.data.success?"bg-green":"bg-red",'"></div>\n                            <div class="text text_grey">\n                              ').concat(a<10?"0".concat(a):a,":").concat(i<10?"0".concat(i):i,"\n                            </div>\n                          </div>\n\n                          ").concat(r,"\n                        </div>\n                      ");t.find(".notification-panel__group-".concat(n)).append(o)}))})),e()}else{var o='\n                <div class="column w-100per h-100per items-center justify-center">\n                  <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n                  ").concat(Array.isArray(n)?"":'\n                                            <div class="row items-center gap-5">\n                                                <span class="text">'.concat(SIHLang.notifications.missing_notifications,'</span>\n                                                <a id="upload-notification-logs" class="text text_blue hover-opacity-8" href="javascript:void(0)">').concat(SIHLang.notifications.download,"</a>\n                                            </div>\n                                        "),"\n                </div>\n              ");t.append(o),e()}}))}));else{var a='\n          <div class="column w-100per h-100per items-center justify-center">\n            <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n          </div>\n        ");t.append(a),e()}}))}))}function kn(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__header").find(".filter"),n=t.find(".filter__item.success").find(".filter__count"),a=t.find(".filter__item.error").find(".filter__count"),i=e.find(".notification-panel__content").find(".notification-panel__item"),r=0,o=0;i.each((function(e,t){switch($J(t).data("filter")){case"success":r+=1;break;case"error":o+=1}})),n.text(r),a.text(o)}function On(){var e=$J("#sih-notification-panel").find(".filter").find(".filter__label"),t=[];e.each((function(n,a){$J(a).find(".filter__input").change((function(){e.each((function(e,n){var a=$J(n).find(".filter__input"),i=a.data("filter");if(a.is(":checked"))t.length&&t.includes(i)||t.push(i);else{var r=t.findIndex((function(e){return e===i}));-1!==r&&t.splice(r,1)}})),t.length||e.find(".filter__input").prop("checked",!0),function(e){var t=$J("#sih-notification-panel"),n=t.find(".notification-panel__content");n.find(".notification-panel__group").each((function(t,n){var a=$J(n),i=a.find(".notification-panel__item"),r=0;i.each((function(t,n){var a=$J(n),i=a.data("filter");e.length&&!e.includes(i)?a.hide():(r++,a.css("display","grid"))})),r?a.css("display","grid"):a.hide()}))}(t)}))}))}function Rn(){var e=$J("#sih-notification-panel"),t=$J(".notification-panel__title"),n=t.find(".notification-panel__read");V.getLogs().then((function(a){if(a&&a.length)if(Un(a).isAllRead)n.length&&n.hide();else{if(n.length)n.css("display","flex").hide().fadeIn();else{var i='\n            <a href="javascript:void(0)" class="notification-panel__read text text_blue fs-12 hover-opacity-8"\n              >'.concat(SIHLang.notifications.mark_read,"</a\n            >\n          ");t.append(i)}e.find(".notification-panel__read").off("click").click((function(){var t=$J(this);V.readAllNotification().then((function(n){n&&n.length&&(Dn(),t.hide(),e.find(".notification-panel__item").removeClass("new"))}))}))}else n.length&&n.hide()}))}function Nn(){$J("#upload-notification-logs").off("click").click((function(){clearTimeout(wn),wn=setTimeout((function(){V.getUserOrdersHistory(!1).then((function(){Tn().then((function(){Dn(),kn(),On(),Rn(),Nn()}))}))}),300)}))}var Ln=null;function Pn(){Hn()}function Dn(){var e=$J("#sih-header-notifications"),t=e.find(".sih-header-notifications__indicator");V.getLogs().then((function(n){if(n&&n.length){var a=Un(n),i=a.isAllRead,r=a.unreadNotification;i?(e.attr("data-sih-unread",!1),t.text("")):(e.attr("data-sih-unread",!0),t.text(r.length<=9?r.length:"9+"))}}))}function Un(e){var t=!0,n=Array.isArray(e)?e.reduce((function(e,n){return n.items.forEach((function(n){n.isRead||(e.push(n),t=!1)})),e}),[]):[];return{isAllRead:t,unreadNotification:n}}var Hn=function(){var e=$J("#global_actions").find(".sih-global-menu__icons");V.getLogs().then((function(t){var n=0;if(t&&t.length){var a=Un(t),i=a.isAllRead,r=a.unreadNotification;i||(n=r.length)}var o='\n      <a href="javascript:void(0)" id="sih-header-notifications" class="sih-header-notifications sih-global-menu__icon">\n        <span class="sih-header-notifications__inner">\n          <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M8 20C9.1 20 10 19.1 10 18H6C6 19.1 6.89 20 8 20ZM14 14V9C14 5.93 12.36 3.36 9.5 2.68V2C9.5 1.17 8.83 0.5 8 0.5C7.17 0.5 6.5 1.17 6.5 2V2.68C3.63 3.36 2 5.92 2 9V14L0 16V17H16V16L14 14Z"\n              fill="currentColor"\n            />\n          </svg>\n          <span class="sih-header-notifications__indicator">\n            '.concat(0===n?"":n<=9?n:"9+","\n          </span>\n        </span>\n      </a>\n    ");e.find("#sih-header-notifications").length||e.append(o),V.getLogs().then((function(e){e&&e.length&&(Un(e).isAllRead||$J("#sih-header-notifications").attr("data-sih-unread",!0))})),clearInterval(Ln),Ln=setInterval((function(){Dn()}),1e4),xn()}))};var Bn=function(){$J("#header_wallet_ctn .tooltip").addClass("steam")},Gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e.status&&e.text){var a=$J("body"),i=$J('\n    <div id="sih-notification-popup" class="sih-global sih-notification-popup '.concat(e.status,'"></div>\n  ')),r=a.find("#sih-notification-popup"),o=r.find(".sih-notification-popup__content").length+1;if("error"===e.status){var s=$J('\n        <div class="sih-notification-popup__content" data-id="'.concat(o,'">\n          <span class="text">').concat(SIHLang.notification_popup.error,": ").concat(Mn(e.text),"</span>\n        </div>\n      "));r.length?r.append(s):i.append(s),setTimeout((function(){s.fadeOut(300,(function(){s.remove(),n()}))}),t*o)}if(r.length)r.fadeIn(300,(function(){}));else a.append(i),a.find("#sih-notification-popup").fadeIn(300,(function(){}))}},Mn=function(e){return"rate limit exceeded"===e.toLowerCase()?SIHLang.notification_popup.errors.rate_limit_exceeded:e};function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function $n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Vn(a.key),a)}}function Jn(e,t,n){return t&&$n(e.prototype,t),n&&$n(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jn(e,t,n){return(t=Vn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e){var t=function(e,t){if("object"!=Kn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Kn(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kn(t)?t:t+""}const Fn=new(Jn((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,"checkSteamLogin",(function(e){return new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_CHECK",data:{steamUsername:e}},(function(e){var a;if(e.success&&"success"===(null==e||null===(a=e.response)||void 0===a?void 0:a.status))t(e);else{var i,r={status:"error",text:(null==e||null===(i=e.response)||void 0===i?void 0:i.message)||e.error};Gn(r,5e3,(function(){})),n(e)}}))}))})),jn(this,"initSteamRefill",(function(e){var t=e.steamUsername,n=e.amount,a=e.netAmount,i=e.currency,r=void 0===i?"RUB":i,o=e.transactionId;return new Promise((function(e,i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY",data:{steamUsername:t,amount:n,netAmount:a,currency:r,transactionId:o}},(function(t){if(t.success)e(t);else{var n={status:"error",text:t.error};Gn(n,5e3,(function(){})),i(t)}}))}))}))})));function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Wn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wn=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var r=t&&t.prototype instanceof v?t:v,o=Object.create(r.prototype),s=new O(a||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var u="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function v(){}function g(){}function b(){}var y={};c(y,o,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(R([])));C&&C!==n&&a.call(C,o)&&(y=C);var A=b.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,r,o,s){var l=_(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Yn(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;i(this,"_invoke",{value:function(e,a){function i(){return new t((function(t,i){n(e,a,t,i)}))}return r=r?r.then(i,i):i()}})}function w(t,n,a){var i=u;return function(r,o){if(i===h)throw Error("Generator is already running");if(i===f){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var s=a.delegate;if(s){var l=x(s,a);if(l){if(l===p)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===u)throw i=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=h;var c=_(t,n,a);if("normal"===c.type){if(i=a.done?f:m,c.arg===p)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=f,a.method="throw",a.arg=c.arg)}}}function x(t,n){var a=n.method,i=t.iterator[a];if(i===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var r=_(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Yn(t)+" is not iterable")}return g.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,a,i,r){void 0===r&&(r=Promise);var o=new I(d(e,n,a,i),r);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(a,i){return s.type="throw",s.arg=t,n.next=a,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),p}},t}function Zn(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}function zn(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){Zn(r,a,i,o,s,"next",e)}function s(e){Zn(r,a,i,o,s,"throw",e)}o(void 0)}))}}var qn=null,Xn=4e4,Qn=function(){ea(),ta()},ea=function(){var e,t=$J("body"),n=At("steam-refill"),a=$J("#application_config").attr("data-userinfo"),i=a?null===(e=JSON.parse(a))||void 0===e?void 0:e.account_name:null,r=$J('\n    <div id="sih-steam-refill" class="sih-steam-refill">\n      <div class="sih-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-steam-refill-modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-steam-refill__header">\n            <div class="column gap-8">\n              <span class="text fs-20">Steam</span>\n              <div class="row gap-7 items-center">\n                <span class="text text_light-grey fs-14">Пополнение баланса аккаунта для РФ и Стран СНГ</span>\n\n                <div\n                  class="sih-steam-refill__tooltip-icon row items-center"\n                  title="Азербайджан, Армения, Беларусь, Казахстан, Киргизия, Молдова, Таджикистан, Узбекистан, Туркменистан"\n                >\n                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      d="M6.3 4.9H7.7V3.5H6.3V4.9ZM7 12.6C3.913 12.6 1.4 10.087 1.4 7C1.4 3.913 3.913 1.4 7 1.4C10.087 1.4 12.6 3.913 12.6 7C12.6 10.087 10.087 12.6 7 12.6ZM7 0C6.08075 0 5.17049 0.18106 4.32122 0.532843C3.47194 0.884626 2.70026 1.40024 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C2.70026 12.5998 3.47194 13.1154 4.32122 13.4672C5.17049 13.8189 6.08075 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 6.08075 13.8189 5.17049 13.4672 4.32122C13.1154 3.47194 12.5998 2.70026 11.9497 2.05025C11.2997 1.40024 10.5281 0.884626 9.67878 0.532843C8.82951 0.18106 7.91925 0 7 0V0ZM6.3 10.5H7.7V6.3H6.3V10.5Z"\n                      fill="currentColor"\n                    />\n                  </svg>\n                </div>\n              </div>\n            </div>\n            <div class="sih-steam-refill__powered"></div>\n          </div>\n          <div class="sih-steam-refill__main">\n            <div class="sih-steam-refill__left-side sih-steam-refill-form">\n              <div class="row gap-20">\n                <div class="sih-steam-refill-form__item-block column gap-8" data-name="refill">\n                  <span class="text fs-14">Сумма пополнения</span>\n                  <div class="sih-steam-refill-form__input_outer br2-grey rounded-8 bg-black-100 py-8 px-12 box-border">\n                    <input\n                      type="text"\n                      id="sih-steam-refill-input"\n                      class="sih-steam-refill-form__input text text_white-100 fs-16 lh-21"\n                      placeholder="300"\n                      pattern="/d*"\n                      maxlength="7"\n                      autocomplete="off"\n                    />\n                    <div class="row gap-7 items-center">\n                      <label for="sih-steam-refill-input" class="text text_grey fs-14 lh-19">₽</label>\n\n                      <div class="sih-steam-refill-form__clear">\n                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path\n                            d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                            fill="currentColor"\n                          />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                    <span class="sih-alert-block__message"></span>\n                  </div>\n\n                  <div class="sih-steam-refill-form__presets sih-refill-presets">\n                    <div class="sih-refill-presets__item" data-value="500">500 ₽</div>\n                    <div class="sih-refill-presets__item" data-value="1000">1000 ₽</div>\n                    <div class="sih-refill-presets__item" data-value="1500">1500 ₽</div>\n                    <div class="sih-refill-presets__item" data-value="2000">2000 ₽</div>\n                    <div class="sih-refill-presets__item" data-value="5000">5000 ₽</div>\n                  </div>\n                </div>\n                <div class="sih-steam-refill-form__item-block column gap-8" data-name="login">\n                  <div class="row gap-7 items-center">\n                    <span class="text fs-14">Логин Steam</span>\n                    <div\n                      class="sih-steam-refill__tooltip-icon row items-center"\n                      title=\'Логин можно найти в разделе "Об аккаунте" нажав на выпадающее меню рядом с Вашим никнеймов в правом верхнем углу экрана на странице Steam\'\n                    >\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          d="M6.3 4.9H7.7V3.5H6.3V4.9ZM7 12.6C3.913 12.6 1.4 10.087 1.4 7C1.4 3.913 3.913 1.4 7 1.4C10.087 1.4 12.6 3.913 12.6 7C12.6 10.087 10.087 12.6 7 12.6ZM7 0C6.08075 0 5.17049 0.18106 4.32122 0.532843C3.47194 0.884626 2.70026 1.40024 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C2.70026 12.5998 3.47194 13.1154 4.32122 13.4672C5.17049 13.8189 6.08075 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 6.08075 13.8189 5.17049 13.4672 4.32122C13.1154 3.47194 12.5998 2.70026 11.9497 2.05025C11.2997 1.40024 10.5281 0.884626 9.67878 0.532843C8.82951 0.18106 7.91925 0 7 0V0ZM6.3 10.5H7.7V6.3H6.3V10.5Z"\n                          fill="currentColor"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n\n                  <div class="sih-steam-refill-form__input_outer br2-grey rounded-8 bg-black-100 py-8 px-12 box-border">\n                    <input\n                      type="text"\n                      id="sih-steam-refill-login"\n                      class="sih-steam-refill-form__input text text_white-100 fs-16 lh-21"\n                      placeholder="Логин"\n                      autocomplete="off"\n                    />\n                    <div class="sih-steam-refill-form__clear">\n                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z"\n                          fill="currentColor"\n                        />\n                      </svg>\n                    </div>\n                  </div>\n                  <div class="sih-steam-refill-form__refill-alert-block sih-alert-block">\n                    <span class="sih-alert-block__message"></span>\n                  </div>\n                  '.concat(i?'<div class="sih-steam-refill-form__presets sih-refill-presets">\n                    <div class="sih-refill-presets__item" data-value="'.concat(i,'">Мой логин</div>\n                  </div>'):"",'\n                </div>\n              </div>\n            </div>\n\n            <div class="sih-steam-refill__right-side sih-steam-refill-payment">\n              <span class="text fs-24 lh-33 bold">К оплате</span>\n              <div class="column gap-7">\n                <div class="row justify-between">\n                  <span class="text fs-16 lh-22">Сумма зачисления</span>\n                  <span id="sih-steam-refill-amount" class="text fs-16 lh-22" data-value="0">0 ₽</span>\n                </div>\n                <div class="row justify-between">\n                  <span class="text fs-16 lh-22">Комиссия</span>\n                  <span id="sih-steam-refill-commission" class="text fs-16 lh-22" data-value="0">0 ₽</span>\n                </div>\n                <div class="row justify-between">\n                  <span class="text fs-16 lh-22">Итого</span>\n                  <span id="sih-steam-refill-total" class="text fs-16 lh-22" data-value="0">0 ₽</span>\n                </div>\n                <div class="row justify-between">\n                  <div class="row items-center gap-7">\n                    <span class="text fs-16 lh-22">Кешбэк на SIH баланс</span>\n                    <div\n                      class="sih-steam-refill__tooltip-icon"\n                      title="После каждого успешного пополнения, Вам будет начислен бонус реальными средствами на баланс SIH, который Вы сможете использовать для покупки предметов на SIH.Market или оплаты подписки SIH.Black."\n                    >\n                      <div class="row items-center">\n                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path\n                            d="M6.3 4.9H7.7V3.5H6.3V4.9ZM7 12.6C3.913 12.6 1.4 10.087 1.4 7C1.4 3.913 3.913 1.4 7 1.4C10.087 1.4 12.6 3.913 12.6 7C12.6 10.087 10.087 12.6 7 12.6ZM7 0C6.08075 0 5.17049 0.18106 4.32122 0.532843C3.47194 0.884626 2.70026 1.40024 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C2.70026 12.5998 3.47194 13.1154 4.32122 13.4672C5.17049 13.8189 6.08075 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 6.08075 13.8189 5.17049 13.4672 4.32122C13.1154 3.47194 12.5998 2.70026 11.9497 2.05025C11.2997 1.40024 10.5281 0.884626 9.67878 0.532843C8.82951 0.18106 7.91925 0 7 0V0ZM6.3 10.5H7.7V6.3H6.3V10.5Z"\n                            fill="currentColor"\n                          />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n\n                  <span id="sih-steam-refill-cashback" class="text text_green fs-16 lh-22" data-value="0">0 ₽</span>\n                </div>\n\n                <div class="row items-center gap-7 mt-10">\n                  <span class="text fs-16 lh-22">F.A.Q</span>\n                  <div class="sih-steam-refill-payment__important" title="">\n                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M12 2L1 21H23M12 6L19.53 19H4.47M11 10V14H13V10M11 16V18H13V16" fill="#FFFF00" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              <div id="sih-steam-refill-pay" class="sih-steam-refill-pay inactive">Оплатить</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '));r.find(".sih-steam-refill__tooltip-icon").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-steam-refill__tooltip"}}),r.find(".sih-steam-refill-payment__important").tooltip({content:$J('\n      <div class="column">\n        <ul>\n          <li>\n            Как правило, пополнение происходит мгновенно или в течение нескольких минут, однако в редких случаях процесс\n            пополнения может затянуться на час.\n          </li>\n          <li>\n            Если Вы НИКОГДА ранее не пополняли баланс аккаунта любыми способами, то в некоторых случаях это может\n            привести к смене региона на KZ\n          </li>\n        </ul>\n      </div>\n    '),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip"}}),r.find("#sih-steam-refill-pay").before(n),t.find(".sih-steam-refill").length||t.append(r)},ta=function(){na(),aa(),ia(),ra(),oa(),sa(),la()},na=function(){var e=$J("#sih-steam-refill");e.on("click",".sih-steam-refill__fade, .sih-modal__close",(function(){e.hide().remove()}))},aa=function(){var e=$J("#sih-steam-refill").find("#sih-steam-refill-input");e.on("keypress",(function(e){var t=e.which||e.keyCode;(t<48||t>57)&&e.preventDefault()})),e.on("paste",(function(t){var n=(t.originalEvent||t).clipboardData.getData("text/plain");n=n.replace(/[^0-9]/g,""),e.val(Xn>=n?n:Xn),t.preventDefault()})),e.on("focusout",(function(t){var n=t.target,a=$J(n).val();a=a.replace(/[^0-9]/g,""),da(e,a),e.val(Xn>=a?a:Xn),ua()}))},ia=function(){var e=$J("#sih-steam-refill").find("#sih-steam-refill-login");e.on("paste",(function(t){var n=(t.originalEvent||t).clipboardData.getData("text/plain");n=n.replace(/[^a-zA-Z0-9._\- ]/g,""),e.val(n),t.preventDefault()})),e.on("focusout",(function(t){var n=t.target,a=$J(n).val();_a(e,a)}))},ra=function(){$J("#sih-steam-refill").find(".sih-steam-refill-form__clear").each((function(e,t){var n=$J(t);n.off("click").click((function(){n.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__input").val(""),ua()}))}))},oa=function(){$J("#sih-steam-refill").find(".sih-refill-presets__item").each((function(e,t){var n=$J(t);n.off("click").click((function(e){var t=n.attr("data-value"),a=n.closest(".sih-steam-refill-form__item-block"),i=a.find(".sih-steam-refill-form__input");i.val(t),"refill"===a.attr("data-name")?(da(i,t),ua()):_a(i,t)}))}))},sa=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-tos-steam-refill"),n=e.find("#sih-steam-refill-pay");t.off("change").change((function(e){var a=t.is(":checked");n.toggleClass("inactive",!a)}))},la=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-steam-refill-pay");t.off("click").click((function(n){clearTimeout(qn),qn=setTimeout(zn(Wn().mark((function n(){var a,i,r,o,s,l,c,d,_,u,m,h;return Wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=e.find("#sih-steam-refill-input"),i=e.find("#sih-steam-refill-login"),r=e.find("#sih-steam-refill-total"),o=+a.val(),s=i.val(),l=+r.attr("data-value"),c=da(a,o),d=_a(i,s),!c&&!d){n.next=11;break}return n.abrupt("return");case 11:return t.addClass("animated"),n.next=14,Fn.checkSteamLogin(s);case 14:return _=n.sent,u=_.response.transactionId,n.next=18,Fn.initSteamRefill({steamUsername:s,amount:l,netAmount:o,transactionId:u});case 18:m=n.sent,h=m.response.payUrl,ca()?alert("Всплывающие окна в вашем браузере - заблокированы. Пожалуйста , включите их, чтобы продолжить."):window.open(h,"_blank"),t.removeClass("animated"),n.next=28;break;case 24:n.prev=24,n.t0=n.catch(0),n.t0,t.removeClass("animated");case 28:case"end":return n.stop()}}),n,null,[[0,24]])}))),300)}))};function ca(){var e=window.open("","_blank");return!(e&&!e.closed&&void 0!==e.closed)||(e.close(),!1)}var da=function(e,t){var n,a=e.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),i=a.find(".sih-alert-block__message");if(t<50){var r=d.getPriceFromCurrency(50,5,5).text;n="Минимальная сумма пополнения ".concat(r),a.addClass("active"),i.text(n)}else if(t>50&&t>Xn){var o=d.getPriceFromCurrency(Xn,5,5).text;n="Максимальная сумма пополнения ".concat(o),a.addClass("active"),i.text(n)}else a.removeClass("active"),i.text("");return n},_a=function(e,t){var n,a=e.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),i=a.find(".sih-alert-block__message");t||(n="Некорректный логин Steam"),(t.length<3||t.length>32)&&(n="Некорректный логин Steam");return/^[a-zA-Z0-9._\- ]+$/.test(t)||(n="Некорректный логин Steam"),n?(a.addClass("active"),i.text(n)):(a.removeClass("active"),i.text("")),n},ua=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-steam-refill-input"),n=e.find("#sih-steam-refill-amount"),a=e.find("#sih-steam-refill-commission"),i=e.find("#sih-steam-refill-total"),r=e.find("#sih-steam-refill-cashback"),o=+t.val(),s=.06*o,l=o+s,c=.01*o,_=d.getPriceFromCurrency(o,5,5).text,u=d.getPriceFromCurrency(s,5,5).text,m=d.getPriceFromCurrency(l,5,5).text,h=d.getPriceFromCurrency(c,5,5).text;n.attr("data-value",o).text(_),a.attr("data-value",s).text(u),i.attr("data-value",l).text(m),r.attr("data-value",c).text(h)};function ma(e){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}function ha(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ha=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var r=t&&t.prototype instanceof v?t:v,o=Object.create(r.prototype),s=new O(a||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var u="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function v(){}function g(){}function b(){}var y={};c(y,o,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(R([])));C&&C!==n&&a.call(C,o)&&(y=C);var A=b.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,r,o,s){var l=_(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==ma(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;i(this,"_invoke",{value:function(e,a){function i(){return new t((function(t,i){n(e,a,t,i)}))}return r=r?r.then(i,i):i()}})}function w(t,n,a){var i=u;return function(r,o){if(i===h)throw Error("Generator is already running");if(i===f){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var s=a.delegate;if(s){var l=x(s,a);if(l){if(l===p)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===u)throw i=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=h;var c=_(t,n,a);if("normal"===c.type){if(i=a.done?f:m,c.arg===p)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=f,a.method="throw",a.arg=c.arg)}}}function x(t,n){var a=n.method,i=t.iterator[a];if(i===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var r=_(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ma(t)+" is not iterable")}return g.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,a,i,r){void 0===r&&(r=Promise);var o=new I(d(e,n,a,i),r);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(a,i){return s.type="throw",s.arg=t,n.next=a,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),p}},t}function fa(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}function pa(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){fa(r,a,i,o,s,"next",e)}function s(e){fa(r,a,i,o,s,"throw",e)}o(void 0)}))}}var va=function(){var e=pa(ha().mark((function e(t){return ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $J(".sih-steam-refill-modal").css("z-index","999"),ga(t),e.next=4,Sa();case 4:ba();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ga=function(e){var t=$J("body"),n=e/1e3,a=d.getPriceFromCurrency(n,1,1,!1,3).text,i=$J('\n    <div id="sih-success-steam-refill" class="sih-success-steam-refill">\n      <div class="sih-success-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-success-steam-refill-modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-success-steam-refill__header">\n            <span class="text fs-32 bold">Успешная оплата Steam</span>\n          </div>\n          <div class="sih-success-steam-refill__main">\n            <span class="text fs-16 lh-23">Ваш платёж принят в обработку. Пожалуйста ожидайте.</span>\n            <div class="mt-24 column items-center gap-16">\n              <span class="text fs-16 lh-23">А так же Вам начислен кешбэк на баланc SIH.</span>\n\n              <div class="row justify-center gap-6">\n                <span class="text text_green fs-32 lh-32">+</span>\n\n                <svg width="32" height="32" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M6.5 12C9.81371 12 12.5 9.31371 12.5 6C12.5 2.68629 9.81371 0 6.5 0C3.18629 0 0.5 2.68629 0.5 6C0.5 9.31371 3.18629 12 6.5 12ZM11.1008 5.21448H9.39789V6.33261H11.155C10.998 8.56154 9.27577 10.3585 7.08066 10.6309V9.49853C7.3568 9.45718 7.60984 9.38161 7.83979 9.27182C8.20868 9.09254 8.49526 8.84407 8.69953 8.5264C8.90379 8.20873 9.00592 7.83917 9.00592 7.41771C9.00592 6.93649 8.8794 6.5512 8.62636 6.26184C8.37636 5.96933 7.96631 5.73816 7.3962 5.56832L6.21177 5.21448C5.89775 5.12012 5.66757 5.0069 5.52123 4.8748C5.37794 4.7427 5.3063 4.58386 5.3063 4.39829C5.3063 4.2316 5.35813 4.0822 5.46178 3.9501C5.56544 3.81486 5.70568 3.71106 5.88251 3.63872C6.05933 3.56324 6.25903 3.52707 6.48158 3.53021C6.71328 3.5365 6.92365 3.58683 7.11267 3.68118C7.30169 3.77554 7.4587 3.90764 7.58369 4.07748C7.70869 4.24732 7.79253 4.4439 7.83521 4.66721L8.96477 4.45491C8.87026 4.03974 8.7102 3.68433 8.48459 3.38868C8.26204 3.09303 7.98155 2.86657 7.64315 2.70931C7.46847 2.6274 7.28097 2.56639 7.08066 2.52629V1.3691C9.12497 1.62283 10.7592 3.19876 11.1008 5.21448ZM5.97854 1.36214V2.50341C5.72582 2.54122 5.49564 2.60986 5.28801 2.70931C4.94655 2.86972 4.68131 3.10089 4.49229 3.40283C4.30632 3.70163 4.21333 4.05232 4.21333 4.45491C4.21333 5.3167 4.67521 5.89542 5.59898 6.19107L7.18584 6.7006C7.44193 6.78237 7.6279 6.88617 7.74375 7.01198C7.8596 7.13464 7.91753 7.29505 7.91753 7.4932C7.91753 7.77627 7.79558 8.01058 7.55168 8.19615C7.30779 8.37858 6.99682 8.46979 6.61877 8.46979C6.22549 8.46979 5.88708 8.35656 5.60355 8.1301C5.32307 7.9005 5.14014 7.59227 5.05478 7.20541L3.96639 7.38469C4.03041 7.82502 4.17827 8.20559 4.40998 8.5264C4.64473 8.84721 4.94503 9.09569 5.31087 9.27182C5.51782 9.37145 5.74038 9.44291 5.97854 9.48618V10.6379C3.75526 10.3907 2.00337 8.58154 1.845 6.33261H3.60211V5.21448H1.89916C2.24413 3.17934 3.90664 1.5925 5.97854 1.36214Z"\n                    fill="#3dc67d"\n                  />\n                </svg>\n\n                <span class="text text_green fs-32 lh-32 text-center">'.concat(a,'</span>\n              </div>\n            </div>\n            <div class="sih-success-steam-refill__preloader"></div>\n            <a href="https://sih.app/" target="_blank" class="mt-52 text text_blue fs-16 lh-16 hover-opacity-8"\n              >Воспользоваться балансом SIH.</a\n            >\n          </div>\n          <div class="sih-success-steam-refill__close-btn">Закрыть</div>\n        </div>\n      </div>\n    </div>\n  '));t.find(".sih-success-steam-refill").length||t.append(i)},ba=function(){ya()},ya=function(){var e=$J("#sih-success-steam-refill");e.on("click",".sih-success-steam-refill__fade, .sih-modal__close, .sih-success-steam-refill__close-btn",(function(){e.hide().remove()}))},Sa=function(){var e=pa(ha().mark((function e(){var t,n,a,i,r;return ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$J("#sih-success-steam-refill .sih-success-steam-refill__main"),e.next=3,V.getUserSihApp();case 3:return e.next=5,V.getLoginSihAppUser();case 5:n=e.sent,t.find(".sih-success-steam-refill__preloader").addClass("hidden"),a=n.success&&null!=n&&n.user?(n.user.balance/1e3).toFixed(3):null,i=n.success&&null!=n&&n.user?n.user.avatar:null,r=$J(' <div class="sih-success-steam-refill__user-info sih-user-info">\n      '.concat(a?'\n      <div class="sih-user-info__avatar">\n        <img src="'.concat(i,'" alt="" />\n      </div>\n      <div class="sih-user-info__vertical-divider"></div>\n      <div class="row items-center gap-16">\n        <svg width="49" height="36" viewBox="0 0 49 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M26.1328 0H22.5588V6.67034H26.1328V0ZM9.91227 19.3719H16.4069V22.504H9.91227V26.2162H19.8079V16.2011H13.2364V13.2622H19.8079V9.78206H9.91227V19.3719ZM26.1328 9.78206H22.5588V26.2162H26.1328V9.78206ZM35.6613 16.2011V9.78206H39.0623V26.2162H35.7381V19.1399H32.51V26.2162H29.2243V9.78206H32.5677V16.2011H35.6613ZM7.12914 16.2012H0.5V19.7974H7.12914V16.2012ZM41.8709 16.2012H48.5V19.7974H41.8709V16.2012ZM22.5588 29.3297H26.1328V36H22.5588V29.3297ZM38.3875 3.30628H29.318V6.67045H38.3875C40.2898 6.67045 41.8462 8.23653 41.8462 10.1506V13.1281H45.1896V10.1506C45.1703 6.38044 42.1344 3.30628 38.3875 3.30628ZM3.79054 13.1281V9.49326C3.79054 6.09042 6.55749 3.30628 9.93931 3.30628H19.6621V6.67045H9.93931C8.38291 6.67045 7.13394 7.94652 7.13394 9.49326V13.1281H3.79054ZM41.8462 25.8101C41.8462 27.7242 40.2898 29.2903 38.3875 29.2903H29.318V32.6545H38.3875C42.1344 32.6545 45.1896 29.5803 45.1896 25.8101V22.8327H41.8462V25.8101ZM7.13394 22.8327V25.8101C7.13394 27.7436 8.69034 29.2903 10.5926 29.2903H19.6621V32.6545H10.5926C6.84571 32.6545 3.79054 29.5803 3.79054 25.8101V22.8327H7.13394Z"\n            fill="white"\n          />\n        </svg>\n\n        <div class="column gap-4">\n          <span class="text fs-16 lh-16">SIH Wallet</span>\n          <div class="row items-center gap-4">\n            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M6.5 12C9.81371 12 12.5 9.31371 12.5 6C12.5 2.68629 9.81371 0 6.5 0C3.18629 0 0.5 2.68629 0.5 6C0.5 9.31371 3.18629 12 6.5 12ZM11.1008 5.21448H9.39789V6.33261H11.155C10.998 8.56154 9.27577 10.3585 7.08066 10.6309V9.49853C7.3568 9.45718 7.60984 9.38161 7.83979 9.27182C8.20868 9.09254 8.49526 8.84407 8.69953 8.5264C8.90379 8.20873 9.00592 7.83917 9.00592 7.41771C9.00592 6.93649 8.8794 6.5512 8.62636 6.26184C8.37636 5.96933 7.96631 5.73816 7.3962 5.56832L6.21177 5.21448C5.89775 5.12012 5.66757 5.0069 5.52123 4.8748C5.37794 4.7427 5.3063 4.58386 5.3063 4.39829C5.3063 4.2316 5.35813 4.0822 5.46178 3.9501C5.56544 3.81486 5.70568 3.71106 5.88251 3.63872C6.05933 3.56324 6.25903 3.52707 6.48158 3.53021C6.71328 3.5365 6.92365 3.58683 7.11267 3.68118C7.30169 3.77554 7.4587 3.90764 7.58369 4.07748C7.70869 4.24732 7.79253 4.4439 7.83521 4.66721L8.96477 4.45491C8.87026 4.03974 8.7102 3.68433 8.48459 3.38868C8.26204 3.09303 7.98155 2.86657 7.64315 2.70931C7.46847 2.6274 7.28097 2.56639 7.08066 2.52629V1.3691C9.12497 1.62283 10.7592 3.19876 11.1008 5.21448ZM5.97854 1.36214V2.50341C5.72582 2.54122 5.49564 2.60986 5.28801 2.70931C4.94655 2.86972 4.68131 3.10089 4.49229 3.40283C4.30632 3.70163 4.21333 4.05232 4.21333 4.45491C4.21333 5.3167 4.67521 5.89542 5.59898 6.19107L7.18584 6.7006C7.44193 6.78237 7.6279 6.88617 7.74375 7.01198C7.8596 7.13464 7.91753 7.29505 7.91753 7.4932C7.91753 7.77627 7.79558 8.01058 7.55168 8.19615C7.30779 8.37858 6.99682 8.46979 6.61877 8.46979C6.22549 8.46979 5.88708 8.35656 5.60355 8.1301C5.32307 7.9005 5.14014 7.59227 5.05478 7.20541L3.96639 7.38469C4.03041 7.82502 4.17827 8.20559 4.40998 8.5264C4.64473 8.84721 4.94503 9.09569 5.31087 9.27182C5.51782 9.37145 5.74038 9.44291 5.97854 9.48618V10.6379C3.75526 10.3907 2.00337 8.58154 1.845 6.33261H3.60211V5.21448H1.89916C2.24413 3.17934 3.90664 1.5925 5.97854 1.36214Z"\n                fill="#ffffff"\n              />\n            </svg>\n\n            <span class="text fs-16 lh-16"\n              >').concat(a,"</span\n            >\n          </div>\n        </div>\n      </div>"):"","\n    </div>")),t.find(".sih-user-info").length||t.find(".sih-success-steam-refill__preloader").before(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Aa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Aa=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var r=t&&t.prototype instanceof v?t:v,o=Object.create(r.prototype),s=new O(a||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var u="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function v(){}function g(){}function b(){}var y={};c(y,o,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(R([])));C&&C!==n&&a.call(C,o)&&(y=C);var A=b.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,r,o,s){var l=_(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==Ca(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;i(this,"_invoke",{value:function(e,a){function i(){return new t((function(t,i){n(e,a,t,i)}))}return r=r?r.then(i,i):i()}})}function w(t,n,a){var i=u;return function(r,o){if(i===h)throw Error("Generator is already running");if(i===f){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var s=a.delegate;if(s){var l=x(s,a);if(l){if(l===p)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===u)throw i=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=h;var c=_(t,n,a);if("normal"===c.type){if(i=a.done?f:m,c.arg===p)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=f,a.method="throw",a.arg=c.arg)}}}function x(t,n){var a=n.method,i=t.iterator[a];if(i===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var r=_(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ca(t)+" is not iterable")}return g.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,a,i,r){void 0===r&&(r=Promise);var o=new I(d(e,n,a,i),r);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(a,i){return s.type="throw",s.arg=t,n.next=a,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:R(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),p}},t}function Ea(e,t,n,a,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,i)}var Ia=["RU","AZ","AM","BY","KZ","KG","MD","TJ","UZ","TM"],wa=function(){(xa(),Ta(),window.disabledSteamRefillCashBackModal)||chrome.runtime.connect(SIHID,{name:"STEAM_REFILL_CONNECTION"}).onMessage.addListener(function(){var e,t=(e=Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){Ea(r,a,i,o,s,"next",e)}function s(e){Ea(r,a,i,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}())},xa=function(){var e,t=$J("#global_header .content"),n=$J("#application_config").attr("data-userinfo"),a=n?null===(e=JSON.parse(n))||void 0===e?void 0:e.country_code:null;if(!disabledSteamRefillHeaderButton&&a&&Ia.includes(a)){var i=$J('\n      <div class="sih-global sih-steam-refill-btn">\n        <div class="row gap-6 items-center">\n          <div class="sih-steam-refill-btn__icon row items-center">\n            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M14.4336 12.7539C15.418 11.4258 16 9.78125 16 8C16 3.58203 12.418 0 8 0C3.58203 0 0 3.58203 0 8C0 12.418 3.58203 16 8 16C10.6367 16 12.9766 14.7227 14.4336 12.7539ZM7 4C7 3.44727 7.44922 3 8 3C8.55078 3 9 3.44727 9 4V7H12C12.3086 7 12.5859 7.14062 12.7695 7.36133C12.9141 7.53516 13 7.75781 13 8C13 8.55273 12.5508 9 12 9H9V12C9 12.5527 8.55078 13 8 13C7.44922 13 7 12.5527 7 12V9H4C3.44922 9 3 8.55273 3 8C3 7.44727 3.44922 7 4 7H7V4Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n\n          <span class="text text_white fs-14 lh-14">Пополнить Steam баланс</span>\n        </div>\n      </div>\n    ');t.find(".sih-steam-refill-btn").length||t.append(i)}},Ta=function(){$J("#global_header .content").find(".sih-steam-refill-btn").off("click").click((function(){Qn()}))};function ka(){Oa(),$J("#account_dropdown").find(".popup_menu_item").each((function(e,t){$J(t).off("click").click((function(){"javascript:Logout();"===$J(this).attr("href")&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ON_LOGOUT_STEAM_USER"})}))}))}var Oa=function(){var e=$J("#account_dropdown").children(".popup_menu"),t=$J('<a class="sih-orders-history" href="javascript:void(0)">'.concat(SIHLang.sihAppMarket.orders.my_sih_orders,"</a>"));t.click((function(){$J("#sih-header-orders").trigger("click"),$J("#orders-history").trigger("click")})),e.find(".popup_menu_item").each((function(e,n){var a=$J(n);0===e&&a.after(t)}))};function Ra(e){return function(e){if(Array.isArray(e))return Na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var La=null,Pa=null,Da=6e5;function Ua(){sih_app_account&&(ka(),new Promise((function(e){var t=$J("#global_header");t.find("#global_actions").css("display","flex");var n='\n      <div class="sih-global sih-global-menu">\n        <div class="sih-global-menu__icons sih-global-menu__row gap-5">\n          <div id="sih-header-timer" class="sih-global-menu__row">\n            <div class="sih-global-menu__spinner"></div>\n            <div id="sih-header-timer__count" class="pl-5 sih-text"></div>\n          </div>\n          <a href="javascript:void(0)" id="sih-header-orders" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M2 17.4286C2 18.0714 2.25 18.7143 2.75 19.2286C3.25 19.7429 3.875 20 4.5 20V6C3.875 6 3.25 6.25714 2.75 6.77143C2.25 7.28571 2 7.92857 2 8.57143V17.4286ZM13.875 6H10.125C10.125 5.48571 10.25 4.82857 10.625 4.44286C11 4.05714 11.375 3.92857 12 3.92857C12.5 3.92857 13 4.05714 13.375 4.44286C13.625 4.82857 13.875 5.48571 13.875 6ZM5.75 6V20H18.25V6H15.75C15.75 4.97143 15.375 3.92857 14.625 3.15714C13.875 2.38571 13 2 12 2C11 2 10.125 2.38571 9.375 3.15714C8.625 3.92857 8.25 4.97143 8.25 6H5.75ZM19.5 20C20.125 20 20.75 19.7429 21.25 19.2286C21.75 18.7143 22 18.0714 22 17.4286V8.57143C22 7.92857 21.75 7.28571 21.25 6.77143C20.75 6.25714 20.125 6 19.5 6V20Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n          <a href="javascript:void(0)" id="sih-header-cart" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 19" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n        </div>\n      </div>\n    ';t.find(".sih-global-menu").length||(t.find("#global_action_menu").before(n),t.find(".sih-global-menu").css("display","flex").hide().fadeIn("slow")),setTimeout((function(){return e()}),300)})).then((function(){var e,t;e=$J("#sih-header-cart"),V.getAllBuyStack().then((function(t){var n=V.getFilterItemsByStatus(t).length;n&&!e.find(".sih-global-menu__counter").length&&(e.append('<span class="sih-global-menu__counter">'.concat(n,"</span>")),e.addClass("active")),e.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()})),t=$J("#sih-header-orders"),V.getAllBuyStack().then((function(e){V.getUserOrdersHistory().then((function(n){var a=Ha(e,n),i=V.getFilterItemsByStatus(a,["new","pending","created","processing","sent"]).length;i&&!t.find(".sih-global-menu__counter").length&&t.append('<span class="sih-global-menu__counter">'.concat(i,"</span>")),i&&(t.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),Ma())}))}))})),ot(),Pn(),En(),wa(),Bn())}function Ha(e,t){return t.success&&!t.tfaNeed&&t.orders.data.length?[].concat(Ra(e),Ra(t.orders.data)):e}function Ba(){var e=$J("#sih-header-cart"),t=e.find(".sih-global-menu__counter");V.getAllBuyStack().then((function(n){var a=V.getFilterItemsByStatus(n).length;a&&!t.length?(e.append('<span class="sih-global-menu__counter">'.concat(a,"</span>")),e.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()):a&&t.length?(e.addClass("active"),t.text(a),t.css("display","flex").fadeIn()):!a&&t.length&&(t.css("display","flex").fadeOut(),e.removeClass("active"))}))}function Ga(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J("#sih-header-orders"),n=t.find(".sih-global-menu__counter"),a=$J("#sih-header-timer");$J(".sih-global-menu");V.getAllBuyStack().then((function(i){V.getUserOrdersHistory(e).then((function(e){var r=Ha(i,e),o=V.getFilterItemsByStatus(r,["new","pending","created","processing","sent"]).length;o&&!n.length?(t.append('<span class="sih-global-menu__counter">'.concat(o,"</span>")),t.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),Ma()):o&&n.length?(t.addClass("active"),n.text(o),n.is(":visible")||n.css("display","flex").fadeIn(),Ma()):!o&&n.length&&(t.removeClass("active"),n.css("display","flex").fadeOut(),a.css("display","flex").fadeOut())}))}))}function Ma(){var e=$J("#sih-header-orders"),t=e.find(".sih-global-menu__counter"),n=$J("#sih-header-timer"),a=$J("#sih-header-timer__count"),i=$J(".sih-global-menu__spinner");n.is(":visible")||n.css("display","flex").fadeIn(),i.is(":visible")||i.css("display","flex").fadeIn(),e.is(":visible")||e.css("display","flex").fadeIn(),clearInterval(La),La=setInterval((function(){V.getAllBuyStack().then((function(i){V.getUserOrdersHistory().then((function(r){var o=Ha(i,r),s=V.getFilterItemsByStatus(o,["new","pending","created","processing","sent"]);if(s.length){var l=s.find((function(e){return e.finishOrderAt})),c=s.map((function(e){return e.createdAt||new Date(e.created_at).getTime()})),d=V.getFilterItemsByStatus(s,"new");if(d.length&&d.forEach((function(e){new Date(e.created_at).getTime()+Da-Date.now()<0&&(V.cancelSihAppOrder(e.id),V.updateItemLocalHistoryOrders(e.id).then((function(e){e&&e.success&&Ga()})))})),l){var _=l.finishOrderAt-Date.now(),u=new Date(_).toISOString().slice(14,19);a.fadeIn().text(u),n.is(":visible")||(n.css("display","flex").fadeIn(),e.css("display","flex").fadeIn())}else JSON.stringify(Pa)!==JSON.stringify(c)&&(Pa=c,a.fadeOut().text(""),Ba(),_e(),Ga())}else clearInterval(La),t.css("display","flex").fadeOut(),a.fadeOut().text(""),n.css("display","flex").fadeOut(),e.removeClass("active").css("display","flex").fadeOut(),Ba(),_e(),Ga()}))}))}),1e3)}function Ka(){var e;(e=$J("#global_header").find(".supernav_container")).find(".menuitem").mouseenter((function(){var t=$J(this).attr("data-tooltip-content");if(t&&".submenu_community"===t.toLowerCase()){var n=e.find(".submenu_Community"),a=n.attr("data-submenuid");n.length&&a&&"community"===a.toLowerCase()&&(n.find(".sih-link").length||n.append('<a class="sih-link submenuitem" href="https://sih.app/" target="_blank">Sih.app</a>'))}}))}(SIH_GLOBAL=void 0===SIH_GLOBAL?{}:SIH_GLOBAL).sihGlobalHeader=t})();