var SIH;(()=>{"use strict";var e={d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{explorePage:()=>t});var t={};function n(){Date.now()<17207172e5&&(r(),i())}e.r(t),e.d(t,{InitAutoGetEventCart:()=>i,LoadExplorePage:()=>n});var r=function(){var e=$J(".discover_queue_empty");e.length&&e.height("auto");var o=$J('\n    <div class="sih_discovery_queue_customize_ctn discovery_queue_customize_ctn">\n      <div class="sih_bg"></div>\n      <div class="sih_explorer_auto_discover btnv6_blue_hoverfade btn_medium">\n        <span class="text">'.concat(SIHLang.event_cards.btn_text,'</span>\n      </div>\n      <span class="sih_explorer_info">').concat(SIHLang.event_cards.btn_tooltip," </span>\n    </div>\n  "));$J(".discovery_queue_customize_ctn").before(o)};function i(){function e(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_EVENT_CARDS"},(function(o){if(o&&o.queue){var t=0,n=0,r=function(){++t===o.queue.length?($J(".sih_explorer_info").text("".concat(SIHLang.event_cards.complete_text)),window.location.pathname.match(/explore/)||window.location.reload()):($J(".sih_explorer_info").text("".concat(SIHLang.event_cards.progress_info," ").concat(t,"/").concat(o.queue.length)),a(t))},i=function(e){console.error("Failed to clear queue",e),++n>=10?$J(".sih_explorer_info").text("Explore failed too many",[t]):($J(".sih_explorer_info").text("Explore failed to clear",[t]),setTimeout((function(){a(t)}),5e3))},a=function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_EVENT_GAME",data:{appid_to_clear_from_queue:o.queue[e]}},(function(e){e&&"string"==typeof e?r():i(e)}))};a(0)}else console.error("Failed to generate queue",o),setTimeout(e,5e3),$J(".sih_explorer_info").text("Failed to generate queue")}))}$J(".sih_explorer_auto_discover").off("click").click((function(){e(),$J(this).remove();var o=$J(".sih_explorer_info");!o.is(":visible")&&o.show(),o.text("".concat(SIHLang.event_cards.progress_info," 0/12")),$J(".ui-tooltip").remove()}))}SIH=o})();