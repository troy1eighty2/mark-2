var SIH;(()=>{"use strict";var a={d:(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(a,e)=>Object.prototype.hasOwnProperty.call(a,e),r:a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},e={};a.r(e),a.d(e,{LoadSteamAppFilters:()=>i,RefactorAdvancedSearchDialog:()=>t});var t=function(){window.AdvancedSearchDialog={m_bInitialized:!1,m_fnDocumentKeyHandler:null,m_modal:null,Initialize:function(){},Show:function(){this.m_bInitialized||this.Initialize(),this.m_fnDocumentKeyHandler=this.OnDocumentKeyPress.bindAsEventListener(this),$(document).observe("keydown",this.m_fnDocumentKeyHandler);var a=this;this.m_modal=ShowDialog("Search Community Market",$J("#market_advancedsearch_dialog").show()),this.m_modal.SetRemoveContentOnDismissal(!1),this.m_modal.always((function(){a.Dismiss()})),$("market_advancedsearch_dialog").focus(),this.refactoredHeader()},Dismiss:function(){$(document).stopObserving("keydown",this.m_fnDocumentKeyHandler),this.m_modal&&(this.m_modal.Dismiss(),this.m_modal=null)},SelectApp:function(a){this.SelectAppElement($J("#app_option_"+a))},SelectAppElement:function(a){var e=a.clone();$J("#market_advancedsearch_appselect_activeapp").empty(),e.attr("id",e.attr("id")+"_selected"),$J("#market_advancedsearch_appselect_activeapp").append(e),$J("#market_advanced_search_app").remove();var t=$J('<input type="hidden" id="market_advanced_search_app" name="appid" value="'+a.data("appid")+'"/>');$J("#market_advanced_search").append(t)},OnCancel:function(a){this.Dismiss(),a.stop()},OnDocumentKeyPress:function(a){a.keyCode==Event.KEY_ESC&&(this.Dismiss(),a.stop())},refactoredHeader:function(){var a=$J(".newmodal_header:visible"),e=$J('\n        <div class="sih-global sih-market-search">\n          <div class="sih-market-search__header row gap-25">\n            <div class="sih-market-search__header_left">\n              <div class="sih-market-search__powered"></div>\n            </div>\n\n            <div class="sih-market-search__header_right">\n              <div class="row gap-16">\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="730" title="CS 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/730/8dbc71957312bbd3baea65848b545be9eae2a355.jpg"\n                    alt="CS 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="570" title="Dota 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/570/0bbb630d63262dd66d2fdd0f7d37e8661a410075.jpg"\n                    alt="Dota 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="252490" title="Rust">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/252490/820be4782639f9c4b64fa3ca7e6c26a95ae4fd1c.jpg"\n                    alt="Rust"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="440" title="Team Fortress 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/440/e3f595a92552da3d664ad00277fad2107345f743.jpg"\n                    alt="TF 2"\n                  />\n                </a>\n\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="753" title="Steam">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/753/1d0167575d746dadea7706685c0f3c01c8aeb6d8.jpg"\n                    alt="Steam"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="866510" title="!Anyway!">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/866510/7cf8f282dabdd1f7f33a02653f877551632e6ecd.jpg"\n                    alt="!Anyway!"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="322330"\n                  title="Don\'t Starve Together"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/322330/a80aa6cff8eebc1cbc18c367d9ab063e1553b0ee.jpg"\n                    alt="Don\'t Starve Together"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="304930" title="Unturned">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/304930/e18009fb628b35953826efe47dc3be556b689f4c.jpg"\n                    alt="Unturned"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="218620" title="PAYDAY 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/218620/a6abc0d0c1e79c0b5b0f5c8ab81ce9076a542414.jpg"\n                    alt="PAYDAY 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="232090"\n                  title="Killing Floor 2"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/232090/15837cefb378766e9916548f8591b6eb490b9e52.jpg"\n                    alt="Killing Floor 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="578080"\n                  title="PUBG: BATTLEGROUNDS"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/578080/609f27278aa70697c13bf99f32c5a0248c381f9d.jpg"\n                    alt="PUBG: BATTLEGROUNDS"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      ');a.find(".sih-market-search").length||(a.append(e),a.find(".title_text").prependTo(".sih-market-search__header_left"),a.find(".sih-market-search__item").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}));e.find(".sih-market-search__item").click((function(){var a=$J(this).data("appid");$J(".popup_item.popup_menu_item.market_advancedsearch_appname").each((function(e,t){var i=$J(t);a===i.data("appid")&&i.trigger("click")}))}))}}},i=function(){"undefined"!=typeof g_rgFilterData&&ProcessFilterData({facets:g_rgFilterData});var a=$J('<form id="sih_advanced_search" accept-charset="UTF8" action="https://steamcommunity.com/market/search" method="GET"></form>'),e=$J(".market_app_selector").clone(),t=$J("#market_advancedsearch_filters").clone(),i=$J('<div class="sih-market-search__powered"></div>');e.find("#market_advancedsearch_appselect").attr("id","sih_advancedsearch_appselect").attr("onClick","ShowMenu('sih_advancedsearch_appselect','sih_advancedsearch_appselect_options', 'left');"),e.find("#market_advancedsearch_appselect_activeapp").attr("id","sih_advancedsearch_appselect_activeapp"),e.find("#appselect_arrow").attr("id","sih_appselect_arrow"),e.find("#market_advancedsearch_appselect_options").attr("id","sih_advancedsearch_appselect_options"),e.find("#market_advancedsearch_appselect_options_apps").attr("id","sih_advancedsearch_appselect_options_apps"),t.attr("id","sih_advancedsearch_filters");var s=$J('\n    <div class="market_advancedsearch_bottombuttons">\n      <a href="javascript:ResetSearchFilters();">'.concat(SIHLang.reset,'</a>\n      <div onclick="document.forms[\'sih_advanced_search\'].submit();" class="btn_medium btn_green_white_innerfade">\n        <span>').concat(SIHLang.search,"</span>\n      </div>\n    </div>\n  "));a.append(i).append(e).append(t).append(s),$J("#sideBar").append(a);var n=new URLSearchParams(window.location.search);function c(a){var e=a.clone();e.attr("id",e.attr("id")+"_selected"),$J("#sih_advancedsearch_appselect_activeapp").empty().append(e),$J("#sih_advanced_search_app").remove();var t=$J('<input type="hidden" id="sih_advanced_search_app" name="appid" value="'.concat(a.data("appid"),'" />'));$J("#sih_advanced_search").append(t)}$J("#sih_advancedsearch_appselect_options .popup_item.popup_menu_item.market_advancedsearch_appname").each((function(a,e){var t=$J(e);+n.get("appid")===t.data("appid")&&c(t)})),$J("#sih_advanced_search #sih_advancedsearch_appselect_options_apps .popup_item").click((function(){HideMenu($("sih_advancedsearch_appselect"),$("sih_advancedsearch_appselect_options")),c($J(this));var a=$J(this).data("appid"),e=$J("#sih_advancedsearch_filters");if(a){e.empty();var t=$J('<img\n          src="https://community.akamai.steamstatic.com/public/images/login/throbber.gif"\n          alt="Загрузка"\n          style="margin-top: 139px"\n        />');e.append(t).css("text-align","center"),$J.ajax({url:"https://steamcommunity.com/market/appfilters/"+a,type:"GET"}).error((function(){e.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")})).success((function(a){if(a.success){ProcessFilterData(a);var t=$J("#market_advancedsearch_filters").clone();t.attr("id","sih_advancedsearch_filters"),$J("#sih_advanced_search #sih_advancedsearch_filters").replaceWith(t)}else e.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")}))}}))};SIH=e})();