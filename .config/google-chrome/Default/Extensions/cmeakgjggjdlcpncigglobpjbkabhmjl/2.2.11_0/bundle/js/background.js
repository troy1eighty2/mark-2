(()=>{var t,e={9799:(t,e,r)=>{"use strict";var n={};r.r(n),r.d(n,{DocumentPosition:()=>me,append:()=>Qt,appendChild:()=>Jt,compareDocumentPosition:()=>ge,existsOne:()=>ie,filter:()=>ee,find:()=>re,findAll:()=>ae,findOne:()=>oe,findOneChild:()=>ne,getAttributeValue:()=>Vt,getChildren:()=>Ut,getElementById:()=>pe,getElements:()=>fe,getElementsByTagName:()=>de,getElementsByTagType:()=>ye,getFeed:()=>we,getInnerHTML:()=>jt,getName:()=>Yt,getOuterHTML:()=>Ft,getParent:()=>Ht,getSiblings:()=>qt,getText:()=>Bt,hasAttrib:()=>Kt,hasChildren:()=>$,innerText:()=>Gt,isCDATA:()=>K,isComment:()=>W,isDocument:()=>X,isTag:()=>V,isText:()=>Y,nextElementSibling:()=>Wt,prepend:()=>te,prependChild:()=>Zt,prevElementSibling:()=>zt,removeElement:()=>Xt,removeSubsets:()=>ve,replaceElement:()=>$t,testElement:()=>he,textContent:()=>Mt,uniqueSort:()=>be});var o={};r.r(o),r.d(o,{contains:()=>Fe,extract:()=>je,html:()=>Ne,merge:()=>Be,parseHTML:()=>De,root:()=>Re,text:()=>Ce,xml:()=>Pe});var i={};r.r(i),r.d(i,{addClass:()=>ur,attr:()=>Je,data:()=>nr,hasClass:()=>cr,prop:()=>tr,removeAttr:()=>sr,removeClass:()=>lr,toggleClass:()=>hr,val:()=>or});var a={};r.r(a),r.d(a,{_findBySelector:()=>gn,add:()=>Zn,addBack:()=>to,children:()=>Rn,closest:()=>Ln,contents:()=>Fn,each:()=>jn,end:()=>Qn,eq:()=>Wn,filter:()=>Gn,filterArray:()=>Un,find:()=>mn,first:()=>Kn,get:()=>zn,has:()=>Vn,index:()=>$n,is:()=>Hn,last:()=>Yn,map:()=>Bn,next:()=>kn,nextAll:()=>In,nextUntil:()=>On,not:()=>qn,parent:()=>_n,parents:()=>An,parentsUntil:()=>Tn,prev:()=>Nn,prevAll:()=>Pn,prevUntil:()=>Cn,siblings:()=>Dn,slice:()=>Jn,toArray:()=>Xn});var s={};r.r(s),r.d(s,{_makeDomArray:()=>ro,after:()=>yo,append:()=>so,appendTo:()=>io,before:()=>mo,clone:()=>Ao,empty:()=>Eo,html:()=>xo,insertAfter:()=>vo,insertBefore:()=>go,prepend:()=>co,prependTo:()=>ao,remove:()=>bo,replaceWith:()=>wo,text:()=>_o,toString:()=>So,unwrap:()=>fo,wrap:()=>lo,wrapAll:()=>po,wrapInner:()=>ho});var c={};r.r(c),r.d(c,{css:()=>To});var u={};r.r(u),r.d(u,{serialize:()=>Po,serializeArray:()=>Co});var l={};r.r(l),r.d(l,{extract:()=>Ro});var h={};r.r(h),r.d(h,{WSProvider:()=>cu});var f={};r.r(f),r.d(f,{BasicStorage:()=>fu});var p=r(4337),d=r(237),y=r(3716);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new P(n||[]);return o(a,"_invoke",{value:k(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function b(){}function w(){}function E(){}var x={};u(x,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(C([])));_&&_!==r&&n.call(_,a)&&(x=_);var A=E.prototype=b.prototype=Object.create(x);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==v(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function I(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return w.prototype=E,o(A,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=u(E,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(L.prototype),u(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(A),u(A,c,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function g(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var E=["bg","cs","de","en","es","fa","fr","he","it","ka","lv","no","pl","pt_BR","ro","ru","sv","tr","vi","uk","zh_CN","zh_TW"],x=function(){var t;navigator.languages&&navigator.languages.length>0&&(t=b(navigator.languages,1)[0]);return t||(t=navigator.language||navigator.userLanguage||""),E.includes(t)?t:"en"};function S(){return _.apply(this,arguments)}function _(){var t;return t=m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.w.getAll());case 1:case"end":return t.stop()}}),t)})),_=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){g(i,n,o,a,s,"next",t)}function s(t){g(i,n,o,a,s,"throw",t)}a(void 0)}))},_.apply(this,arguments)}y.w.getAll().then((function(t){return p.Ay.use(d.A).init({fallbackLng:"en",load:"currentOnly",lng:""!==t.lang?t.lang:x(),ns:["translation","controls"],defaultNS:["translation"],debug:!1,backend:{loadPath:chrome.runtime.getURL("/_locales/{{lng}}/{{ns}}.json")},interpolation:{escapeValue:!1,formatSeparator:",",format:function(t,e,r){return"uppercase"===e?t.toUpperCase():t}}})}));var A;!function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(A||(A={}));const T=A.Root,L=A.Text,k=A.Directive,I=A.Comment,O=A.Script,N=A.Style,P=A.Tag,C=A.CDATA,D=A.Doctype;class R{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return J(this,t)}}class F extends R{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class j extends F{constructor(){super(...arguments),this.type=A.Text}get nodeType(){return 3}}class B extends F{constructor(){super(...arguments),this.type=A.Comment}get nodeType(){return 8}}class M extends F{constructor(t,e){super(e),this.name=t,this.type=A.Directive}get nodeType(){return 1}}class G extends R{constructor(t){super(),this.children=t}get firstChild(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class U extends G{constructor(){super(...arguments),this.type=A.CDATA}get nodeType(){return 4}}class H extends G{constructor(){super(...arguments),this.type=A.Root}get nodeType(){return 9}}class q extends G{constructor(t,e,r=[],n=("script"===t?A.Script:"style"===t?A.Style:A.Tag)){super(r),this.name=t,this.attribs=e,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map((t=>{var e,r;return{name:t,value:this.attribs[t],namespace:null===(e=this["x-attribsNamespace"])||void 0===e?void 0:e[t],prefix:null===(r=this["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))}}function V(t){return(e=t).type===A.Tag||e.type===A.Script||e.type===A.Style;var e}function K(t){return t.type===A.CDATA}function Y(t){return t.type===A.Text}function W(t){return t.type===A.Comment}function z(t){return t.type===A.Directive}function X(t){return t.type===A.Root}function $(t){return Object.prototype.hasOwnProperty.call(t,"children")}function J(t,e=!1){let r;if(Y(t))r=new j(t.data);else if(W(t))r=new B(t.data);else if(V(t)){const n=e?Q(t.children):[],o=new q(t.name,{...t.attribs},n);n.forEach((t=>t.parent=o)),null!=t.namespace&&(o.namespace=t.namespace),t["x-attribsNamespace"]&&(o["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(o["x-attribsPrefix"]={...t["x-attribsPrefix"]}),r=o}else if(K(t)){const n=e?Q(t.children):[],o=new U(n);n.forEach((t=>t.parent=o)),r=o}else if(X(t)){const n=e?Q(t.children):[],o=new H(n);n.forEach((t=>t.parent=o)),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else{if(!z(t))throw Error("Not implemented yet: "+t.type);{const e=new M(t.name,t.data);null!=t["x-name"]&&(e["x-name"]=t["x-name"],e["x-publicId"]=t["x-publicId"],e["x-systemId"]=t["x-systemId"]),r=e}}return r.startIndex=t.startIndex,r.endIndex=t.endIndex,null!=t.sourceCodeLocation&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function Q(t){const e=t.map((t=>J(t,!0)));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}const Z={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class tt{constructor(t,e,r){this.dom=[],this.root=new H(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(r=e,e=Z),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:Z,this.elementCB=null!=r?r:null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new H(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,e){const r=this.options.xmlMode?A.Tag:void 0,n=new q(t,e,void 0,r);this.addNode(n),this.tagStack.push(n)}ontext(t){const{lastNode:e}=this;if(e&&e.type===A.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else{const e=new j(t);this.addNode(e),this.lastNode=e}}oncomment(t){if(this.lastNode&&this.lastNode.type===A.Comment)return void(this.lastNode.data+=t);const e=new B(t);this.addNode(e),this.lastNode=e}oncommentend(){this.lastNode=null}oncdatastart(){const t=new j(""),e=new U([t]);this.addNode(e),t.parent=e,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,e){const r=new M(t,e);this.addNode(r)}handleCallback(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t}addNode(t){const e=this.tagStack[this.tagStack.length-1],r=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),r&&(t.prev=r,r.next=t),t.parent=e,this.lastNode=null}}const et=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((t=>t.charCodeAt(0)))),rt=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((t=>t.charCodeAt(0))));var nt;const ot=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),it=null!==(nt=String.fromCodePoint)&&void 0!==nt?nt:function(t){let e="";return t>65535&&(e+=String.fromCharCode((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};function at(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=ot.get(t))&&void 0!==e?e:t}var st;!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(st||(st={}));var ct,ut,lt;function ht(t){return t>=st.ZERO&&t<=st.NINE}function ft(t){return t===st.EQUALS||function(t){return t>=st.UPPER_A&&t<=st.UPPER_Z||t>=st.LOWER_A&&t<=st.LOWER_Z||ht(t)}(t)}!function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(ct||(ct={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(ut||(ut={})),function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"}(lt||(lt={}));class pt{constructor(t,e,r){this.decodeTree=t,this.emitCodePoint=e,this.errors=r,this.state=ut.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=lt.Strict}startEntity(t){this.decodeMode=t,this.state=ut.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case ut.EntityStart:return t.charCodeAt(e)===st.NUM?(this.state=ut.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=ut.NamedEntity,this.stateNamedEntity(t,e));case ut.NumericStart:return this.stateNumericStart(t,e);case ut.NumericDecimal:return this.stateNumericDecimal(t,e);case ut.NumericHex:return this.stateNumericHex(t,e);case ut.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===st.LOWER_X?(this.state=ut.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=ut.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,r,n){if(e!==r){const o=r-e;this.result=this.result*Math.pow(n,o)+parseInt(t.substr(e,o),n),this.consumed+=o}}stateNumericHex(t,e){const r=e;for(;e<t.length;){const o=t.charCodeAt(e);if(!(ht(o)||(n=o,n>=st.UPPER_A&&n<=st.UPPER_F||n>=st.LOWER_A&&n<=st.LOWER_F)))return this.addToNumericResult(t,r,e,16),this.emitNumericEntity(o,3);e+=1}var n;return this.addToNumericResult(t,r,e,16),-1}stateNumericDecimal(t,e){const r=e;for(;e<t.length;){const n=t.charCodeAt(e);if(!ht(n))return this.addToNumericResult(t,r,e,10),this.emitNumericEntity(n,2);e+=1}return this.addToNumericResult(t,r,e,10),-1}emitNumericEntity(t,e){var r;if(this.consumed<=e)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===st.SEMI)this.consumed+=1;else if(this.decodeMode===lt.Strict)return 0;return this.emitCodePoint(at(this.result),this.consumed),this.errors&&(t!==st.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:r}=this;let n=r[this.treeIndex],o=(n&ct.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const i=t.charCodeAt(e);if(this.treeIndex=yt(r,n,this.treeIndex+Math.max(1,o),i),this.treeIndex<0)return 0===this.result||this.decodeMode===lt.Attribute&&(0===o||ft(i))?0:this.emitNotTerminatedNamedEntity();if(n=r[this.treeIndex],o=(n&ct.VALUE_LENGTH)>>14,0!==o){if(i===st.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==lt.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:r}=this,n=(r[e]&ct.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,n,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,r){const{decodeTree:n}=this;return this.emitCodePoint(1===e?n[t]&~ct.VALUE_LENGTH:n[t+1],r),3===e&&this.emitCodePoint(n[t+2],r),r}end(){var t;switch(this.state){case ut.NamedEntity:return 0===this.result||this.decodeMode===lt.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case ut.NumericDecimal:return this.emitNumericEntity(0,2);case ut.NumericHex:return this.emitNumericEntity(0,3);case ut.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ut.EntityStart:return 0}}}function dt(t){let e="";const r=new pt(t,(t=>e+=it(t)));return function(t,n){let o=0,i=0;for(;(i=t.indexOf("&",i))>=0;){e+=t.slice(o,i),r.startEntity(n);const a=r.write(t,i+1);if(a<0){o=i+r.end();break}o=i+a,i=0===a?o+1:o}const a=e+t.slice(o);return e="",a}}function yt(t,e,r,n){const o=(e&ct.BRANCH_LENGTH)>>7,i=e&ct.JUMP_TABLE;if(0===o)return 0!==i&&n===i?r:-1;if(i){const e=n-i;return e<0||e>=o?-1:t[r+e]-1}let a=r,s=a+o-1;for(;a<=s;){const e=a+s>>>1,r=t[e];if(r<n)a=e+1;else{if(!(r>n))return t[e+o];s=e-1}}return-1}dt(et),dt(rt);function vt(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}new Map(vt([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(vt([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(vt([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(vt([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const mt=/["&'<>$\x80-\uFFFF]/g,gt=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),bt=null!=String.prototype.codePointAt?(t,e)=>t.codePointAt(e):(t,e)=>55296==(64512&t.charCodeAt(e))?1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function wt(t){let e,r="",n=0;for(;null!==(e=mt.exec(t));){const o=e.index,i=t.charCodeAt(o),a=gt.get(i);void 0!==a?(r+=t.substring(n,o)+a,n=o+1):(r+=`${t.substring(n,o)}&#x${bt(t,o).toString(16)};`,n=mt.lastIndex+=Number(55296==(64512&i)))}return r+t.substr(n)}function Et(t,e){return function(r){let n,o=0,i="";for(;n=t.exec(r);)o!==n.index&&(i+=r.substring(o,n.index)),i+=e.get(n[0].charCodeAt(0)),o=n.index+1;return i+r.substring(o)}}Et(/[&<>'"]/g,gt);const xt=Et(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),St=Et(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var _t,At;!function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(_t||(_t={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(At||(At={}));const Tt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((t=>[t.toLowerCase(),t]))),Lt=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((t=>[t.toLowerCase(),t]))),kt=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function It(t){return t.replace(/"/g,"&quot;")}const Ot=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Nt(t,e={}){const r="length"in t?t:[t];let n="";for(let t=0;t<r.length;t++)n+=Ct(r[t],e);return n}const Pt=Nt;function Ct(t,e){switch(t.type){case T:return Nt(t.children,e);case D:case k:return`<${t.data}>`;case I:return function(t){return`\x3c!--${t.data}--\x3e`}(t);case C:return function(t){return`<![CDATA[${t.children[0].data}]]>`}(t);case O:case N:case P:return function(t,e){var r;"foreign"===e.xmlMode&&(t.name=null!==(r=Tt.get(t.name))&&void 0!==r?r:t.name,t.parent&&Dt.has(t.parent.name)&&(e={...e,xmlMode:!1}));!e.xmlMode&&Rt.has(t.name)&&(e={...e,xmlMode:"foreign"});let n="<"+t.name;const o=function(t,e){var r;if(!t)return;const n=!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)?It:e.xmlMode||"utf8"!==e.encodeEntities?wt:xt;return Object.keys(t).map((r=>{var o,i;const a=null!==(o=t[r])&&void 0!==o?o:"";return"foreign"===e.xmlMode&&(r=null!==(i=Lt.get(r))&&void 0!==i?i:r),e.emptyAttrs||e.xmlMode||""!==a?`${r}="${n(a)}"`:r})).join(" ")}(t.attribs,e);o&&(n+=" "+o);0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&Ot.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=Nt(t.children,e)),!e.xmlMode&&Ot.has(t.name)||(n+=`</${t.name}>`));return n}(t,e);case L:return function(t,e){var r;let n=t.data||"";!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)||!e.xmlMode&&t.parent&&kt.has(t.parent.name)||(n=e.xmlMode||"utf8"!==e.encodeEntities?wt(n):St(n));return n}(t,e)}}const Dt=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Rt=new Set(["svg","math"]);function Ft(t,e){return Pt(t,e)}function jt(t,e){return $(t)?t.children.map((t=>Ft(t,e))).join(""):""}function Bt(t){return Array.isArray(t)?t.map(Bt).join(""):V(t)?"br"===t.name?"\n":Bt(t.children):K(t)?Bt(t.children):Y(t)?t.data:""}function Mt(t){return Array.isArray(t)?t.map(Mt).join(""):$(t)&&!W(t)?Mt(t.children):Y(t)?t.data:""}function Gt(t){return Array.isArray(t)?t.map(Gt).join(""):$(t)&&(t.type===A.Tag||K(t))?Gt(t.children):Y(t)?t.data:""}function Ut(t){return $(t)?t.children:[]}function Ht(t){return t.parent||null}function qt(t){const e=Ht(t);if(null!=e)return Ut(e);const r=[t];let{prev:n,next:o}=t;for(;null!=n;)r.unshift(n),({prev:n}=n);for(;null!=o;)r.push(o),({next:o}=o);return r}function Vt(t,e){var r;return null===(r=t.attribs)||void 0===r?void 0:r[e]}function Kt(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]}function Yt(t){return t.name}function Wt(t){let{next:e}=t;for(;null!==e&&!V(e);)({next:e}=e);return e}function zt(t){let{prev:e}=t;for(;null!==e&&!V(e);)({prev:e}=e);return e}function Xt(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}function $t(t,e){const r=e.prev=t.prev;r&&(r.next=e);const n=e.next=t.next;n&&(n.prev=e);const o=e.parent=t.parent;if(o){const r=o.children;r[r.lastIndexOf(t)]=e,t.parent=null}}function Jt(t,e){if(Xt(e),e.next=null,e.parent=t,t.children.push(e)>1){const r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}function Qt(t,e){Xt(e);const{parent:r}=t,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){const t=r.children;t.splice(t.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}function Zt(t,e){if(Xt(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){const r=t.children[1];r.prev=e,e.next=r}else e.next=null}function te(t,e){Xt(e);const{parent:r}=t;if(r){const n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}function ee(t,e,r=!0,n=1/0){return re(t,Array.isArray(e)?e:[e],r,n)}function re(t,e,r,n){const o=[],i=[e],a=[0];for(;;){if(a[0]>=i[0].length){if(1===a.length)return o;i.shift(),a.shift();continue}const e=i[0][a[0]++];if(t(e)&&(o.push(e),--n<=0))return o;r&&$(e)&&e.children.length>0&&(a.unshift(0),i.unshift(e.children))}}function ne(t,e){return e.find(t)}function oe(t,e,r=!0){let n=null;for(let o=0;o<e.length&&!n;o++){const i=e[o];V(i)&&(t(i)?n=i:r&&i.children.length>0&&(n=oe(t,i.children,!0)))}return n}function ie(t,e){return e.some((e=>V(e)&&(t(e)||ie(t,e.children))))}function ae(t,e){const r=[],n=[e],o=[0];for(;;){if(o[0]>=n[0].length){if(1===n.length)return r;n.shift(),o.shift();continue}const e=n[0][o[0]++];V(e)&&(t(e)&&r.push(e),e.children.length>0&&(o.unshift(0),n.unshift(e.children)))}}const se={tag_name:t=>"function"==typeof t?e=>V(e)&&t(e.name):"*"===t?V:e=>V(e)&&e.name===t,tag_type:t=>"function"==typeof t?e=>t(e.type):e=>e.type===t,tag_contains:t=>"function"==typeof t?e=>Y(e)&&t(e.data):e=>Y(e)&&e.data===t};function ce(t,e){return"function"==typeof e?r=>V(r)&&e(r.attribs[t]):r=>V(r)&&r.attribs[t]===e}function ue(t,e){return r=>t(r)||e(r)}function le(t){const e=Object.keys(t).map((e=>{const r=t[e];return Object.prototype.hasOwnProperty.call(se,e)?se[e](r):ce(e,r)}));return 0===e.length?null:e.reduce(ue)}function he(t,e){const r=le(t);return!r||r(e)}function fe(t,e,r,n=1/0){const o=le(t);return o?ee(o,e,r,n):[]}function pe(t,e,r=!0){return Array.isArray(e)||(e=[e]),oe(ce("id",t),e,r)}function de(t,e,r=!0,n=1/0){return ee(se.tag_name(t),e,r,n)}function ye(t,e,r=!0,n=1/0){return ee(se.tag_type(t),e,r,n)}function ve(t){let e=t.length;for(;--e>=0;){const r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0)t.splice(e,1);else for(let n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t}var me;function ge(t,e){const r=[],n=[];if(t===e)return 0;let o=$(t)?t:t.parent;for(;o;)r.unshift(o),o=o.parent;for(o=$(e)?e:e.parent;o;)n.unshift(o),o=o.parent;const i=Math.min(r.length,n.length);let a=0;for(;a<i&&r[a]===n[a];)a++;if(0===a)return me.DISCONNECTED;const s=r[a-1],c=s.children,u=r[a],l=n[a];return c.indexOf(u)>c.indexOf(l)?s===e?me.FOLLOWING|me.CONTAINED_BY:me.FOLLOWING:s===t?me.PRECEDING|me.CONTAINS:me.PRECEDING}function be(t){return(t=t.filter(((t,e,r)=>!r.includes(t,e+1)))).sort(((t,e)=>{const r=ge(t,e);return r&me.PRECEDING?-1:r&me.FOLLOWING?1:0})),t}function we(t){const e=_e(Le,t);return e?"feed"===e.name?function(t){var e;const r=t.children,n={type:"atom",items:de("entry",r).map((t=>{var e;const{children:r}=t,n={media:Se(r)};Te(n,"id","id",r),Te(n,"title","title",r);const o=null===(e=_e("link",r))||void 0===e?void 0:e.attribs.href;o&&(n.link=o);const i=Ae("summary",r)||Ae("content",r);i&&(n.description=i);const a=Ae("updated",r);return a&&(n.pubDate=new Date(a)),n}))};Te(n,"id","id",r),Te(n,"title","title",r);const o=null===(e=_e("link",r))||void 0===e?void 0:e.attribs.href;o&&(n.link=o);Te(n,"description","subtitle",r);const i=Ae("updated",r);i&&(n.updated=new Date(i));return Te(n,"author","email",r,!0),n}(e):function(t){var e,r;const n=null!==(r=null===(e=_e("channel",t.children))||void 0===e?void 0:e.children)&&void 0!==r?r:[],o={type:t.name.substr(0,3),id:"",items:de("item",t.children).map((t=>{const{children:e}=t,r={media:Se(e)};Te(r,"id","guid",e),Te(r,"title","title",e),Te(r,"link","link",e),Te(r,"description","description",e);const n=Ae("pubDate",e)||Ae("dc:date",e);return n&&(r.pubDate=new Date(n)),r}))};Te(o,"title","title",n),Te(o,"link","link",n),Te(o,"description","description",n);const i=Ae("lastBuildDate",n);i&&(o.updated=new Date(i));return Te(o,"author","managingEditor",n,!0),o}(e):null}!function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"}(me||(me={}));const Ee=["url","type","lang"],xe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Se(t){return de("media:content",t).map((t=>{const{attribs:e}=t,r={medium:e.medium,isDefault:!!e.isDefault};for(const t of Ee)e[t]&&(r[t]=e[t]);for(const t of xe)e[t]&&(r[t]=parseInt(e[t],10));return e.expression&&(r.expression=e.expression),r}))}function _e(t,e){return de(t,e,!0,1)[0]}function Ae(t,e,r=!1){return Mt(de(t,e,r,1)).trim()}function Te(t,e,r,n,o=!1){const i=Ae(r,n,o);i&&(t[e]=i)}function Le(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}const ke={_useHtmlParser2:!1};function Ie(t,e){if(!t)return null!=e?e:ke;const r={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(r._useHtmlParser2=!0,r.xmlMode=!0,!0!==t.xml&&Object.assign(r,t.xml)):t.xmlMode&&(r._useHtmlParser2=!0),r}function Oe(t,e,r){return t?t(null!=e?e:t._root.children,null,void 0,r).toString():""}function Ne(t,e){return Oe(this,function(t,e){return!e&&"object"==typeof t&&null!=t&&!("length"in t)&&!("type"in t)}(t)?void(e=t):t,{...null==this?void 0:this._options,...Ie(e)})}function Pe(t){return Oe(this,t,{...this._options,xmlMode:!0})}function Ce(t){const e=null!=t?t:this?this.root():[];let r="";for(let t=0;t<e.length;t++)r+=Mt(e[t]);return r}function De(t,e,r="boolean"==typeof e&&e){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(r=e);const n=this.load(t,this._options,!1);return r||n("script").remove(),[...n.root()[0].children]}function Re(){return this(this._root)}function Fe(t,e){if(e===t)return!1;let r=e;for(;r&&r!==r.parent;)if(r=r.parent,r===t)return!0;return!1}function je(t){return this.root().extract(t)}function Be(t,e){if(!Me(t)||!Me(e))return;let r=t.length;const n=+e.length;for(let o=0;o<n;o++)t[r++]=e[o];return t.length=r,t}function Me(t){if(Array.isArray(t))return!0;if("object"!=typeof t||null===t||!("length"in t)||"number"!=typeof t.length||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}function Ge(t){return null!=t.cheerio}function Ue(t,e){const r=t.length;for(let n=0;n<r;n++)e(t[n],n);return t}var He;function qe(t){const e=t.indexOf("<");if(e<0||e>t.length-3)return!1;const r=t.charCodeAt(e+1);return(r>=He.LowerA&&r<=He.LowerZ||r>=He.UpperA&&r<=He.UpperZ||r===He.Exclamation)&&t.includes(">",e+2)}!function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"}(He||(He={}));const Ve=Object.prototype.hasOwnProperty,Ke=/\s+/,Ye="data-",We=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ze=/^{[^]*}$|^\[[^]*]$/;function Xe(t,e,r){var n;if(t&&V(t))return null!==(n=t.attribs)&&void 0!==n||(t.attribs={}),e?Ve.call(t.attribs,e)?!r&&We.test(e)?e:t.attribs[e]:"option"===t.name&&"value"===e?Ce(t.children):"input"!==t.name||"radio"!==t.attribs.type&&"checkbox"!==t.attribs.type||"value"!==e?void 0:"on":t.attribs}function $e(t,e,r){null===r?ir(t,e):t.attribs[e]=""+r}function Je(t,e){if("object"==typeof t||void 0!==e){if("function"==typeof e){if("string"!=typeof t)throw Error("Bad combination of arguments.");return Ue(this,((r,n)=>{V(r)&&$e(r,t,e.call(r,n,r.attribs[t]))}))}return Ue(this,(r=>{if(V(r))if("object"==typeof t)for(const e of Object.keys(t)){$e(r,e,t[e])}else $e(r,t,e)}))}return arguments.length>1?this:Xe(this[0],t,this.options.xmlMode)}function Qe(t,e,r){return e in t?t[e]:!r&&We.test(e)?void 0!==Xe(t,e,!1):Xe(t,e,r)}function Ze(t,e,r,n){e in t?t[e]=r:$e(t,e,!n&&We.test(e)?r?"":null:""+r)}function tr(t,e){var r;if("string"==typeof t&&void 0===e){const e=this[0];if(!e||!V(e))return;switch(t){case"style":{const t=this.css(),e=Object.keys(t);for(let r=0;r<e.length;r++)t[r]=e[r];return t.length=e.length,t}case"tagName":case"nodeName":return e.name.toUpperCase();case"href":case"src":{const n=null===(r=e.attribs)||void 0===r?void 0:r[t];return"undefined"==typeof URL||("href"!==t||"a"!==e.tagName&&"link"!==e.tagName)&&("src"!==t||"img"!==e.tagName&&"iframe"!==e.tagName&&"audio"!==e.tagName&&"video"!==e.tagName&&"source"!==e.tagName)||void 0===n||!this.options.baseURI?n:new URL(n,this.options.baseURI).href}case"innerText":return Gt(e);case"textContent":return Mt(e);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Qe(e,t,this.options.xmlMode)}}if("object"==typeof t||void 0!==e){if("function"==typeof e){if("object"==typeof t)throw new TypeError("Bad combination of arguments.");return Ue(this,((r,n)=>{V(r)&&Ze(r,t,e.call(r,n,Qe(r,t,this.options.xmlMode)),this.options.xmlMode)}))}return Ue(this,(r=>{if(V(r))if("object"==typeof t)for(const e of Object.keys(t)){Ze(r,e,t[e],this.options.xmlMode)}else Ze(r,t,e,this.options.xmlMode)}))}}function er(t,e,r){var n;null!==(n=t.data)&&void 0!==n||(t.data={}),"object"==typeof e?Object.assign(t.data,e):"string"==typeof e&&void 0!==r&&(t.data[e]=r)}function rr(t){if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;const e=Number(t);if(t===e+"")return e;if(ze.test(t))try{return JSON.parse(t)}catch{}return t}function nr(t,e){var r;const n=this[0];if(!n||!V(n))return;const o=n;return null!==(r=o.data)&&void 0!==r||(o.data={}),null==t?function(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Ye))continue;const r=e.slice(Ye.length).replace(/[._-](\w|$)/g,((t,e)=>e.toUpperCase()));Ve.call(t.data,r)||(t.data[r]=rr(t.attribs[e]))}return t.data}(o):"object"==typeof t||void 0!==e?(Ue(this,(r=>{V(r)&&("object"==typeof t?er(r,t):er(r,t,e))})),this):function(t,e){const r=Ye+e.replace(/[A-Z]/g,"-$&").toLowerCase(),n=t.data;return Ve.call(n,e)?n[e]:Ve.call(t.attribs,r)?n[e]=rr(t.attribs[r]):void 0}(o,t)}function or(t){const e=0===arguments.length,r=this[0];if(!r||!V(r))return e?void 0:this;switch(r.name){case"textarea":return this.text(t);case"select":{const r=this.find("option:selected");if(!e){if(null==this.attr("multiple")&&"object"==typeof t)return this;this.find("option").removeAttr("selected");const e="object"==typeof t?t:[t];for(const t of e)this.find(`option[value="${t}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map((t=>Ce(t.children))):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function ir(t,e){t.attribs&&Ve.call(t.attribs,e)&&delete t.attribs[e]}function ar(t){return t?t.trim().split(Ke):[]}function sr(t){const e=ar(t);for(const t of e)Ue(this,(e=>{V(e)&&ir(e,t)}));return this}function cr(t){return this.toArray().some((e=>{const r=V(e)&&e.attribs.class;let n=-1;if(r&&t.length>0)for(;(n=r.indexOf(t,n+1))>-1;){const e=n+t.length;if((0===n||Ke.test(r[n-1]))&&(e===r.length||Ke.test(r[e])))return!0}return!1}))}function ur(t){if("function"==typeof t)return Ue(this,((e,r)=>{if(V(e)){const n=e.attribs.class||"";ur.call([e],t.call(e,r,n))}}));if(!t||"string"!=typeof t)return this;const e=t.split(Ke),r=this.length;for(let t=0;t<r;t++){const r=this[t];if(!V(r))continue;const n=Xe(r,"class",!1);if(n){let t=` ${n} `;for(const r of e){const e=r+" ";t.includes(" "+e)||(t+=e)}$e(r,"class",t.trim())}else $e(r,"class",e.join(" ").trim())}return this}function lr(t){if("function"==typeof t)return Ue(this,((e,r)=>{V(e)&&lr.call([e],t.call(e,r,e.attribs.class||""))}));const e=ar(t),r=e.length,n=0===arguments.length;return Ue(this,(t=>{if(V(t))if(n)t.attribs.class="";else{const n=ar(t.attribs.class);let o=!1;for(let t=0;t<r;t++){const r=n.indexOf(e[t]);r>=0&&(n.splice(r,1),o=!0,t--)}o&&(t.attribs.class=n.join(" "))}}))}function hr(t,e){if("function"==typeof t)return Ue(this,((r,n)=>{V(r)&&hr.call([r],t.call(r,n,r.attribs.class||"",e),e)}));if(!t||"string"!=typeof t)return this;const r=t.split(Ke),n=r.length,o="boolean"==typeof e?e?1:-1:0,i=this.length;for(let t=0;t<i;t++){const e=this[t];if(!V(e))continue;const i=ar(e.attribs.class);for(let t=0;t<n;t++){const e=i.indexOf(r[t]);o>=0&&e<0?i.push(r[t]):o<=0&&e>=0&&i.splice(e,1)}e.attribs.class=i.join(" ")}return this}var fr=r(4355),pr=r(6813),dr=r(5740);const yr=new Map([[fr.cV.Universal,50],[fr.cV.Tag,30],[fr.cV.Attribute,1],[fr.cV.Pseudo,0]]);function vr(t){return!yr.has(t.type)}const mr=new Map([[fr.V4.Exists,10],[fr.V4.Equals,8],[fr.V4.Not,7],[fr.V4.Start,6],[fr.V4.End,6],[fr.V4.Any,5]]);function gr(t){const e=t.map(br);for(let r=1;r<t.length;r++){const n=e[r];if(!(n<0))for(let o=r-1;o>=0&&n<e[o];o--){const r=t[o+1];t[o+1]=t[o],t[o]=r,e[o+1]=e[o],e[o]=n}}}function br(t){var e,r;let n=null!==(e=yr.get(t.type))&&void 0!==e?e:-1;return t.type===fr.cV.Attribute?(n=null!==(r=mr.get(t.action))&&void 0!==r?r:4,t.action===fr.V4.Equals&&"id"===t.name&&(n=9),t.ignoreCase&&(n>>=1)):t.type===fr.cV.Pseudo&&(t.data?"has"===t.name||"contains"===t.name?n=0:Array.isArray(t.data)?(n=Math.min(...t.data.map((t=>Math.min(...t.map(br))))),n<0&&(n=0)):n=2:n=3),n}const wr=/[-[\]{}()*+?.,\\^$|#\s]/g;function Er(t){return t.replace(wr,"\\$&")}const xr=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Sr(t,e){return"boolean"==typeof t.ignoreCase?t.ignoreCase:"quirks"===t.ignoreCase?!!e.quirksMode:!e.xmlMode&&xr.has(t.name)}const _r={equals(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;return Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return null!=r&&r.length===i.length&&r.toLowerCase()===i&&t(e)}):e=>n.getAttributeValue(e,o)===i&&t(e)},hyphen(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=i.length;return Sr(e,r)?(i=i.toLowerCase(),function(e){const r=n.getAttributeValue(e,o);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a).toLowerCase()===i&&t(e)}):function(e){const r=n.getAttributeValue(e,o);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a)===i&&t(e)}},element(t,e,r){const{adapter:n}=r,{name:o,value:i}=e;if(/\s/.test(i))return dr.falseFunc;const a=RegExp(`(?:^|\\s)${Er(i)}(?:$|\\s)`,Sr(e,r)?"i":"");return function(e){const r=n.getAttributeValue(e,o);return null!=r&&r.length>=i.length&&a.test(r)&&t(e)}},exists:(t,{name:e},{adapter:r})=>n=>r.hasAttrib(n,e)&&t(n),start(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=i.length;return 0===a?dr.falseFunc:Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return null!=r&&r.length>=a&&r.substr(0,a).toLowerCase()===i&&t(e)}):e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.startsWith(i))&&t(e)}},end(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;const a=-i.length;return 0===a?dr.falseFunc:Sr(e,r)?(i=i.toLowerCase(),e=>{var r;return(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.substr(a).toLowerCase())===i&&t(e)}):e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.endsWith(i))&&t(e)}},any(t,e,r){const{adapter:n}=r,{name:o,value:i}=e;if(""===i)return dr.falseFunc;if(Sr(e,r)){const e=RegExp(Er(i),"i");return function(r){const a=n.getAttributeValue(r,o);return null!=a&&a.length>=i.length&&e.test(a)&&t(r)}}return e=>{var r;return!!(null===(r=n.getAttributeValue(e,o))||void 0===r?void 0:r.includes(i))&&t(e)}},not(t,e,r){const{adapter:n}=r,{name:o}=e;let{value:i}=e;return""===i?e=>!!n.getAttributeValue(e,o)&&t(e):Sr(e,r)?(i=i.toLowerCase(),e=>{const r=n.getAttributeValue(e,o);return(null==r||r.length!==i.length||r.toLowerCase()!==i)&&t(e)}):e=>n.getAttributeValue(e,o)!==i&&t(e)}},Ar=new Set([9,10,12,13,32]);function Tr(t){return function(t){const e=t[0],r=t[1]-1;if(r<0&&e<=0)return dr.falseFunc;if(-1===e)return t=>t<=r;if(0===e)return t=>t===r;if(1===e)return r<0?dr.trueFunc:t=>t>=r;const n=Math.abs(e),o=(r%n+n)%n;return e>1?t=>t>=r&&t%n===o:t=>t<=r&&t%n===o}(function(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];let e=0,r=0,n=i(),o=a();if(e<t.length&&"n"===t.charAt(e)&&(e++,r=n*(null!=o?o:1),s(),e<t.length?(n=i(),s(),o=a()):n=o=0),null===o||e<t.length)throw Error(`n-th rule couldn't be parsed ('${t}')`);return[r,n*o];function i(){return"-"===t.charAt(e)?(e++,-1):("+"===t.charAt(e)&&e++,1)}function a(){const r=e;let n=0;for(;e<t.length&&t.charCodeAt(e)>=48&&t.charCodeAt(e)<=57;)n=10*n+(t.charCodeAt(e)-48),e++;return e===r?null:n}function s(){for(;e<t.length&&Ar.has(t.charCodeAt(e));)e++}}(t))}function Lr(t,e){return r=>{const n=e.getParent(r);return null!=n&&e.isTag(n)&&t(r)}}const kr={contains:(t,e,{adapter:r})=>function(n){return t(n)&&r.getText(n).includes(e)},icontains(t,e,{adapter:r}){const n=e.toLowerCase();return function(e){return t(e)&&r.getText(e).toLowerCase().includes(n)}},"nth-child"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=0;t<i.length&&!n(e,i[t]);t++)r.isTag(i[t])&&a++;return o(a)&&t(e)}},"nth-last-child"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=i.length-1;t>=0&&!n(e,i[t]);t--)r.isTag(i[t])&&a++;return o(a)&&t(e)}},"nth-of-type"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=0;t<i.length;t++){const o=i[t];if(n(e,o))break;r.isTag(o)&&r.getName(o)===r.getName(e)&&a++}return o(a)&&t(e)}},"nth-last-of-type"(t,e,{adapter:r,equals:n}){const o=Tr(e);return o===dr.falseFunc?dr.falseFunc:o===dr.trueFunc?Lr(t,r):function(e){const i=r.getSiblings(e);let a=0;for(let t=i.length-1;t>=0;t--){const o=i[t];if(n(e,o))break;r.isTag(o)&&r.getName(o)===r.getName(e)&&a++}return o(a)&&t(e)}},root:(t,e,{adapter:r})=>e=>{const n=r.getParent(e);return(null==n||!r.isTag(n))&&t(e)},scope(t,e,r,n){const{equals:o}=r;return n&&0!==n.length?1===n.length?e=>o(n[0],e)&&t(e):e=>n.includes(e)&&t(e):kr.root(t,e,r)},hover:Ir("isHovered"),visited:Ir("isVisited"),active:Ir("isActive")};function Ir(t){return function(e,r,{adapter:n}){const o=n[t];return"function"!=typeof o?dr.falseFunc:function(t){return o(t)&&e(t)}}}const Or={empty:(t,{adapter:e})=>!e.getChildren(t).some((t=>e.isTag(t)||""!==e.getText(t))),"first-child"(t,{adapter:e,equals:r}){if(e.prevElementSibling)return null==e.prevElementSibling(t);const n=e.getSiblings(t).find((t=>e.isTag(t)));return null!=n&&r(t,n)},"last-child"(t,{adapter:e,equals:r}){const n=e.getSiblings(t);for(let o=n.length-1;o>=0;o--){if(r(t,n[o]))return!0;if(e.isTag(n[o]))break}return!1},"first-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),o=e.getName(t);for(let i=0;i<n.length;i++){const a=n[i];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===o)break}return!1},"last-of-type"(t,{adapter:e,equals:r}){const n=e.getSiblings(t),o=e.getName(t);for(let i=n.length-1;i>=0;i--){const a=n[i];if(r(t,a))return!0;if(e.isTag(a)&&e.getName(a)===o)break}return!1},"only-of-type"(t,{adapter:e,equals:r}){const n=e.getName(t);return e.getSiblings(t).every((o=>r(t,o)||!e.isTag(o)||e.getName(o)!==n))},"only-child":(t,{adapter:e,equals:r})=>e.getSiblings(t).every((n=>r(t,n)||!e.isTag(n)))};function Nr(t,e,r,n){if(null===r){if(t.length>n)throw Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===n)throw Error(`Pseudo-class :${e} doesn't have any arguments`)}const Pr={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Cr={};function Dr(t,e){return t===dr.falseFunc?dr.falseFunc:r=>e.isTag(r)&&t(r)}function Rr(t,e){const r=e.getSiblings(t);if(r.length<=1)return[];const n=r.indexOf(t);return n<0||n===r.length-1?[]:r.slice(n+1).filter(e.isTag)}function Fr(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const jr=(t,e,r,n,o)=>{const i=o(e,Fr(r),n);return i===dr.trueFunc?t:i===dr.falseFunc?dr.falseFunc:e=>i(e)&&t(e)},Br={is:jr,matches:jr,where:jr,not(t,e,r,n,o){const i=o(e,Fr(r),n);return i===dr.falseFunc?t:i===dr.trueFunc?dr.falseFunc:e=>!i(e)&&t(e)},has(t,e,r,n,o){const{adapter:i}=r,a=Fr(r);a.relativeSelector=!0;const s=e.some((t=>t.some(vr)))?[Cr]:void 0,c=o(e,a,s);if(c===dr.falseFunc)return dr.falseFunc;const u=Dr(c,i);if(s&&c!==dr.trueFunc){const{shouldTestNextSiblings:e=!1}=c;return r=>{if(!t(r))return!1;s[0]=r;const n=i.getChildren(r),o=e?[...n,...Rr(r,i)]:n;return i.existsOne(u,o)}}return e=>t(e)&&i.existsOne(u,i.getChildren(e))}};function Mr(t,e){const r=e.getParent(t);return r&&e.isTag(r)?r:null}function Gr(t,e,r,n,o){const{adapter:i,equals:a}=r;switch(e.type){case fr.cV.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case fr.cV.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case fr.cV.Attribute:if(null!=e.namespace)throw Error("Namespaced attributes are not yet supported by css-select");return r.xmlMode&&!r.lowerCaseAttributeNames||(e.name=e.name.toLowerCase()),_r[e.action](t,e,r);case fr.cV.Pseudo:return function(t,e,r,n,o){var i;const{name:a,data:s}=e;if(Array.isArray(s)){if(!(a in Br))throw Error(`Unknown pseudo-class :${a}(${s})`);return Br[a](t,s,r,n,o)}const c=null===(i=r.pseudos)||void 0===i?void 0:i[a],u="string"==typeof c?c:Pr[a];if("string"==typeof u){if(null!=s)throw Error(`Pseudo ${a} doesn't have any arguments`);const e=(0,pr.q)(u);return Br.is(t,e,r,n,o)}if("function"==typeof c)return Nr(c,a,s,1),e=>c(e,s)&&t(e);if(a in kr)return kr[a](t,s,r,n);if(a in Or){const e=Or[a];return Nr(e,a,s,2),n=>e(n,r,s)&&t(n)}throw Error("Unknown pseudo-class :"+a)}(t,e,r,n,o);case fr.cV.Tag:{if(null!=e.namespace)throw Error("Namespaced tag names are not yet supported by css-select");let{name:n}=e;return r.xmlMode&&!r.lowerCaseTags||(n=n.toLowerCase()),function(e){return i.getName(e)===n&&t(e)}}case fr.cV.Descendant:{if(!1===r.cacheResults||"undefined"==typeof WeakSet)return function(e){let r=e;for(;r=Mr(r,i);)if(t(r))return!0;return!1};const e=new WeakSet;return function(r){let n=r;for(;n=Mr(n,i);)if(!e.has(n)){if(i.isTag(n)&&t(n))return!0;e.add(n)}return!1}}case"_flexibleDescendant":return function(e){let r=e;do{if(t(r))return!0}while(r=Mr(r,i));return!1};case fr.cV.Parent:return function(e){return i.getChildren(e).some((e=>i.isTag(e)&&t(e)))};case fr.cV.Child:return function(e){const r=i.getParent(e);return null!=r&&i.isTag(r)&&t(r)};case fr.cV.Sibling:return function(e){const r=i.getSiblings(e);for(let n=0;n<r.length;n++){const o=r[n];if(a(e,o))break;if(i.isTag(o)&&t(o))return!0}return!1};case fr.cV.Adjacent:return i.prevElementSibling?function(e){const r=i.prevElementSibling(e);return null!=r&&t(r)}:function(e){const r=i.getSiblings(e);let n;for(let t=0;t<r.length;t++){const o=r[t];if(a(e,o))break;i.isTag(o)&&(n=o)}return!!n&&t(n)};case fr.cV.Universal:if(null!=e.namespace&&"*"!==e.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return t}}function Ur(t,e,r){return Yr("string"==typeof t?(0,pr.q)(t):t,e,r)}function Hr(t){return t.type===fr.cV.Pseudo&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((t=>t.some(Hr))))}const qr={type:fr.cV.Descendant},Vr={type:"_flexibleDescendant"},Kr={type:fr.cV.Pseudo,name:"scope",data:null};function Yr(t,e,r){var n;t.forEach(gr),r=null!==(n=e.context)&&void 0!==n?n:r;const o=Array.isArray(r),i=r&&(Array.isArray(r)?r:[r]);if(!1!==e.relativeSelector)!function(t,{adapter:e},r){const n=!!(null==r?void 0:r.every((t=>{const r=e.isTag(t)&&e.getParent(t);return t===Cr||r&&e.isTag(r)})));for(const e of t){if(e.length>0&&vr(e[0])&&e[0].type!==fr.cV.Descendant);else{if(!n||e.some(Hr))continue;e.unshift(qr)}e.unshift(Kr)}}(t,e,i);else if(t.some((t=>t.length>0&&vr(t[0]))))throw Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const s=t.map((t=>{if(t.length>=2){const[e,r]=t;e.type!==fr.cV.Pseudo||"scope"!==e.name||(o&&r.type===fr.cV.Descendant?t[1]=Vr:r.type!==fr.cV.Adjacent&&r.type!==fr.cV.Sibling||(a=!0))}return function(t,e,r){var n;return t.reduce(((t,n)=>t===dr.falseFunc?dr.falseFunc:Gr(t,n,e,r,Yr)),null!==(n=e.rootFunc)&&void 0!==n?n:dr.trueFunc)}(t,e,i)})).reduce(Wr,dr.falseFunc);return s.shouldTestNextSiblings=a,s}function Wr(t,e){return e===dr.falseFunc||t===dr.trueFunc?t:t===dr.falseFunc||e===dr.trueFunc?e:function(r){return t(r)||e(r)}}const zr=(t,e)=>t===e,Xr={adapter:n,equals:zr};function $r(t){var e,r,o,i;const a=null!=t?t:Xr;return null!==(e=a.adapter)&&void 0!==e||(a.adapter=n),null!==(r=a.equals)&&void 0!==r||(a.equals=null!==(i=null===(o=a.adapter)||void 0===o?void 0:o.equals)&&void 0!==i?i:zr),a}function Jr(t){return function(e,r,n){const o=$r(r);return t(e,o,n)}}Jr((function(t,e,r){return Dr(Ur(t,e,r),e.adapter)})),Jr(Ur);const Qr=Jr(Yr);function Zr(t){return function(e,r,n){const o=$r(n);"function"!=typeof e&&(e=Ur(e,o,r));const i=tn(r,o.adapter,e.shouldTestNextSiblings);return t(e,i,o)}}function tn(t,e,r=!1){return r&&(t=function(t,e){const r=Array.isArray(t)?t.slice(0):[t],n=r.length;for(let t=0;t<n;t++){const n=Rr(r[t],e);r.push(...n)}return r}(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}Zr(((t,e,r)=>t!==dr.falseFunc&&e&&0!==e.length?r.adapter.findAll(t,e):[])),Zr(((t,e,r)=>t!==dr.falseFunc&&e&&0!==e.length?r.adapter.findOne(t,e):null));const en=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function rn(t){return"pseudo"===t.type&&(!!en.has(t.name)||!("not"!==t.name||!Array.isArray(t.data))&&t.data.some((t=>t.some(rn))))}function nn(t){const e=[],r=[];for(const n of t)n.some(rn)?e.push(n):r.push(n);return[r,e]}const on={type:fr.cV.Universal,namespace:null},an={type:fr.cV.Pseudo,name:"scope",data:null};function sn(t,e,r={}){return cn([t],e,r)}function cn(t,e,r={}){if("function"==typeof e)return t.some(e);const[n,o]=nn((0,pr.q)(e));return n.length>0&&t.some(Qr(n,r))||o.some((e=>hn(e,t,r).length>0))}function un(t,e,r={}){return ln((0,pr.q)(t),e,r)}function ln(t,e,r){if(0===e.length)return[];const[n,o]=nn(t);let i;if(n.length){const t=yn(e,n,r);if(0===o.length)return t;t.length&&(i=new Set(t))}for(let t=0;t<o.length&&(null==i?void 0:i.size)!==e.length;t++){const n=o[t];if(0===(i?e.filter((t=>V(t)&&!i.has(t))):e).length)break;const a=hn(n,e,r);if(a.length)if(i)a.forEach((t=>i.add(t)));else{if(t===o.length-1)return a;i=new Set(a)}}return void 0!==i?i.size===e.length?e:e.filter((t=>i.has(t))):[]}function hn(t,e,r){var n;if(t.some(pr.$)){const o=null!==(n=r.root)&&void 0!==n?n:function(t){for(;t.parent;)t=t.parent;return t}(e[0]),i={...r,context:e,relativeSelector:!1};return t.push(an),fn(o,t,i,!0,e.length)}return fn(e,t,r,!1,e.length)}function fn(t,e,r,o,i){const a=e.findIndex(rn),s=e.slice(0,a),c=e[a],u=e.length-1===a?i:1/0,l=function(t,e,r){const n=null!=e?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,r):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*r;case"even":return 2*r-1;case"last":case"not":return 1/0}}(c.name,c.data,u);if(0===l)return[];const h=(0!==s.length||Array.isArray(t)?0===s.length?(Array.isArray(t)?t:[t]).filter(V):o||s.some(pr.$)?pn(t,[s],r,l):yn(t,[s],r):Ut(t).filter(V)).slice(0,l);let f=function(t,e,r,n){const o="string"==typeof r?parseInt(r,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(o)&&Math.abs(o)<e.length?[o<0?e[e.length+o]:e[o]]:[];case"gt":return isFinite(o)?e.slice(o+1):[];case"even":return e.filter(((t,e)=>e%2==0));case"odd":return e.filter(((t,e)=>e%2==1));case"not":{const t=new Set(ln(r,e,n));return e.filter((e=>!t.has(e)))}}}(c.name,h,c.data,r);if(0===f.length||e.length===a+1)return f;const p=e.slice(a+1),d=p.some(pr.$);if(d){if((0,pr.$)(p[0])){const{type:t}=p[0];t!==fr.cV.Sibling&&t!==fr.cV.Adjacent||(f=tn(f,n,!0)),p.unshift(on)}r={...r,relativeSelector:!1,rootFunc:t=>f.includes(t)}}else r.rootFunc&&r.rootFunc!==dr.trueFunc&&(r={...r,rootFunc:dr.trueFunc});return p.some(rn)?fn(f,p,r,!1,i):d?pn(f,[p],r,i):yn(f,[p],r)}function pn(t,e,r,n){return dn(t,Qr(e,r,t),n)}function dn(t,e,r=1/0){return re((t=>V(t)&&e(t)),tn(t,n,e.shouldTestNextSiblings),!0,r)}function yn(t,e,r){const n=(Array.isArray(t)?t:[t]).filter(V);if(0===n.length)return n;const o=Qr(e,r);return o===dr.trueFunc?n:n.filter(o)}const vn=/^\s*[+~]/;function mn(t){if(!t)return this._make([]);if("string"!=typeof t){const e=Ge(t)?t.toArray():[t],r=this.toArray();return this._make(e.filter((t=>r.some((e=>Fe(e,t))))))}return this._findBySelector(t,1/0)}function gn(t,e){var r;const n=this.toArray(),o=vn.test(t)?n:this.children().toArray(),i={context:n,root:null===(r=this._root)||void 0===r?void 0:r[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(t,e,r={},n=1/0){if("function"==typeof t)return dn(e,t);const[o,i]=nn((0,pr.q)(t)),a=i.map((t=>fn(e,t,r,!0,n)));return o.length&&a.push(pn(e,o,r,n)),0===a.length?[]:1===a.length?a[0]:be(a.reduce(((t,e)=>[...t,...e])))}(t,o,i,e))}function bn(t){return function(e,...r){return function(n){var o;let i=t(e,this);return n&&(i=Un(i,n,this.options.xmlMode,null===(o=this._root)||void 0===o?void 0:o[0])),this._make(this.length>1&&i.length>1?r.reduce(((t,e)=>e(t)),i):i)}}}const wn=bn(((t,e)=>{let r=[];for(let n=0;n<e.length;n++){const o=t(e[n]);o.length>0&&(r=r.concat(o))}return r})),En=bn(((t,e)=>{const r=[];for(let n=0;n<e.length;n++){const o=t(e[n]);null!==o&&r.push(o)}return r}));function xn(t,...e){let r=null;const n=bn(((t,e)=>{const n=[];return Ue(e,(e=>{for(let o;(o=t(e))&&!(null==r?void 0:r(o,n.length));e=o)n.push(o)})),n}))(t,...e);return function(t,e){r="string"==typeof t?e=>sn(e,t,this.options):t?Mn(t):null;const o=n.call(this,e);return r=null,o}}function Sn(t){return t.length>1?Array.from(new Set(t)):t}const _n=En((({parent:t})=>t&&!X(t)?t:null),Sn),An=wn((t=>{const e=[];for(;t.parent&&!X(t.parent);)e.push(t.parent),t=t.parent;return e}),be,(t=>t.reverse())),Tn=xn((({parent:t})=>t&&!X(t)?t:null),be,(t=>t.reverse()));function Ln(t){var e;const r=[];if(!t)return this._make(r);const n={xmlMode:this.options.xmlMode,root:null===(e=this._root)||void 0===e?void 0:e[0]},o="string"==typeof t?e=>sn(e,t,n):Mn(t);return Ue(this,(t=>{for(!t||X(t)||V(t)||(t=t.parent);t&&V(t);){if(o(t,0)){r.includes(t)||r.push(t);break}t=t.parent}})),this._make(r)}const kn=En((t=>Wt(t))),In=wn((t=>{const e=[];for(;t.next;)V(t=t.next)&&e.push(t);return e}),Sn),On=xn((t=>Wt(t)),Sn),Nn=En((t=>zt(t))),Pn=wn((t=>{const e=[];for(;t.prev;)V(t=t.prev)&&e.push(t);return e}),Sn),Cn=xn((t=>zt(t)),Sn),Dn=wn((t=>qt(t).filter((e=>V(e)&&e!==t))),be),Rn=wn((t=>Ut(t).filter(V)),Sn);function Fn(){const t=this.toArray().reduce(((t,e)=>$(e)?t.concat(e.children):t),[]);return this._make(t)}function jn(t){let e=0;const r=this.length;for(;e<r&&!1!==t.call(this[e],e,this[e]);)++e;return this}function Bn(t){let e=[];for(let r=0;r<this.length;r++){const n=this[r],o=t.call(n,r,n);null!=o&&(e=e.concat(o))}return this._make(e)}function Mn(t){return"function"==typeof t?(e,r)=>t.call(e,r,e):Ge(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function Gn(t){var e;return this._make(Un(this.toArray(),t,this.options.xmlMode,null===(e=this._root)||void 0===e?void 0:e[0]))}function Un(t,e,r,n){return"string"==typeof e?un(e,t,{xmlMode:r,root:n}):t.filter(Mn(e))}function Hn(t){const e=this.toArray();return"string"==typeof t?cn(e.filter(V),t,this.options):!!t&&e.some(Mn(t))}function qn(t){let e=this.toArray();if("string"==typeof t){const r=new Set(un(t,e,this.options));e=e.filter((t=>!r.has(t)))}else{const r=Mn(t);e=e.filter(((t,e)=>!r(t,e)))}return this._make(e)}function Vn(t){return this.filter("string"==typeof t?`:has(${t})`:(e,r)=>this._make(r).find(t).length>0)}function Kn(){return this.length>1?this._make(this[0]):this}function Yn(){return this.length>0?this._make(this[this.length-1]):this}function Wn(t){var e;return 0===(t=+t)&&this.length<=1?this:(t<0&&(t=this.length+t),this._make(null!==(e=this[t])&&void 0!==e?e:[]))}function zn(t){return null==t?this.toArray():this[t<0?this.length+t:t]}function Xn(){return Array.prototype.slice.call(this)}function $n(t){let e,r;return null==t?(e=this.parent().children(),r=this[0]):"string"==typeof t?(e=this._make(t),r=this[0]):(e=this,r=Ge(t)?t[0]:t),Array.prototype.indexOf.call(e,r)}function Jn(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function Qn(){var t;return null!==(t=this.prevObject)&&void 0!==t?t:this._make([])}function Zn(t,e){const r=this._make(t,e),n=be([...this.get(),...r.get()]);return this._make(n)}function to(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}function eo(t,e){const r=Array.isArray(t)?t:[t];e?e.children=r:e=null;for(let t=0;t<r.length;t++){const n=r[t];n.parent&&n.parent.children!==r&&Xt(n),e?(n.prev=r[t-1]||null,n.next=r[t+1]||null):n.prev=n.next=null,n.parent=e}return e}function ro(t,e){if(null==t)return[];if("string"==typeof t)return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(1===t.length)return this._makeDomArray(t[0],e);const r=[];for(let n=0;n<t.length;n++){const o=t[n];if("object"==typeof o){if(null==o)continue;if(!("length"in o)){r.push(e?J(o,!0):o);continue}}r.push(...this._makeDomArray(o,e))}return r}return[e?J(t,!0):t]}function no(t){return function(...e){const r=this.length-1;return Ue(this,((n,o)=>{if(!$(n))return;const i="function"==typeof e[0]?e[0].call(n,o,this._render(n.children)):e,a=this._makeDomArray(i,o<r);t(a,n.children,n)}))}}function oo(t,e,r,n,o){var i,a;const s=[e,r,...n],c=0===e?null:t[e-1],u=e+r>=t.length?null:t[e+r];for(let t=0;t<n.length;++t){const r=n[t],l=r.parent;if(l){const t=l.children.indexOf(r);t>-1&&(l.children.splice(t,1),o===l&&e>t&&s[0]--)}r.parent=o,r.prev&&(r.prev.next=null!==(i=r.next)&&void 0!==i?i:null),r.next&&(r.next.prev=null!==(a=r.prev)&&void 0!==a?a:null),r.prev=0===t?c:n[t-1],r.next=t===n.length-1?u:n[t+1]}return c&&(c.next=n[0]),u&&(u.prev=n[n.length-1]),t.splice(...s)}function io(t){return(Ge(t)?t:this._make(t)).append(this),this}function ao(t){return(Ge(t)?t:this._make(t)).prepend(this),this}const so=no(((t,e,r)=>{oo(e,e.length,0,t,r)})),co=no(((t,e,r)=>{oo(e,0,0,t,r)}));function uo(t){return function(e){const r=this.length-1,n=this.parents().last();for(let o=0;o<this.length;o++){const i=this[o],a="function"==typeof e?e.call(i,o,i):"string"!=typeof e||qe(e)?e:n.find(e).clone(),[s]=this._makeDomArray(a,o<r);if(!s||!$(s))continue;let c=s,u=0;for(;u<c.children.length;){const t=c.children[u];V(t)?(c=t,u=0):u++}t(i,c,[s])}return this}}const lo=uo(((t,e,r)=>{const{parent:n}=t;if(!n)return;const o=n.children,i=o.indexOf(t);eo([t],e),oo(o,i,0,r,n)})),ho=uo(((t,e,r)=>{$(t)&&(eo(t.children,e),eo(r,t))}));function fo(t){return this.parent(t).not("body").each(((t,e)=>{this._make(e).replaceWith(e.children)})),this}function po(t){const e=this[0];if(e){const r=this._make("function"==typeof t?t.call(e,0,e):t).insertBefore(e);let n;for(let t=0;t<r.length;t++)"tag"===r[t].type&&(n=r[t]);let o=0;for(;n&&o<n.children.length;){const t=n.children[o];"tag"===t.type?(n=t,o=0):o++}n&&this._make(n).append(this)}return this}function yo(...t){const e=this.length-1;return Ue(this,((r,n)=>{if(!$(r)||!r.parent)return;const o=r.parent.children,i=o.indexOf(r);if(i<0)return;const a="function"==typeof t[0]?t[0].call(r,n,this._render(r.children)):t;oo(o,i+1,0,this._makeDomArray(a,n<e),r.parent)}))}function vo(t){"string"==typeof t&&(t=this._make(t)),this.remove();const e=[];for(const r of this._makeDomArray(t)){const t=this.clone().toArray(),{parent:n}=r;if(!n)continue;const o=n.children,i=o.indexOf(r);i<0||(oo(o,i+1,0,t,n),e.push(...t))}return this._make(e)}function mo(...t){const e=this.length-1;return Ue(this,((r,n)=>{if(!$(r)||!r.parent)return;const o=r.parent.children,i=o.indexOf(r);if(i<0)return;const a="function"==typeof t[0]?t[0].call(r,n,this._render(r.children)):t;oo(o,i,0,this._makeDomArray(a,n<e),r.parent)}))}function go(t){const e=this._make(t);this.remove();const r=[];return Ue(e,(t=>{const e=this.clone().toArray(),{parent:n}=t;if(!n)return;const o=n.children,i=o.indexOf(t);i<0||(oo(o,i,0,e,n),r.push(...e))})),this._make(r)}function bo(t){return Ue(t?this.filter(t):this,(t=>{Xt(t),t.prev=t.next=t.parent=null})),this}function wo(t){return Ue(this,((e,r)=>{const{parent:n}=e;if(!n)return;const o=n.children,i="function"==typeof t?t.call(e,r,e):t,a=this._makeDomArray(i);eo(a,null);const s=o.indexOf(e);oo(o,s,1,a,n),a.includes(e)||(e.parent=e.prev=e.next=null)}))}function Eo(){return Ue(this,(t=>{if($(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}}))}function xo(t){if(void 0===t){const t=this[0];return t&&$(t)?this._render(t.children):null}return Ue(this,(e=>{if(!$(e))return;for(const t of e.children)t.next=t.prev=t.parent=null;eo(Ge(t)?t.toArray():this._parse(""+t,this.options,!1,e).children,e)}))}function So(){return this._render(this)}function _o(t){return void 0===t?Ce(this):Ue(this,"function"==typeof t?(e,r)=>this._make(e).text(t.call(e,r,Ce([e]))):e=>{if(!$(e))return;for(const t of e.children)t.next=t.prev=t.parent=null;eo(new j(""+t),e)})}function Ao(){const t=Array.prototype.map.call(this.get(),(t=>J(t,!0))),e=new H(t);for(const r of t)r.parent=e;return this._make(t)}function To(t,e){return null!=t&&null!=e||"object"==typeof t&&!Array.isArray(t)?Ue(this,((r,n)=>{V(r)&&Lo(r,t,e,n)})):0!==this.length?ko(this[0],t):void 0}function Lo(t,e,r,n){if("string"==typeof e){const i=ko(t),a="function"==typeof r?r.call(t,n,i[e]):r;""===a?delete i[e]:null!=a&&(i[e]=a),t.attribs.style=Object.keys(o=i).reduce(((t,e)=>`${t}${t?" ":""}${e}: ${o[e]};`),"")}else if("object"==typeof e){const r=Object.keys(e);for(let n=0;n<r.length;n++){const o=r[n];Lo(t,o,e[o],n)}}var o}function ko(t,e){if(!t||!V(t))return;const r=function(t){if(t=(t||"").trim(),!t)return{};const e={};let r;for(const n of t.split(";")){const t=n.indexOf(":");if(t<1||t===n.length-1){const t=n.trimEnd();t.length>0&&void 0!==r&&(e[r]+=";"+t)}else r=n.slice(0,t).trim(),e[r]=n.slice(t+1).trim()}return e}(t.attribs.style);if("string"==typeof e)return r[e];if(Array.isArray(e)){const t={};for(const n of e)null!=r[n]&&(t[n]=r[n]);return t}return r}const Io="input,select,textarea,keygen",Oo=/%20/g,No=/\r?\n/g;function Po(){const t=this.serializeArray().map((t=>`${encodeURIComponent(t.name)}=${encodeURIComponent(t.value)}`));return t.join("&").replace(Oo,"+")}function Co(){return this.map(((t,e)=>{const r=this._make(e);return V(e)&&"form"===e.name?r.find(Io).toArray():r.filter(Io).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((t,e)=>{var r;const n=this._make(e),o=n.attr("name"),i=null!==(r=n.val())&&void 0!==r?r:"";return Array.isArray(i)?i.map((t=>({name:o,value:t.replace(No,"\r\n")}))):{name:o,value:i.replace(No,"\r\n")}})).toArray()}function Do(t){var e;return"string"==typeof t?{selector:t,value:"textContent"}:{selector:t.selector,value:null!==(e=t.value)&&void 0!==e?e:"textContent"}}function Ro(t){const e={};for(const r in t){const n=t[r],o=Array.isArray(n),{selector:i,value:a}=Do(o?n[0]:n),s="function"==typeof a?a:"string"==typeof a?t=>this._make(t).prop(a):t=>this._make(t).extract(a);if(o)e[r]=this._findBySelector(i,1/0).map(((t,n)=>s(n,r,e))).get();else{const t=this._findBySelector(i,1);e[r]=t.length>0?s(t[0],r,e):void 0}}return e}class Fo{constructor(t,e,r){if(this.length=0,this.options=r,this._root=e,t){for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}Fo.prototype.cheerio="[cheerio object]",Fo.prototype.splice=Array.prototype.splice,Fo.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(Fo.prototype,i,a,s,c,u,l);const jo=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Bo="�";var Mo;!function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(Mo||(Mo={}));const Go="--",Uo="[CDATA[",Ho="doctype",qo="script",Vo="public",Ko="system";function Yo(t){return t>=55296&&t<=57343}function Wo(t){return 32!==t&&10!==t&&13!==t&&9!==t&&12!==t&&t>=1&&t<=31||t>=127&&t<=159}function zo(t){return t>=64976&&t<=65007||jo.has(t)}var Xo;!function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(Xo||(Xo={}));class $o{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,e){const{line:r,col:n,offset:o}=this,i=n+e,a=o+e;return{code:t,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const e=this.html.charCodeAt(this.pos+1);if(function(t){return t>=56320&&t<=57343}(e))return this.pos++,this._addGap(),1024*(t-55296)+9216+e}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Mo.EOF;return this._err(Xo.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,e){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=e}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,e){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(e)return this.html.startsWith(t,this.pos);for(let e=0;e<t.length;e++){if((32|this.html.charCodeAt(this.pos+e))!==t.charCodeAt(e))return!1}return!0}peek(t){const e=this.pos+t;if(e>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Mo.EOF;const r=this.html.charCodeAt(e);return r===Mo.CARRIAGE_RETURN?Mo.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Mo.EOF;let t=this.html.charCodeAt(this.pos);if(t===Mo.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Mo.LINE_FEED;if(t===Mo.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,Yo(t)&&(t=this._processSurrogate(t));return null===this.handler.onParseError||t>31&&t<127||t===Mo.LINE_FEED||t===Mo.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t}_checkForProblematicCharacters(t){Wo(t)?this._err(Xo.controlCharacterInInputStream):zo(t)&&this._err(Xo.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Jo,Qo,Zo,ti,ei,ri;function ni(t,e){for(let r=t.attrs.length-1;r>=0;r--)if(t.attrs[r].name===e)return t.attrs[r].value;return null}!function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"}(Jo||(Jo={})),function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"}(Qo||(Qo={})),function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"}(Zo||(Zo={})),function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"}(ti||(ti={})),function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"}(ei||(ei={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"}(ri||(ri={}));const oi=new Map([[ei.A,ri.A],[ei.ADDRESS,ri.ADDRESS],[ei.ANNOTATION_XML,ri.ANNOTATION_XML],[ei.APPLET,ri.APPLET],[ei.AREA,ri.AREA],[ei.ARTICLE,ri.ARTICLE],[ei.ASIDE,ri.ASIDE],[ei.B,ri.B],[ei.BASE,ri.BASE],[ei.BASEFONT,ri.BASEFONT],[ei.BGSOUND,ri.BGSOUND],[ei.BIG,ri.BIG],[ei.BLOCKQUOTE,ri.BLOCKQUOTE],[ei.BODY,ri.BODY],[ei.BR,ri.BR],[ei.BUTTON,ri.BUTTON],[ei.CAPTION,ri.CAPTION],[ei.CENTER,ri.CENTER],[ei.CODE,ri.CODE],[ei.COL,ri.COL],[ei.COLGROUP,ri.COLGROUP],[ei.DD,ri.DD],[ei.DESC,ri.DESC],[ei.DETAILS,ri.DETAILS],[ei.DIALOG,ri.DIALOG],[ei.DIR,ri.DIR],[ei.DIV,ri.DIV],[ei.DL,ri.DL],[ei.DT,ri.DT],[ei.EM,ri.EM],[ei.EMBED,ri.EMBED],[ei.FIELDSET,ri.FIELDSET],[ei.FIGCAPTION,ri.FIGCAPTION],[ei.FIGURE,ri.FIGURE],[ei.FONT,ri.FONT],[ei.FOOTER,ri.FOOTER],[ei.FOREIGN_OBJECT,ri.FOREIGN_OBJECT],[ei.FORM,ri.FORM],[ei.FRAME,ri.FRAME],[ei.FRAMESET,ri.FRAMESET],[ei.H1,ri.H1],[ei.H2,ri.H2],[ei.H3,ri.H3],[ei.H4,ri.H4],[ei.H5,ri.H5],[ei.H6,ri.H6],[ei.HEAD,ri.HEAD],[ei.HEADER,ri.HEADER],[ei.HGROUP,ri.HGROUP],[ei.HR,ri.HR],[ei.HTML,ri.HTML],[ei.I,ri.I],[ei.IMG,ri.IMG],[ei.IMAGE,ri.IMAGE],[ei.INPUT,ri.INPUT],[ei.IFRAME,ri.IFRAME],[ei.KEYGEN,ri.KEYGEN],[ei.LABEL,ri.LABEL],[ei.LI,ri.LI],[ei.LINK,ri.LINK],[ei.LISTING,ri.LISTING],[ei.MAIN,ri.MAIN],[ei.MALIGNMARK,ri.MALIGNMARK],[ei.MARQUEE,ri.MARQUEE],[ei.MATH,ri.MATH],[ei.MENU,ri.MENU],[ei.META,ri.META],[ei.MGLYPH,ri.MGLYPH],[ei.MI,ri.MI],[ei.MO,ri.MO],[ei.MN,ri.MN],[ei.MS,ri.MS],[ei.MTEXT,ri.MTEXT],[ei.NAV,ri.NAV],[ei.NOBR,ri.NOBR],[ei.NOFRAMES,ri.NOFRAMES],[ei.NOEMBED,ri.NOEMBED],[ei.NOSCRIPT,ri.NOSCRIPT],[ei.OBJECT,ri.OBJECT],[ei.OL,ri.OL],[ei.OPTGROUP,ri.OPTGROUP],[ei.OPTION,ri.OPTION],[ei.P,ri.P],[ei.PARAM,ri.PARAM],[ei.PLAINTEXT,ri.PLAINTEXT],[ei.PRE,ri.PRE],[ei.RB,ri.RB],[ei.RP,ri.RP],[ei.RT,ri.RT],[ei.RTC,ri.RTC],[ei.RUBY,ri.RUBY],[ei.S,ri.S],[ei.SCRIPT,ri.SCRIPT],[ei.SEARCH,ri.SEARCH],[ei.SECTION,ri.SECTION],[ei.SELECT,ri.SELECT],[ei.SOURCE,ri.SOURCE],[ei.SMALL,ri.SMALL],[ei.SPAN,ri.SPAN],[ei.STRIKE,ri.STRIKE],[ei.STRONG,ri.STRONG],[ei.STYLE,ri.STYLE],[ei.SUB,ri.SUB],[ei.SUMMARY,ri.SUMMARY],[ei.SUP,ri.SUP],[ei.TABLE,ri.TABLE],[ei.TBODY,ri.TBODY],[ei.TEMPLATE,ri.TEMPLATE],[ei.TEXTAREA,ri.TEXTAREA],[ei.TFOOT,ri.TFOOT],[ei.TD,ri.TD],[ei.TH,ri.TH],[ei.THEAD,ri.THEAD],[ei.TITLE,ri.TITLE],[ei.TR,ri.TR],[ei.TRACK,ri.TRACK],[ei.TT,ri.TT],[ei.U,ri.U],[ei.UL,ri.UL],[ei.SVG,ri.SVG],[ei.VAR,ri.VAR],[ei.WBR,ri.WBR],[ei.XMP,ri.XMP]]);function ii(t){var e;return null!==(e=oi.get(t))&&void 0!==e?e:ri.UNKNOWN}const ai=ri,si={[Qo.HTML]:new Set([ai.ADDRESS,ai.APPLET,ai.AREA,ai.ARTICLE,ai.ASIDE,ai.BASE,ai.BASEFONT,ai.BGSOUND,ai.BLOCKQUOTE,ai.BODY,ai.BR,ai.BUTTON,ai.CAPTION,ai.CENTER,ai.COL,ai.COLGROUP,ai.DD,ai.DETAILS,ai.DIR,ai.DIV,ai.DL,ai.DT,ai.EMBED,ai.FIELDSET,ai.FIGCAPTION,ai.FIGURE,ai.FOOTER,ai.FORM,ai.FRAME,ai.FRAMESET,ai.H1,ai.H2,ai.H3,ai.H4,ai.H5,ai.H6,ai.HEAD,ai.HEADER,ai.HGROUP,ai.HR,ai.HTML,ai.IFRAME,ai.IMG,ai.INPUT,ai.LI,ai.LINK,ai.LISTING,ai.MAIN,ai.MARQUEE,ai.MENU,ai.META,ai.NAV,ai.NOEMBED,ai.NOFRAMES,ai.NOSCRIPT,ai.OBJECT,ai.OL,ai.P,ai.PARAM,ai.PLAINTEXT,ai.PRE,ai.SCRIPT,ai.SECTION,ai.SELECT,ai.SOURCE,ai.STYLE,ai.SUMMARY,ai.TABLE,ai.TBODY,ai.TD,ai.TEMPLATE,ai.TEXTAREA,ai.TFOOT,ai.TH,ai.THEAD,ai.TITLE,ai.TR,ai.TRACK,ai.UL,ai.WBR,ai.XMP]),[Qo.MATHML]:new Set([ai.MI,ai.MO,ai.MN,ai.MS,ai.MTEXT,ai.ANNOTATION_XML]),[Qo.SVG]:new Set([ai.TITLE,ai.FOREIGN_OBJECT,ai.DESC]),[Qo.XLINK]:new Set,[Qo.XML]:new Set,[Qo.XMLNS]:new Set},ci=new Set([ai.H1,ai.H2,ai.H3,ai.H4,ai.H5,ai.H6]),ui=new Set([ei.STYLE,ei.SCRIPT,ei.XMP,ei.IFRAME,ei.NOEMBED,ei.NOFRAMES,ei.PLAINTEXT]);var li;!function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(li||(li={}));const hi={DATA:li.DATA,RCDATA:li.RCDATA,RAWTEXT:li.RAWTEXT,SCRIPT_DATA:li.SCRIPT_DATA,PLAINTEXT:li.PLAINTEXT,CDATA_SECTION:li.CDATA_SECTION};function fi(t){return t>=Mo.LATIN_CAPITAL_A&&t<=Mo.LATIN_CAPITAL_Z}function pi(t){return function(t){return t>=Mo.LATIN_SMALL_A&&t<=Mo.LATIN_SMALL_Z}(t)||fi(t)}function di(t){return pi(t)||function(t){return t>=Mo.DIGIT_0&&t<=Mo.DIGIT_9}(t)}function yi(t){return t+32}function vi(t){return t===Mo.SPACE||t===Mo.LINE_FEED||t===Mo.TABULATION||t===Mo.FORM_FEED}function mi(t){return vi(t)||t===Mo.SOLIDUS||t===Mo.GREATER_THAN_SIGN}class gi{constructor(t,e){this.options=t,this.handler=e,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=li.DATA,this.returnState=li.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new $o(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new pt(et,((t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this._flushCodePointConsumedAsCharacterReference(t)}),e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Xo.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:t=>{this._err(Xo.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t)},validateNumericCharacterReference:t=>{const e=function(t){return t===Mo.NULL?Xo.nullCharacterReference:t>1114111?Xo.characterReferenceOutsideUnicodeRange:Yo(t)?Xo.surrogateCharacterReference:zo(t)?Xo.noncharacterCharacterReference:Wo(t)||t===Mo.CARRIAGE_RETURN?Xo.controlCharacterReference:null}(t);e&&this._err(e,1)}}:void 0)}_err(t,e=0){var r,n;null===(n=(r=this.handler).onParseError)||void 0===n||n.call(r,this.preprocessor.getError(t,e))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==t||t())}write(t,e,r){this.active=!0,this.preprocessor.write(t,e),this._runParsingLoop(),this.paused||null==r||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let e=0;e<t;e++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,e){return!!this.preprocessor.startsWith(t,e)&&(this._advanceBy(t.length-1),!0)}_createStartTagToken(){this.currentToken={type:Jo.START_TAG,tagName:"",tagID:ri.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Jo.END_TAG,tagName:"",tagID:ri.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Jo.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Jo.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,e;const r=this.currentToken;if(null===ni(r,this.currentAttr.name)){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){(null!==(t=(e=r.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Xo.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ii(t.tagName),t.type===Jo.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Xo.endTagWithAttributes),t.selfClosing&&this._err(Xo.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Jo.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Jo.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Jo.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Jo.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t)return void(this.currentCharacterToken.chars+=e);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(t,e)}_emitCodePoint(t){const e=vi(t)?Jo.WHITESPACE_CHARACTER:t===Mo.NULL?Jo.NULL_CHARACTER:Jo.CHARACTER;this._appendCharToCurrentCharacterToken(e,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Jo.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=li.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?lt.Attribute:lt.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===li.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===li.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===li.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case li.DATA:this._stateData(t);break;case li.RCDATA:this._stateRcdata(t);break;case li.RAWTEXT:this._stateRawtext(t);break;case li.SCRIPT_DATA:this._stateScriptData(t);break;case li.PLAINTEXT:this._statePlaintext(t);break;case li.TAG_OPEN:this._stateTagOpen(t);break;case li.END_TAG_OPEN:this._stateEndTagOpen(t);break;case li.TAG_NAME:this._stateTagName(t);break;case li.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(t);break;case li.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(t);break;case li.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(t);break;case li.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(t);break;case li.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(t);break;case li.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(t);break;case li.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(t);break;case li.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(t);break;case li.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(t);break;case li.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(t);break;case li.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(t);break;case li.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(t);break;case li.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(t);break;case li.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(t);break;case li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(t);break;case li.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(t);break;case li.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(t);break;case li.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(t);break;case li.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(t);break;case li.ATTRIBUTE_NAME:this._stateAttributeName(t);break;case li.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(t);break;case li.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(t);break;case li.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(t);break;case li.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(t);break;case li.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(t);break;case li.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(t);break;case li.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(t);break;case li.BOGUS_COMMENT:this._stateBogusComment(t);break;case li.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(t);break;case li.COMMENT_START:this._stateCommentStart(t);break;case li.COMMENT_START_DASH:this._stateCommentStartDash(t);break;case li.COMMENT:this._stateComment(t);break;case li.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(t);break;case li.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(t);break;case li.COMMENT_END_DASH:this._stateCommentEndDash(t);break;case li.COMMENT_END:this._stateCommentEnd(t);break;case li.COMMENT_END_BANG:this._stateCommentEndBang(t);break;case li.DOCTYPE:this._stateDoctype(t);break;case li.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(t);break;case li.DOCTYPE_NAME:this._stateDoctypeName(t);break;case li.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(t);break;case li.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(t);break;case li.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(t);break;case li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(t);break;case li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(t);break;case li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(t);break;case li.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break;case li.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(t);break;case li.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(t);break;case li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(t);break;case li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(t);break;case li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(t);break;case li.BOGUS_DOCTYPE:this._stateBogusDoctype(t);break;case li.CDATA_SECTION:this._stateCdataSection(t);break;case li.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(t);break;case li.CDATA_SECTION_END:this._stateCdataSectionEnd(t);break;case li.CHARACTER_REFERENCE:this._stateCharacterReference();break;case li.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(t);break;default:throw Error("Unknown state")}}_stateData(t){switch(t){case Mo.LESS_THAN_SIGN:this.state=li.TAG_OPEN;break;case Mo.AMPERSAND:this._startCharacterReference();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitCodePoint(t);break;case Mo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case Mo.AMPERSAND:this._startCharacterReference();break;case Mo.LESS_THAN_SIGN:this.state=li.RCDATA_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case Mo.LESS_THAN_SIGN:this.state=li.RAWTEXT_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateTagOpen(t){if(pi(t))this._createStartTagToken(),this.state=li.TAG_NAME,this._stateTagName(t);else switch(t){case Mo.EXCLAMATION_MARK:this.state=li.MARKUP_DECLARATION_OPEN;break;case Mo.SOLIDUS:this.state=li.END_TAG_OPEN;break;case Mo.QUESTION_MARK:this._err(Xo.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t);break;case Mo.EOF:this._err(Xo.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(Xo.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=li.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(pi(t))this._createEndTagToken(),this.state=li.TAG_NAME,this._stateTagName(t);else switch(t){case Mo.GREATER_THAN_SIGN:this._err(Xo.missingEndTagName),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(Xo.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Mo.SOLIDUS:this.state=li.SELF_CLOSING_START_TAG;break;case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentTagToken();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.tagName+=Bo;break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:e.tagName+=String.fromCodePoint(fi(t)?yi(t):t)}}_stateRcdataLessThanSign(t){t===Mo.SOLIDUS?this.state=li.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=li.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){pi(t)?(this.state=li.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=li.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=li.BEFORE_ATTRIBUTE_NAME,!1;case Mo.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=li.SELF_CLOSING_START_TAG,!1;case Mo.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=li.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===Mo.SOLIDUS?this.state=li.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){pi(t)?(this.state=li.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case Mo.SOLIDUS:this.state=li.SCRIPT_DATA_END_TAG_OPEN;break;case Mo.EXCLAMATION_MARK:this.state=li.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=li.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){pi(t)?(this.state=li.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===Mo.HYPHEN_MINUS?(this.state=li.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===Mo.HYPHEN_MINUS?(this.state=li.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=li.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case Mo.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case Mo.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_ESCAPED,this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case Mo.HYPHEN_MINUS:this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Mo.GREATER_THAN_SIGN:this.state=li.SCRIPT_DATA,this._emitChars(">");break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_ESCAPED,this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===Mo.SOLIDUS?this.state=li.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:pi(t)?(this._emitChars("<"),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){pi(t)?(this.state=li.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(qo,!1)&&mi(this.preprocessor.peek(qo.length))){this._emitCodePoint(t);for(let t=0;t<qo.length;t++)this._emitCodePoint(this._consume());this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=li.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case Mo.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case Mo.HYPHEN_MINUS:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case Mo.HYPHEN_MINUS:this._emitChars("-");break;case Mo.LESS_THAN_SIGN:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Mo.GREATER_THAN_SIGN:this.state=li.SCRIPT_DATA,this._emitChars(">");break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Bo);break;case Mo.EOF:this._err(Xo.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===Mo.SOLIDUS?(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(qo,!1)&&mi(this.preprocessor.peek(qo.length))){this._emitCodePoint(t);for(let t=0;t<qo.length;t++)this._emitCodePoint(this._consume());this.state=li.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=li.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.SOLIDUS:case Mo.GREATER_THAN_SIGN:case Mo.EOF:this.state=li.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case Mo.EQUALS_SIGN:this._err(Xo.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=li.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=li.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:case Mo.SOLIDUS:case Mo.GREATER_THAN_SIGN:case Mo.EOF:this._leaveAttrName(),this.state=li.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case Mo.EQUALS_SIGN:this._leaveAttrName(),this.state=li.BEFORE_ATTRIBUTE_VALUE;break;case Mo.QUOTATION_MARK:case Mo.APOSTROPHE:case Mo.LESS_THAN_SIGN:this._err(Xo.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.currentAttr.name+=Bo;break;default:this.currentAttr.name+=String.fromCodePoint(fi(t)?yi(t):t)}}_stateAfterAttributeName(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.SOLIDUS:this.state=li.SELF_CLOSING_START_TAG;break;case Mo.EQUALS_SIGN:this.state=li.BEFORE_ATTRIBUTE_VALUE;break;case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentTagToken();break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=li.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.QUOTATION_MARK:this.state=li.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:this.state=li.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.missingAttributeValue),this.state=li.DATA,this.emitCurrentTagToken();break;default:this.state=li.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case Mo.QUOTATION_MARK:this.state=li.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Mo.AMPERSAND:this._startCharacterReference();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case Mo.APOSTROPHE:this.state=li.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Mo.AMPERSAND:this._startCharacterReference();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this._leaveAttrValue(),this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Mo.AMPERSAND:this._startCharacterReference();break;case Mo.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=li.DATA,this.emitCurrentTagToken();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this.currentAttr.value+=Bo;break;case Mo.QUOTATION_MARK:case Mo.APOSTROPHE:case Mo.LESS_THAN_SIGN:case Mo.EQUALS_SIGN:case Mo.GRAVE_ACCENT:this._err(Xo.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this._leaveAttrValue(),this.state=li.BEFORE_ATTRIBUTE_NAME;break;case Mo.SOLIDUS:this._leaveAttrValue(),this.state=li.SELF_CLOSING_START_TAG;break;case Mo.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=li.DATA,this.emitCurrentTagToken();break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this._err(Xo.missingWhitespaceBetweenAttributes),this.state=li.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case Mo.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=li.DATA,this.emitCurrentTagToken();break;case Mo.EOF:this._err(Xo.eofInTag),this._emitEOFToken();break;default:this._err(Xo.unexpectedSolidusInTag),this.state=li.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const e=this.currentToken;switch(t){case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentComment(e);break;case Mo.EOF:this.emitCurrentComment(e),this._emitEOFToken();break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.data+=Bo;break;default:e.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Go,!0)?(this._createCommentToken(Go.length+1),this.state=li.COMMENT_START):this._consumeSequenceIfMatch(Ho,!1)?(this.currentLocation=this.getCurrentLocation(Ho.length+1),this.state=li.DOCTYPE):this._consumeSequenceIfMatch(Uo,!0)?this.inForeignNode?this.state=li.CDATA_SECTION:(this._err(Xo.cdataInHtmlContent),this._createCommentToken(Uo.length+1),this.currentToken.data="[CDATA[",this.state=li.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Xo.incorrectlyOpenedComment),this._createCommentToken(2),this.state=li.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case Mo.HYPHEN_MINUS:this.state=li.COMMENT_START_DASH;break;case Mo.GREATER_THAN_SIGN:{this._err(Xo.abruptClosingOfEmptyComment),this.state=li.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=li.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const e=this.currentToken;switch(t){case Mo.HYPHEN_MINUS:this.state=li.COMMENT_END;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.abruptClosingOfEmptyComment),this.state=li.DATA,this.emitCurrentComment(e);break;case Mo.EOF:this._err(Xo.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=li.COMMENT,this._stateComment(t)}}_stateComment(t){const e=this.currentToken;switch(t){case Mo.HYPHEN_MINUS:this.state=li.COMMENT_END_DASH;break;case Mo.LESS_THAN_SIGN:e.data+="<",this.state=li.COMMENT_LESS_THAN_SIGN;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.data+=Bo;break;case Mo.EOF:this._err(Xo.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const e=this.currentToken;switch(t){case Mo.EXCLAMATION_MARK:e.data+="!",this.state=li.COMMENT_LESS_THAN_SIGN_BANG;break;case Mo.LESS_THAN_SIGN:e.data+="<";break;default:this.state=li.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===Mo.HYPHEN_MINUS?this.state=li.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=li.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===Mo.HYPHEN_MINUS?this.state=li.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=li.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==Mo.GREATER_THAN_SIGN&&t!==Mo.EOF&&this._err(Xo.nestedComment),this.state=li.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const e=this.currentToken;switch(t){case Mo.HYPHEN_MINUS:this.state=li.COMMENT_END;break;case Mo.EOF:this._err(Xo.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=li.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const e=this.currentToken;switch(t){case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentComment(e);break;case Mo.EXCLAMATION_MARK:this.state=li.COMMENT_END_BANG;break;case Mo.HYPHEN_MINUS:e.data+="-";break;case Mo.EOF:this._err(Xo.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--",this.state=li.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const e=this.currentToken;switch(t){case Mo.HYPHEN_MINUS:e.data+="--!",this.state=li.COMMENT_END_DASH;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.incorrectlyClosedComment),this.state=li.DATA,this.emitCurrentComment(e);break;case Mo.EOF:this._err(Xo.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--!",this.state=li.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.BEFORE_DOCTYPE_NAME;break;case Mo.GREATER_THAN_SIGN:this.state=li.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break;case Mo.EOF:{this._err(Xo.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(Xo.missingWhitespaceBeforeDoctypeName),this.state=li.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(fi(t))this._createDoctypeToken(String.fromCharCode(yi(t))),this.state=li.DOCTYPE_NAME;else switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),this._createDoctypeToken(Bo),this.state=li.DOCTYPE_NAME;break;case Mo.GREATER_THAN_SIGN:{this._err(Xo.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=li.DATA;break}case Mo.EOF:{this._err(Xo.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=li.DOCTYPE_NAME}}_stateDoctypeName(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.AFTER_DOCTYPE_NAME;break;case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.name+=Bo;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.name+=String.fromCodePoint(fi(t)?yi(t):t)}}_stateAfterDoctypeName(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Vo,!1)?this.state=li.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ko,!1)?this.state=li.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Xo.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mo.QUOTATION_MARK:this._err(Xo.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:this._err(Xo.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.QUOTATION_MARK:e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:e.publicId="",this.state=li.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const e=this.currentToken;switch(t){case Mo.QUOTATION_MARK:this.state=li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.publicId+=Bo;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const e=this.currentToken;switch(t){case Mo.APOSTROPHE:this.state=li.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.publicId+=Bo;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Mo.GREATER_THAN_SIGN:this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.QUOTATION_MARK:this._err(Xo.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:this._err(Xo.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.QUOTATION_MARK:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:this.state=li.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mo.QUOTATION_MARK:this._err(Xo.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:this._err(Xo.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.QUOTATION_MARK:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Mo.APOSTROPHE:e.systemId="",this.state=li.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.DATA,this.emitCurrentDoctype(e);break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const e=this.currentToken;switch(t){case Mo.QUOTATION_MARK:this.state=li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.systemId+=Bo;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const e=this.currentToken;switch(t){case Mo.APOSTROPHE:this.state=li.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter),e.systemId+=Bo;break;case Mo.GREATER_THAN_SIGN:this._err(Xo.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const e=this.currentToken;switch(t){case Mo.SPACE:case Mo.LINE_FEED:case Mo.TABULATION:case Mo.FORM_FEED:break;case Mo.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.EOF:this._err(Xo.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(Xo.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=li.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const e=this.currentToken;switch(t){case Mo.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=li.DATA;break;case Mo.NULL:this._err(Xo.unexpectedNullCharacter);break;case Mo.EOF:this.emitCurrentDoctype(e),this._emitEOFToken()}}_stateCdataSection(t){switch(t){case Mo.RIGHT_SQUARE_BRACKET:this.state=li.CDATA_SECTION_BRACKET;break;case Mo.EOF:this._err(Xo.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===Mo.RIGHT_SQUARE_BRACKET?this.state=li.CDATA_SECTION_END:(this._emitChars("]"),this.state=li.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case Mo.GREATER_THAN_SIGN:this.state=li.DATA;break;case Mo.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=li.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);t=this.entityDecoder.end()}0===t?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Mo.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&di(this.preprocessor.peek(1))?li.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){di(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===Mo.SEMICOLON&&this._err(Xo.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const bi=new Set([ri.DD,ri.DT,ri.LI,ri.OPTGROUP,ri.OPTION,ri.P,ri.RB,ri.RP,ri.RT,ri.RTC]),wi=new Set([...bi,ri.CAPTION,ri.COLGROUP,ri.TBODY,ri.TD,ri.TFOOT,ri.TH,ri.THEAD,ri.TR]),Ei=new Set([ri.APPLET,ri.CAPTION,ri.HTML,ri.MARQUEE,ri.OBJECT,ri.TABLE,ri.TD,ri.TEMPLATE,ri.TH]),xi=new Set([...Ei,ri.OL,ri.UL]),Si=new Set([...Ei,ri.BUTTON]),_i=new Set([ri.ANNOTATION_XML,ri.MI,ri.MN,ri.MO,ri.MS,ri.MTEXT]),Ai=new Set([ri.DESC,ri.FOREIGN_OBJECT,ri.TITLE]),Ti=new Set([ri.TR,ri.TEMPLATE,ri.HTML]),Li=new Set([ri.TBODY,ri.TFOOT,ri.THEAD,ri.TEMPLATE,ri.HTML]),ki=new Set([ri.TABLE,ri.TEMPLATE,ri.HTML]),Ii=new Set([ri.TD,ri.TH]);class Oi{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,e,r){this.treeAdapter=e,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ri.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===ri.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Qo.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,e){const r=this._indexOf(t);this.items[r]=e,r===this.stackTop&&(this.current=e)}insertAfter(t,e,r){const n=this._indexOf(t)+1;this.items.splice(n,0,e),this.tagIDs.splice(n,0,r),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(t){let e=this.stackTop+1;do{e=this.tagIDs.lastIndexOf(t,e-1)}while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==Qo.HTML);this.shortenToLength(e<0?0:e)}shortenToLength(t){for(;this.stackTop>=t;){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t)}}popUntilElementPopped(t){const e=this._indexOf(t);this.shortenToLength(e<0?0:e)}popUntilPopped(t,e){const r=this._indexOfTagNames(t,e);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ci,Qo.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ii,Qo.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,e){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===e)return r;return-1}clearBackTo(t,e){const r=this._indexOfTagNames(t,e);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(ki,Qo.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Li,Qo.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ti,Qo.HTML)}remove(t){const e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ri.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const e=this._indexOf(t)-1;return e>=0?this.items[e]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ri.HTML}hasInDynamicScope(t,e){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Qo.HTML:if(n===t)return!0;if(e.has(n))return!1;break;case Qo.SVG:if(Ai.has(n))return!1;break;case Qo.MATHML:if(_i.has(n))return!1}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Ei)}hasInListItemScope(t){return this.hasInDynamicScope(t,xi)}hasInButtonScope(t){return this.hasInDynamicScope(t,Si)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Qo.HTML:if(ci.has(e))return!0;if(Ei.has(e))return!1;break;case Qo.SVG:if(Ai.has(e))return!1;break;case Qo.MATHML:if(_i.has(e))return!1}}return!0}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Qo.HTML)switch(this.tagIDs[e]){case t:return!0;case ri.TABLE:case ri.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Qo.HTML)switch(this.tagIDs[t]){case ri.TBODY:case ri.THEAD:case ri.TFOOT:return!0;case ri.TABLE:case ri.HTML:return!1}return!0}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Qo.HTML)switch(this.tagIDs[e]){case t:return!0;case ri.OPTION:case ri.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;bi.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;wi.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&wi.has(this.currentTagId);)this.pop()}}var Ni;!function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"}(Ni||(Ni={}));const Pi={type:Ni.Marker};class Ci{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,e){const r=[],n=e.length,o=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t);for(let t=0;t<this.entries.length;t++){const e=this.entries[t];if(e.type===Ni.Marker)break;const{element:a}=e;if(this.treeAdapter.getTagName(a)===o&&this.treeAdapter.getNamespaceURI(a)===i){const e=this.treeAdapter.getAttrList(a);e.length===n&&r.push({idx:t,attrs:e})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<3)return;const e=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,e);if(r.length<3)return;const n=new Map(e.map((t=>[t.name,t.value])));let o=0;for(let t=0;t<r.length;t++){const e=r[t];e.attrs.every((t=>n.get(t.name)===t.value))&&(o+=1,o>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(Pi)}pushElement(t,e){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ni.Element,element:t,token:e})}insertElementAfterBookmark(t,e){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ni.Element,element:t,token:e})}removeEntry(t){const e=this.entries.indexOf(t);e>=0&&this.entries.splice(e,1)}clearToLastMarker(){const t=this.entries.indexOf(Pi);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const e=this.entries.find((e=>e.type===Ni.Marker||this.treeAdapter.getTagName(e.element)===t));return e&&e.type===Ni.Element?e:null}getElementEntry(t){return this.entries.find((e=>e.type===Ni.Element&&e.element===t))}}const Di={createDocument:()=>({nodeName:"#document",mode:ti.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(t,e,r)=>({nodeName:t,tagName:t,attrs:r,namespaceURI:e,childNodes:[],parentNode:null}),createCommentNode:t=>({nodeName:"#comment",data:t,parentNode:null}),createTextNode:t=>({nodeName:"#text",value:t,parentNode:null}),appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,r){const n=t.childNodes.indexOf(r);t.childNodes.splice(n,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent:t=>t.content,setDocumentType(t,e,r,n){const o=t.childNodes.find((t=>"#documentType"===t.nodeName));if(o)o.name=e,o.publicId=r,o.systemId=n;else{const o={nodeName:"#documentType",name:e,publicId:r,systemId:n,parentNode:null};Di.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode:t=>t.mode,detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const r=t.childNodes[t.childNodes.length-1];if(Di.isTextNode(r))return void(r.value+=e)}Di.appendChild(t,Di.createTextNode(e))},insertTextBefore(t,e,r){const n=t.childNodes[t.childNodes.indexOf(r)-1];n&&Di.isTextNode(n)?n.value+=e:Di.insertBefore(t,Di.createTextNode(e),r)},adoptAttributes(t,e){const r=new Set(t.attrs.map((t=>t.name)));for(let n=0;n<e.length;n++)r.has(e[n].name)||t.attrs.push(e[n])},getFirstChild:t=>t.childNodes[0],getChildNodes:t=>t.childNodes,getParentNode:t=>t.parentNode,getAttrList:t=>t.attrs,getTagName:t=>t.tagName,getNamespaceURI:t=>t.namespaceURI,getTextNodeContent:t=>t.value,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName:t=>t.name,getDocumentTypeNodePublicId:t=>t.publicId,getDocumentTypeNodeSystemId:t=>t.systemId,isTextNode:t=>"#text"===t.nodeName,isCommentNode:t=>"#comment"===t.nodeName,isDocumentTypeNode:t=>"#documentType"===t.nodeName,isElementNode:t=>Object.prototype.hasOwnProperty.call(t,"tagName"),setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},Ri="html",Fi=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ji=[...Fi,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Bi=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Mi=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Gi=[...Mi,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ui(t,e){return e.some((e=>t.startsWith(e)))}const Hi="text/html",qi="application/xhtml+xml",Vi=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((t=>[t.toLowerCase(),t]))),Ki=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Qo.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Qo.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Qo.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Qo.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Qo.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Qo.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Qo.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Qo.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Qo.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Qo.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Qo.XMLNS}]]),Yi=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((t=>[t.toLowerCase(),t]))),Wi=new Set([ri.B,ri.BIG,ri.BLOCKQUOTE,ri.BODY,ri.BR,ri.CENTER,ri.CODE,ri.DD,ri.DIV,ri.DL,ri.DT,ri.EM,ri.EMBED,ri.H1,ri.H2,ri.H3,ri.H4,ri.H5,ri.H6,ri.HEAD,ri.HR,ri.I,ri.IMG,ri.LI,ri.LISTING,ri.MENU,ri.META,ri.NOBR,ri.OL,ri.P,ri.PRE,ri.RUBY,ri.S,ri.SMALL,ri.SPAN,ri.STRONG,ri.STRIKE,ri.SUB,ri.SUP,ri.TABLE,ri.TT,ri.U,ri.UL,ri.VAR]);function zi(t){for(let e=0;e<t.attrs.length;e++)if("definitionurl"===t.attrs[e].name){t.attrs[e].name="definitionURL";break}}function Xi(t){for(let e=0;e<t.attrs.length;e++){const r=Vi.get(t.attrs[e].name);null!=r&&(t.attrs[e].name=r)}}function $i(t){for(let e=0;e<t.attrs.length;e++){const r=Ki.get(t.attrs[e].name);r&&(t.attrs[e].prefix=r.prefix,t.attrs[e].name=r.name,t.attrs[e].namespace=r.namespace)}}function Ji(t,e,r,n){return(!n||n===Qo.HTML)&&function(t,e,r){if(e===Qo.MATHML&&t===ri.ANNOTATION_XML)for(let t=0;t<r.length;t++)if(r[t].name===Zo.ENCODING){const e=r[t].value.toLowerCase();return e===Hi||e===qi}return e===Qo.SVG&&(t===ri.FOREIGN_OBJECT||t===ri.DESC||t===ri.TITLE)}(t,e,r)||(!n||n===Qo.MATHML)&&function(t,e){return e===Qo.MATHML&&(t===ri.MI||t===ri.MO||t===ri.MN||t===ri.MS||t===ri.MTEXT)}(t,e)}var Qi;!function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(Qi||(Qi={}));const Zi={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ta=new Set([ri.TABLE,ri.TBODY,ri.TFOOT,ri.THEAD,ri.TR]),ea={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Di,onParseError:null};class ra{constructor(t,e,r=null,n=null){this.fragmentContext=r,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=Qi.INITIAL,this.originalInsertionMode=Qi.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...ea,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=e?e:this.treeAdapter.createDocument(),this.tokenizer=new gi(this.options,this),this.activeFormattingElements=new Ci(this.treeAdapter),this.fragmentContextID=r?ii(this.treeAdapter.getTagName(r)):ri.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new Oi(this.document,this.treeAdapter,this)}static parse(t,e){const r=new this(e);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,e){const r={...ea,...e};null!=t||(t=r.treeAdapter.createElement(ei.TEMPLATE,Qo.HTML,[]));const n=r.treeAdapter.createElement("documentmock",Qo.HTML,[]),o=new this(r,n,t);return o.fragmentContextID===ri.TEMPLATE&&o.tmplInsertionModeStack.unshift(Qi.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),e=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,e),e}_err(t,e,r){var n;if(!this.onParseError)return;const o=null!==(n=t.location)&&void 0!==n?n:Zi,i={code:e,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(i)}onItemPush(t,e,r){var n,o;null===(o=(n=this.treeAdapter).onItemPush)||void 0===o||o.call(n,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,e)}onItemPop(t,e){var r,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),null===(n=(r=this.treeAdapter).onItemPop)||void 0===n||n.call(r,t,this.openElements.current),e){let t,e;0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,e=this.fragmentContextID):({current:t,currentTagId:e}=this.openElements),this._setContextModes(t,e)}}_setContextModes(t,e){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Qo.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(e,t)}_switchToTextParsing(t,e){this._insertElement(t,Qo.HTML),this.tokenizer.state=e,this.originalInsertionMode=this.insertionMode,this.insertionMode=Qi.TEXT}switchToPlaintextParsing(){this.insertionMode=Qi.TEXT,this.originalInsertionMode=Qi.IN_BODY,this.tokenizer.state=hi.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ei.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Qo.HTML)switch(this.fragmentContextID){case ri.TITLE:case ri.TEXTAREA:this.tokenizer.state=hi.RCDATA;break;case ri.STYLE:case ri.XMP:case ri.IFRAME:case ri.NOEMBED:case ri.NOFRAMES:case ri.NOSCRIPT:this.tokenizer.state=hi.RAWTEXT;break;case ri.SCRIPT:this.tokenizer.state=hi.SCRIPT_DATA;break;case ri.PLAINTEXT:this.tokenizer.state=hi.PLAINTEXT}}_setDocumentType(t){const e=t.name||"",r=t.publicId||"",n=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,e,r,n),t.location){const e=this.treeAdapter.getChildNodes(this.document).find((t=>this.treeAdapter.isDocumentTypeNode(t)));e&&this.treeAdapter.setNodeSourceCodeLocation(e,t.location)}}_attachElementToTree(t,e){if(this.options.sourceCodeLocationInfo){const r=e&&{...e,startTag:e};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const e=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(e,t)}}_appendElement(t,e){const r=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,e){const r=this.treeAdapter.createElement(t.tagName,e,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,e){const r=this.treeAdapter.createElement(t,Qo.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,e)}_insertTemplate(t){const e=this.treeAdapter.createElement(t.tagName,Qo.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(e,r),this._attachElementToTree(e,t.location),this.openElements.push(e,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ei.HTML,Qo.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,ri.HTML)}_appendCommentNode(t,e){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(e,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let e,r;if(this._shouldFosterParentOnInsertion()?(({parent:e,beforeElement:r}=this._findFosterParentingLocation()),r?this.treeAdapter.insertTextBefore(e,t.chars,r):this.treeAdapter.insertText(e,t.chars)):(e=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(e,t.chars)),!t.location)return;const n=this.treeAdapter.getChildNodes(e),o=r?n.lastIndexOf(r):n.length,i=n[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:e,endCol:r,endOffset:n}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:e,endCol:r,endOffset:n})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_adoptNodes(t,e){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(e,r)}_setEndLocation(t,e){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&e.location){const r=e.location,n=this.treeAdapter.getTagName(t),o=e.type===Jo.END_TAG&&n===e.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let e,r;return 0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,r=this.fragmentContextID):({current:e,currentTagId:r}=this.openElements),(t.tagID!==ri.SVG||this.treeAdapter.getTagName(e)!==ei.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(e)!==Qo.MATHML)&&(this.tokenizer.inForeignNode||(t.tagID===ri.MGLYPH||t.tagID===ri.MALIGNMARK)&&!this._isIntegrationPoint(r,e,Qo.HTML))}_processToken(t){switch(t.type){case Jo.CHARACTER:this.onCharacter(t);break;case Jo.NULL_CHARACTER:this.onNullCharacter(t);break;case Jo.COMMENT:this.onComment(t);break;case Jo.DOCTYPE:this.onDoctype(t);break;case Jo.START_TAG:this._processStartTag(t);break;case Jo.END_TAG:this.onEndTag(t);break;case Jo.EOF:this.onEof(t);break;case Jo.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(t)}}_isIntegrationPoint(t,e,r){return Ji(t,this.treeAdapter.getNamespaceURI(e),this.treeAdapter.getAttrList(e),r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const e=this.activeFormattingElements.entries.findIndex((t=>t.type===Ni.Marker||this.openElements.contains(t.element)));for(let r=e<0?t-1:e-1;r>=0;r--){const t=this.activeFormattingElements.entries[r];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Qi.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ri.P),this.openElements.popUntilTagNamePopped(ri.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(0===t&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case ri.TR:return void(this.insertionMode=Qi.IN_ROW);case ri.TBODY:case ri.THEAD:case ri.TFOOT:return void(this.insertionMode=Qi.IN_TABLE_BODY);case ri.CAPTION:return void(this.insertionMode=Qi.IN_CAPTION);case ri.COLGROUP:return void(this.insertionMode=Qi.IN_COLUMN_GROUP);case ri.TABLE:return void(this.insertionMode=Qi.IN_TABLE);case ri.BODY:return void(this.insertionMode=Qi.IN_BODY);case ri.FRAMESET:return void(this.insertionMode=Qi.IN_FRAMESET);case ri.SELECT:return void this._resetInsertionModeForSelect(t);case ri.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case ri.HTML:return void(this.insertionMode=this.headElement?Qi.AFTER_HEAD:Qi.BEFORE_HEAD);case ri.TD:case ri.TH:if(t>0)return void(this.insertionMode=Qi.IN_CELL);break;case ri.HEAD:if(t>0)return void(this.insertionMode=Qi.IN_HEAD)}this.insertionMode=Qi.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let e=t-1;e>0;e--){const t=this.openElements.tagIDs[e];if(t===ri.TEMPLATE)break;if(t===ri.TABLE)return void(this.insertionMode=Qi.IN_SELECT_IN_TABLE)}this.insertionMode=Qi.IN_SELECT}_isElementCausesFosterParenting(t){return ta.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const e=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case ri.TEMPLATE:if(this.treeAdapter.getNamespaceURI(e)===Qo.HTML)return{parent:this.treeAdapter.getTemplateContent(e),beforeElement:null};break;case ri.TABLE:{const r=this.treeAdapter.getParentNode(e);return r?{parent:r,beforeElement:e}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const e=this._findFosterParentingLocation();e.beforeElement?this.treeAdapter.insertBefore(e.parent,t,e.beforeElement):this.treeAdapter.appendChild(e.parent,t)}_isSpecialElement(t,e){const r=this.treeAdapter.getNamespaceURI(t);return si[r].has(e)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(t,e){t._insertCharacters(e),t.framesetOk=!1}(this,t);else switch(this.insertionMode){case Qi.INITIAL:fa(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.IN_BODY:case Qi.IN_CAPTION:case Qi.IN_CELL:case Qi.IN_TEMPLATE:xa(this,t);break;case Qi.TEXT:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:this._insertCharacters(t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_TABLE_TEXT:Fa(this,t);break;case Qi.IN_COLUMN_GROUP:Ga(this,t);break;case Qi.AFTER_BODY:Xa(this,t);break;case Qi.AFTER_AFTER_BODY:$a(this,t)}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(t,e){e.chars=Bo,t._insertCharacters(e)}(this,t);else switch(this.insertionMode){case Qi.INITIAL:fa(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.TEXT:this._insertCharacters(t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_COLUMN_GROUP:Ga(this,t);break;case Qi.AFTER_BODY:Xa(this,t);break;case Qi.AFTER_AFTER_BODY:$a(this,t)}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML)la(this,t);else switch(this.insertionMode){case Qi.INITIAL:case Qi.BEFORE_HTML:case Qi.BEFORE_HEAD:case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:case Qi.IN_BODY:case Qi.IN_TABLE:case Qi.IN_CAPTION:case Qi.IN_COLUMN_GROUP:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:case Qi.IN_CELL:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:case Qi.IN_TEMPLATE:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:la(this,t);break;case Qi.IN_TABLE_TEXT:ja(this,t);break;case Qi.AFTER_BODY:!function(t,e){t._appendCommentNode(e,t.openElements.items[0])}(this,t);break;case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:!function(t,e){t._appendCommentNode(e,t.document)}(this,t)}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Qi.INITIAL:!function(t,e){t._setDocumentType(e);const r=e.forceQuirks?ti.QUIRKS:function(t){if(t.name!==Ri)return ti.QUIRKS;const{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return ti.QUIRKS;let{publicId:r}=t;if(null!==r){if(r=r.toLowerCase(),Bi.has(r))return ti.QUIRKS;let t=null===e?ji:Fi;if(Ui(r,t))return ti.QUIRKS;if(t=null===e?Mi:Gi,Ui(r,t))return ti.LIMITED_QUIRKS}return ti.NO_QUIRKS}(e);(function(t){return t.name===Ri&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId)})(e)||t._err(e,Xo.nonConformingDoctype);t.treeAdapter.setDocumentMode(t.document,r),t.insertionMode=Qi.BEFORE_HTML}(this,t);break;case Qi.BEFORE_HEAD:case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:this._err(t,Xo.misplacedDoctype);break;case Qi.IN_TABLE_TEXT:ja(this,t)}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Xo.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?function(t,e){if(function(t){const e=t.tagID;return e===ri.FONT&&t.attrs.some((({name:t})=>t===Zo.COLOR||t===Zo.SIZE||t===Zo.FACE))||Wi.has(e)}(e))Ja(t),t._startTagOutsideForeignContent(e);else{const r=t._getAdjustedCurrentElement(),n=t.treeAdapter.getNamespaceURI(r);n===Qo.MATHML?zi(e):n===Qo.SVG&&(!function(t){const e=Yi.get(t.tagName);null!=e&&(t.tagName=e,t.tagID=ii(t.tagName))}(e),Xi(e)),$i(e),e.selfClosing?t._appendElement(e,n):t._insertElement(e,n),e.ackSelfClosing=!0}}(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Qi.INITIAL:fa(this,t);break;case Qi.BEFORE_HTML:!function(t,e){e.tagID===ri.HTML?(t._insertElement(e,Qo.HTML),t.insertionMode=Qi.BEFORE_HEAD):pa(t,e)}(this,t);break;case Qi.BEFORE_HEAD:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.HEAD:t._insertElement(e,Qo.HTML),t.headElement=t.openElements.current,t.insertionMode=Qi.IN_HEAD;break;default:da(t,e)}}(this,t);break;case Qi.IN_HEAD:ya(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BASEFONT:case ri.BGSOUND:case ri.HEAD:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.STYLE:ya(t,e);break;case ri.NOSCRIPT:t._err(e,Xo.nestedNoscriptInHead);break;default:ga(t,e)}}(this,t);break;case Qi.AFTER_HEAD:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BODY:t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=Qi.IN_BODY;break;case ri.FRAMESET:t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_FRAMESET;break;case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.SCRIPT:case ri.STYLE:case ri.TEMPLATE:case ri.TITLE:t._err(e,Xo.abandonedHeadElementChild),t.openElements.push(t.headElement,ri.HEAD),ya(t,e),t.openElements.remove(t.headElement);break;case ri.HEAD:t._err(e,Xo.misplacedStartTagForHeadElement);break;default:ba(t,e)}}(this,t);break;case Qi.IN_BODY:La(this,t);break;case Qi.IN_TABLE:Pa(this,t);break;case Qi.IN_TABLE_TEXT:ja(this,t);break;case Qi.IN_CAPTION:!function(t,e){const r=e.tagID;Ba.has(r)?t.openElements.hasInTableScope(ri.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_TABLE,Pa(t,e)):La(t,e)}(this,t);break;case Qi.IN_COLUMN_GROUP:Ma(this,t);break;case Qi.IN_TABLE_BODY:Ua(this,t);break;case Qi.IN_ROW:qa(this,t);break;case Qi.IN_CELL:!function(t,e){const r=e.tagID;Ba.has(r)?(t.openElements.hasInTableScope(ri.TD)||t.openElements.hasInTableScope(ri.TH))&&(t._closeTableCell(),qa(t,e)):La(t,e)}(this,t);break;case Qi.IN_SELECT:Ka(this,t);break;case Qi.IN_SELECT_IN_TABLE:!function(t,e){const r=e.tagID;r===ri.CAPTION||r===ri.TABLE||r===ri.TBODY||r===ri.TFOOT||r===ri.THEAD||r===ri.TR||r===ri.TD||r===ri.TH?(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Ka(t,e)}(this,t);break;case Qi.IN_TEMPLATE:!function(t,e){switch(e.tagID){case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:case ri.NOFRAMES:case ri.SCRIPT:case ri.STYLE:case ri.TEMPLATE:case ri.TITLE:ya(t,e);break;case ri.CAPTION:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.tmplInsertionModeStack[0]=Qi.IN_TABLE,t.insertionMode=Qi.IN_TABLE,Pa(t,e);break;case ri.COL:t.tmplInsertionModeStack[0]=Qi.IN_COLUMN_GROUP,t.insertionMode=Qi.IN_COLUMN_GROUP,Ma(t,e);break;case ri.TR:t.tmplInsertionModeStack[0]=Qi.IN_TABLE_BODY,t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e);break;case ri.TD:case ri.TH:t.tmplInsertionModeStack[0]=Qi.IN_ROW,t.insertionMode=Qi.IN_ROW,qa(t,e);break;default:t.tmplInsertionModeStack[0]=Qi.IN_BODY,t.insertionMode=Qi.IN_BODY,La(t,e)}}(this,t);break;case Qi.AFTER_BODY:!function(t,e){e.tagID===ri.HTML?La(t,e):Xa(t,e)}(this,t);break;case Qi.IN_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.FRAMESET:t._insertElement(e,Qo.HTML);break;case ri.FRAME:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.NOFRAMES:ya(t,e)}}(this,t);break;case Qi.AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.NOFRAMES:ya(t,e)}}(this,t);break;case Qi.AFTER_AFTER_BODY:!function(t,e){e.tagID===ri.HTML?La(t,e):$a(t,e)}(this,t);break;case Qi.AFTER_AFTER_FRAMESET:!function(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.NOFRAMES:ya(t,e)}}(this,t)}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?function(t,e){if(e.tagID===ri.P||e.tagID===ri.BR)return Ja(t),void t._endTagOutsideForeignContent(e);for(let r=t.openElements.stackTop;r>0;r--){const n=t.openElements.items[r];if(t.treeAdapter.getNamespaceURI(n)===Qo.HTML){t._endTagOutsideForeignContent(e);break}const o=t.treeAdapter.getTagName(n);if(o.toLowerCase()===e.tagName){e.tagName=o,t.openElements.shortenToLength(r);break}}}(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Qi.INITIAL:fa(this,t);break;case Qi.BEFORE_HTML:!function(t,e){const r=e.tagID;r!==ri.HTML&&r!==ri.HEAD&&r!==ri.BODY&&r!==ri.BR||pa(t,e)}(this,t);break;case Qi.BEFORE_HEAD:!function(t,e){const r=e.tagID;r===ri.HEAD||r===ri.BODY||r===ri.HTML||r===ri.BR?da(t,e):t._err(e,Xo.endTagWithoutMatchingOpenElement)}(this,t);break;case Qi.IN_HEAD:!function(t,e){switch(e.tagID){case ri.HEAD:t.openElements.pop(),t.insertionMode=Qi.AFTER_HEAD;break;case ri.BODY:case ri.BR:case ri.HTML:ma(t,e);break;case ri.TEMPLATE:va(t,e);break;default:t._err(e,Xo.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:!function(t,e){switch(e.tagID){case ri.NOSCRIPT:t.openElements.pop(),t.insertionMode=Qi.IN_HEAD;break;case ri.BR:ga(t,e);break;default:t._err(e,Xo.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.AFTER_HEAD:!function(t,e){switch(e.tagID){case ri.BODY:case ri.HTML:case ri.BR:ba(t,e);break;case ri.TEMPLATE:va(t,e);break;default:t._err(e,Xo.endTagWithoutMatchingOpenElement)}}(this,t);break;case Qi.IN_BODY:Ia(this,t);break;case Qi.TEXT:!function(t,e){var r;e.tagID===ri.SCRIPT&&(null===(r=t.scriptHandler)||void 0===r||r.call(t,t.openElements.current));t.openElements.pop(),t.insertionMode=t.originalInsertionMode}(this,t);break;case Qi.IN_TABLE:Ca(this,t);break;case Qi.IN_TABLE_TEXT:ja(this,t);break;case Qi.IN_CAPTION:!function(t,e){const r=e.tagID;switch(r){case ri.CAPTION:case ri.TABLE:t.openElements.hasInTableScope(ri.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_TABLE,r===ri.TABLE&&Ca(t,e));break;case ri.BODY:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TBODY:case ri.TD:case ri.TFOOT:case ri.TH:case ri.THEAD:case ri.TR:break;default:Ia(t,e)}}(this,t);break;case Qi.IN_COLUMN_GROUP:!function(t,e){switch(e.tagID){case ri.COLGROUP:t.openElements.currentTagId===ri.COLGROUP&&(t.openElements.pop(),t.insertionMode=Qi.IN_TABLE);break;case ri.TEMPLATE:va(t,e);break;case ri.COL:break;default:Ga(t,e)}}(this,t);break;case Qi.IN_TABLE_BODY:Ha(this,t);break;case Qi.IN_ROW:Va(this,t);break;case Qi.IN_CELL:!function(t,e){const r=e.tagID;switch(r){case ri.TD:case ri.TH:t.openElements.hasInTableScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Qi.IN_ROW);break;case ri.TABLE:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.TR:t.openElements.hasInTableScope(r)&&(t._closeTableCell(),Va(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:break;default:Ia(t,e)}}(this,t);break;case Qi.IN_SELECT:Ya(this,t);break;case Qi.IN_SELECT_IN_TABLE:!function(t,e){const r=e.tagID;r===ri.CAPTION||r===ri.TABLE||r===ri.TBODY||r===ri.TFOOT||r===ri.THEAD||r===ri.TR||r===ri.TD||r===ri.TH?t.openElements.hasInTableScope(r)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Ya(t,e)}(this,t);break;case Qi.IN_TEMPLATE:!function(t,e){e.tagID===ri.TEMPLATE&&va(t,e)}(this,t);break;case Qi.AFTER_BODY:za(this,t);break;case Qi.IN_FRAMESET:!function(t,e){e.tagID!==ri.FRAMESET||t.openElements.isRootHtmlElementCurrent()||(t.openElements.pop(),t.fragmentContext||t.openElements.currentTagId===ri.FRAMESET||(t.insertionMode=Qi.AFTER_FRAMESET))}(this,t);break;case Qi.AFTER_FRAMESET:!function(t,e){e.tagID===ri.HTML&&(t.insertionMode=Qi.AFTER_AFTER_FRAMESET)}(this,t);break;case Qi.AFTER_AFTER_BODY:$a(this,t)}}onEof(t){switch(this.insertionMode){case Qi.INITIAL:fa(this,t);break;case Qi.BEFORE_HTML:pa(this,t);break;case Qi.BEFORE_HEAD:da(this,t);break;case Qi.IN_HEAD:ma(this,t);break;case Qi.IN_HEAD_NO_SCRIPT:ga(this,t);break;case Qi.AFTER_HEAD:ba(this,t);break;case Qi.IN_BODY:case Qi.IN_TABLE:case Qi.IN_CAPTION:case Qi.IN_COLUMN_GROUP:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:case Qi.IN_CELL:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:Oa(this,t);break;case Qi.TEXT:!function(t,e){t._err(e,Xo.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}(this,t);break;case Qi.IN_TABLE_TEXT:ja(this,t);break;case Qi.IN_TEMPLATE:Wa(this,t);break;case Qi.AFTER_BODY:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:ha(this,t)}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===Mo.LINE_FEED)){if(1===t.chars.length)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(t);else switch(this.insertionMode){case Qi.IN_HEAD:case Qi.IN_HEAD_NO_SCRIPT:case Qi.AFTER_HEAD:case Qi.TEXT:case Qi.IN_COLUMN_GROUP:case Qi.IN_SELECT:case Qi.IN_SELECT_IN_TABLE:case Qi.IN_FRAMESET:case Qi.AFTER_FRAMESET:this._insertCharacters(t);break;case Qi.IN_BODY:case Qi.IN_CAPTION:case Qi.IN_CELL:case Qi.IN_TEMPLATE:case Qi.AFTER_BODY:case Qi.AFTER_AFTER_BODY:case Qi.AFTER_AFTER_FRAMESET:Ea(this,t);break;case Qi.IN_TABLE:case Qi.IN_TABLE_BODY:case Qi.IN_ROW:Na(this,t);break;case Qi.IN_TABLE_TEXT:Ra(this,t)}}}function na(t,e){let r=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return r?t.openElements.contains(r.element)?t.openElements.hasInScope(e.tagID)||(r=null):(t.activeFormattingElements.removeEntry(r),r=null):ka(t,e),r}function oa(t,e){let r=null,n=t.openElements.stackTop;for(;n>=0;n--){const o=t.openElements.items[n];if(o===e.element)break;t._isSpecialElement(o,t.openElements.tagIDs[n])&&(r=o)}return r||(t.openElements.shortenToLength(n<0?0:n),t.activeFormattingElements.removeEntry(e)),r}function ia(t,e,r){let n=e,o=t.openElements.getCommonAncestor(e);for(let i=0,a=o;a!==r;i++,a=o){o=t.openElements.getCommonAncestor(a);const r=t.activeFormattingElements.getElementEntry(a),s=r&&i>=3;!r||s?(s&&t.activeFormattingElements.removeEntry(r),t.openElements.remove(a)):(a=aa(t,r),n===e&&(t.activeFormattingElements.bookmark=r),t.treeAdapter.detachNode(n),t.treeAdapter.appendChild(a,n),n=a)}return n}function aa(t,e){const r=t.treeAdapter.getNamespaceURI(e.element),n=t.treeAdapter.createElement(e.token.tagName,r,e.token.attrs);return t.openElements.replace(e.element,n),e.element=n,n}function sa(t,e,r){const n=ii(t.treeAdapter.getTagName(e));if(t._isElementCausesFosterParenting(n))t._fosterParentElement(r);else{const o=t.treeAdapter.getNamespaceURI(e);n===ri.TEMPLATE&&o===Qo.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,r)}}function ca(t,e,r){const n=t.treeAdapter.getNamespaceURI(r.element),{token:o}=r,i=t.treeAdapter.createElement(o.tagName,n,o.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,o),t.activeFormattingElements.removeEntry(r),t.openElements.remove(r.element),t.openElements.insertAfter(e,i,o.tagID)}function ua(t,e){for(let r=0;r<8;r++){const r=na(t,e);if(!r)break;const n=oa(t,r);if(!n)break;t.activeFormattingElements.bookmark=r;const o=ia(t,n,r.element),i=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),i&&sa(t,i,o),ca(t,n,r)}}function la(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function ha(t,e){if(t.stopped=!0,e.location){const r=t.fragmentContext?0:2;for(let n=t.openElements.stackTop;n>=r;n--)t._setEndLocation(t.openElements.items[n],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],n=t.treeAdapter.getNodeSourceCodeLocation(r);if(n&&!n.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const r=t.openElements.items[1],n=t.treeAdapter.getNodeSourceCodeLocation(r);n&&!n.endTag&&t._setEndLocation(r,e)}}}}function fa(t,e){t._err(e,Xo.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,ti.QUIRKS),t.insertionMode=Qi.BEFORE_HTML,t._processToken(e)}function pa(t,e){t._insertFakeRootElement(),t.insertionMode=Qi.BEFORE_HEAD,t._processToken(e)}function da(t,e){t._insertFakeElement(ei.HEAD,ri.HEAD),t.headElement=t.openElements.current,t.insertionMode=Qi.IN_HEAD,t._processToken(e)}function ya(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.BASE:case ri.BASEFONT:case ri.BGSOUND:case ri.LINK:case ri.META:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.TITLE:t._switchToTextParsing(e,hi.RCDATA);break;case ri.NOSCRIPT:t.options.scriptingEnabled?t._switchToTextParsing(e,hi.RAWTEXT):(t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_HEAD_NO_SCRIPT);break;case ri.NOFRAMES:case ri.STYLE:t._switchToTextParsing(e,hi.RAWTEXT);break;case ri.SCRIPT:t._switchToTextParsing(e,hi.SCRIPT_DATA);break;case ri.TEMPLATE:t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Qi.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Qi.IN_TEMPLATE);break;case ri.HEAD:t._err(e,Xo.misplacedStartTagForHeadElement);break;default:ma(t,e)}}function va(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==ri.TEMPLATE&&t._err(e,Xo.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(ri.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Xo.endTagWithoutMatchingOpenElement)}function ma(t,e){t.openElements.pop(),t.insertionMode=Qi.AFTER_HEAD,t._processToken(e)}function ga(t,e){const r=e.type===Jo.EOF?Xo.openElementsLeftAfterEof:Xo.disallowedContentInNoscriptInHead;t._err(e,r),t.openElements.pop(),t.insertionMode=Qi.IN_HEAD,t._processToken(e)}function ba(t,e){t._insertFakeElement(ei.BODY,ri.BODY),t.insertionMode=Qi.IN_BODY,wa(t,e)}function wa(t,e){switch(e.type){case Jo.CHARACTER:xa(t,e);break;case Jo.WHITESPACE_CHARACTER:Ea(t,e);break;case Jo.COMMENT:la(t,e);break;case Jo.START_TAG:La(t,e);break;case Jo.END_TAG:Ia(t,e);break;case Jo.EOF:Oa(t,e)}}function Ea(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function xa(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function Sa(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Qo.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function _a(t){const e=ni(t,Zo.TYPE);return null!=e&&"hidden"===e.toLowerCase()}function Aa(t,e){t._switchToTextParsing(e,hi.RAWTEXT)}function Ta(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML)}function La(t,e){switch(e.tagID){case ri.I:case ri.S:case ri.B:case ri.U:case ri.EM:case ri.TT:case ri.BIG:case ri.CODE:case ri.FONT:case ri.SMALL:case ri.STRIKE:case ri.STRONG:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.A:!function(t,e){const r=t.activeFormattingElements.getElementEntryInScopeWithTagName(ei.A);r&&(ua(t,e),t.openElements.remove(r.element),t.activeFormattingElements.removeEntry(r)),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.H1:case ri.H2:case ri.H3:case ri.H4:case ri.H5:case ri.H6:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),ci.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.P:case ri.DL:case ri.OL:case ri.UL:case ri.DIV:case ri.DIR:case ri.NAV:case ri.MAIN:case ri.MENU:case ri.ASIDE:case ri.CENTER:case ri.FIGURE:case ri.FOOTER:case ri.HEADER:case ri.HGROUP:case ri.DIALOG:case ri.DETAILS:case ri.ADDRESS:case ri.ARTICLE:case ri.SEARCH:case ri.SECTION:case ri.SUMMARY:case ri.FIELDSET:case ri.BLOCKQUOTE:case ri.FIGCAPTION:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.LI:case ri.DD:case ri.DT:!function(t,e){t.framesetOk=!1;const r=e.tagID;for(let e=t.openElements.stackTop;e>=0;e--){const n=t.openElements.tagIDs[e];if(r===ri.LI&&n===ri.LI||(r===ri.DD||r===ri.DT)&&(n===ri.DD||n===ri.DT)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n);break}if(n!==ri.ADDRESS&&n!==ri.DIV&&n!==ri.P&&t._isSpecialElement(t.openElements.items[e],n))break}t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.BR:case ri.IMG:case ri.WBR:case ri.AREA:case ri.EMBED:case ri.KEYGEN:Sa(t,e);break;case ri.HR:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._appendElement(e,Qo.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}(t,e);break;case ri.RB:case ri.RTC:!function(t,e){t.openElements.hasInScope(ri.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.RT:case ri.RP:!function(t,e){t.openElements.hasInScope(ri.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(ri.RTC),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.PRE:case ri.LISTING:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}(t,e);break;case ri.XMP:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,hi.RAWTEXT)}(t,e);break;case ri.SVG:!function(t,e){t._reconstructActiveFormattingElements(),Xi(e),$i(e),e.selfClosing?t._appendElement(e,Qo.SVG):t._insertElement(e,Qo.SVG),e.ackSelfClosing=!0}(t,e);break;case ri.HTML:!function(t,e){0===t.openElements.tmplCount&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}(t,e);break;case ri.BASE:case ri.LINK:case ri.META:case ri.STYLE:case ri.TITLE:case ri.SCRIPT:case ri.BGSOUND:case ri.BASEFONT:case ri.TEMPLATE:ya(t,e);break;case ri.BODY:!function(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&0===t.openElements.tmplCount&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(r,e.attrs))}(t,e);break;case ri.FORM:!function(t,e){const r=t.openElements.tmplCount>0;t.formElement&&!r||(t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),r||(t.formElement=t.openElements.current))}(t,e);break;case ri.NOBR:!function(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(ri.NOBR)&&(ua(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Qo.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}(t,e);break;case ri.MATH:!function(t,e){t._reconstructActiveFormattingElements(),zi(e),$i(e),e.selfClosing?t._appendElement(e,Qo.MATHML):t._insertElement(e,Qo.MATHML),e.ackSelfClosing=!0}(t,e);break;case ri.TABLE:!function(t,e){t.treeAdapter.getDocumentMode(t.document)!==ti.QUIRKS&&t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=Qi.IN_TABLE}(t,e);break;case ri.INPUT:!function(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Qo.HTML),_a(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}(t,e);break;case ri.PARAM:case ri.TRACK:case ri.SOURCE:!function(t,e){t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0}(t,e);break;case ri.IMAGE:!function(t,e){e.tagName=ei.IMG,e.tagID=ri.IMG,Sa(t,e)}(t,e);break;case ri.BUTTON:!function(t,e){t.openElements.hasInScope(ri.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(ri.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.framesetOk=!1}(t,e);break;case ri.APPLET:case ri.OBJECT:case ri.MARQUEE:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}(t,e);break;case ri.IFRAME:!function(t,e){t.framesetOk=!1,t._switchToTextParsing(e,hi.RAWTEXT)}(t,e);break;case ri.SELECT:!function(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Qi.IN_TABLE||t.insertionMode===Qi.IN_CAPTION||t.insertionMode===Qi.IN_TABLE_BODY||t.insertionMode===Qi.IN_ROW||t.insertionMode===Qi.IN_CELL?Qi.IN_SELECT_IN_TABLE:Qi.IN_SELECT}(t,e);break;case ri.OPTION:case ri.OPTGROUP:!function(t,e){t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Qo.HTML)}(t,e);break;case ri.NOEMBED:case ri.NOFRAMES:Aa(t,e);break;case ri.FRAMESET:!function(t,e){const r=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&r&&(t.treeAdapter.detachNode(r),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_FRAMESET)}(t,e);break;case ri.TEXTAREA:!function(t,e){t._insertElement(e,Qo.HTML),t.skipNextNewLine=!0,t.tokenizer.state=hi.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Qi.TEXT}(t,e);break;case ri.NOSCRIPT:t.options.scriptingEnabled?Aa(t,e):Ta(t,e);break;case ri.PLAINTEXT:!function(t,e){t.openElements.hasInButtonScope(ri.P)&&t._closePElement(),t._insertElement(e,Qo.HTML),t.tokenizer.state=hi.PLAINTEXT}(t,e);break;case ri.COL:case ri.TH:case ri.TD:case ri.TR:case ri.HEAD:case ri.FRAME:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.CAPTION:case ri.COLGROUP:break;default:Ta(t,e)}}function ka(t,e){const r=e.tagName,n=e.tagID;for(let e=t.openElements.stackTop;e>0;e--){const o=t.openElements.items[e],i=t.openElements.tagIDs[e];if(n===i&&(n!==ri.UNKNOWN||t.treeAdapter.getTagName(o)===r)){t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.stackTop>=e&&t.openElements.shortenToLength(e);break}if(t._isSpecialElement(o,i))break}}function Ia(t,e){switch(e.tagID){case ri.A:case ri.B:case ri.I:case ri.S:case ri.U:case ri.EM:case ri.TT:case ri.BIG:case ri.CODE:case ri.FONT:case ri.NOBR:case ri.SMALL:case ri.STRIKE:case ri.STRONG:ua(t,e);break;case ri.P:!function(t){t.openElements.hasInButtonScope(ri.P)||t._insertFakeElement(ei.P,ri.P),t._closePElement()}(t);break;case ri.DL:case ri.UL:case ri.OL:case ri.DIR:case ri.DIV:case ri.NAV:case ri.PRE:case ri.MAIN:case ri.MENU:case ri.ASIDE:case ri.BUTTON:case ri.CENTER:case ri.FIGURE:case ri.FOOTER:case ri.HEADER:case ri.HGROUP:case ri.DIALOG:case ri.ADDRESS:case ri.ARTICLE:case ri.DETAILS:case ri.SEARCH:case ri.SECTION:case ri.SUMMARY:case ri.LISTING:case ri.FIELDSET:case ri.BLOCKQUOTE:case ri.FIGCAPTION:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r))}(t,e);break;case ri.LI:!function(t){t.openElements.hasInListItemScope(ri.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(ri.LI),t.openElements.popUntilTagNamePopped(ri.LI))}(t);break;case ri.DD:case ri.DT:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r))}(t,e);break;case ri.H1:case ri.H2:case ri.H3:case ri.H4:case ri.H5:case ri.H6:!function(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}(t);break;case ri.BR:!function(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ei.BR,ri.BR),t.openElements.pop(),t.framesetOk=!1}(t);break;case ri.BODY:!function(t,e){if(t.openElements.hasInScope(ri.BODY)&&(t.insertionMode=Qi.AFTER_BODY,t.options.sourceCodeLocationInfo)){const r=t.openElements.tryPeekProperlyNestedBodyElement();r&&t._setEndLocation(r,e)}}(t,e);break;case ri.HTML:!function(t,e){t.openElements.hasInScope(ri.BODY)&&(t.insertionMode=Qi.AFTER_BODY,za(t,e))}(t,e);break;case ri.FORM:!function(t){const e=t.openElements.tmplCount>0,{formElement:r}=t;e||(t.formElement=null),(r||e)&&t.openElements.hasInScope(ri.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(ri.FORM):r&&t.openElements.remove(r))}(t);break;case ri.APPLET:case ri.OBJECT:case ri.MARQUEE:!function(t,e){const r=e.tagID;t.openElements.hasInScope(r)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(r),t.activeFormattingElements.clearToLastMarker())}(t,e);break;case ri.TEMPLATE:va(t,e);break;default:ka(t,e)}}function Oa(t,e){t.tmplInsertionModeStack.length>0?Wa(t,e):ha(t,e)}function Na(t,e){if(ta.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Qi.IN_TABLE_TEXT,e.type){case Jo.CHARACTER:Fa(t,e);break;case Jo.WHITESPACE_CHARACTER:Ra(t,e)}else Da(t,e)}function Pa(t,e){switch(e.tagID){case ri.TD:case ri.TH:case ri.TR:!function(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ei.TBODY,ri.TBODY),t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e)}(t,e);break;case ri.STYLE:case ri.SCRIPT:case ri.TEMPLATE:ya(t,e);break;case ri.COL:!function(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ei.COLGROUP,ri.COLGROUP),t.insertionMode=Qi.IN_COLUMN_GROUP,Ma(t,e)}(t,e);break;case ri.FORM:!function(t,e){t.formElement||0!==t.openElements.tmplCount||(t._insertElement(e,Qo.HTML),t.formElement=t.openElements.current,t.openElements.pop())}(t,e);break;case ri.TABLE:!function(t,e){t.openElements.hasInTableScope(ri.TABLE)&&(t.openElements.popUntilTagNamePopped(ri.TABLE),t._resetInsertionMode(),t._processStartTag(e))}(t,e);break;case ri.TBODY:case ri.TFOOT:case ri.THEAD:!function(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_TABLE_BODY}(t,e);break;case ri.INPUT:!function(t,e){_a(e)?t._appendElement(e,Qo.HTML):Da(t,e),e.ackSelfClosing=!0}(t,e);break;case ri.CAPTION:!function(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_CAPTION}(t,e);break;case ri.COLGROUP:!function(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_COLUMN_GROUP}(t,e);break;default:Da(t,e)}}function Ca(t,e){switch(e.tagID){case ri.TABLE:t.openElements.hasInTableScope(ri.TABLE)&&(t.openElements.popUntilTagNamePopped(ri.TABLE),t._resetInsertionMode());break;case ri.TEMPLATE:va(t,e);break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TBODY:case ri.TD:case ri.TFOOT:case ri.TH:case ri.THEAD:case ri.TR:break;default:Da(t,e)}}function Da(t,e){const r=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,wa(t,e),t.fosterParentingEnabled=r}function Ra(t,e){t.pendingCharacterTokens.push(e)}function Fa(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function ja(t,e){let r=0;if(t.hasNonWhitespacePendingCharacterToken)for(;r<t.pendingCharacterTokens.length;r++)Da(t,t.pendingCharacterTokens[r]);else for(;r<t.pendingCharacterTokens.length;r++)t._insertCharacters(t.pendingCharacterTokens[r]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Ba=new Set([ri.CAPTION,ri.COL,ri.COLGROUP,ri.TBODY,ri.TD,ri.TFOOT,ri.TH,ri.THEAD,ri.TR]);function Ma(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.COL:t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.TEMPLATE:ya(t,e);break;default:Ga(t,e)}}function Ga(t,e){t.openElements.currentTagId===ri.COLGROUP&&(t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,t._processToken(e))}function Ua(t,e){switch(e.tagID){case ri.TR:t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_ROW;break;case ri.TH:case ri.TD:t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ei.TR,ri.TR),t.insertionMode=Qi.IN_ROW,qa(t,e);break;case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,Pa(t,e));break;default:Pa(t,e)}}function Ha(t,e){const r=e.tagID;switch(e.tagID){case ri.TBODY:case ri.TFOOT:case ri.THEAD:t.openElements.hasInTableScope(r)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE);break;case ri.TABLE:t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE,Ca(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TD:case ri.TH:case ri.TR:break;default:Ca(t,e)}}function qa(t,e){switch(e.tagID){case ri.TH:case ri.TD:t.openElements.clearBackToTableRowContext(),t._insertElement(e,Qo.HTML),t.insertionMode=Qi.IN_CELL,t.activeFormattingElements.insertMarker();break;case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.TBODY:case ri.TFOOT:case ri.THEAD:case ri.TR:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ua(t,e));break;default:Pa(t,e)}}function Va(t,e){switch(e.tagID){case ri.TR:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY);break;case ri.TABLE:t.openElements.hasInTableScope(ri.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ha(t,e));break;case ri.TBODY:case ri.TFOOT:case ri.THEAD:(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(ri.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Qi.IN_TABLE_BODY,Ha(t,e));break;case ri.BODY:case ri.CAPTION:case ri.COL:case ri.COLGROUP:case ri.HTML:case ri.TD:case ri.TH:break;default:Ca(t,e)}}function Ka(t,e){switch(e.tagID){case ri.HTML:La(t,e);break;case ri.OPTION:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t._insertElement(e,Qo.HTML);break;case ri.OPTGROUP:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Qo.HTML);break;case ri.HR:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Qo.HTML),e.ackSelfClosing=!0;break;case ri.INPUT:case ri.KEYGEN:case ri.TEXTAREA:case ri.SELECT:t.openElements.hasInSelectScope(ri.SELECT)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode(),e.tagID!==ri.SELECT&&t._processStartTag(e));break;case ri.SCRIPT:case ri.TEMPLATE:ya(t,e)}}function Ya(t,e){switch(e.tagID){case ri.OPTGROUP:t.openElements.stackTop>0&&t.openElements.currentTagId===ri.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===ri.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===ri.OPTGROUP&&t.openElements.pop();break;case ri.OPTION:t.openElements.currentTagId===ri.OPTION&&t.openElements.pop();break;case ri.SELECT:t.openElements.hasInSelectScope(ri.SELECT)&&(t.openElements.popUntilTagNamePopped(ri.SELECT),t._resetInsertionMode());break;case ri.TEMPLATE:va(t,e)}}function Wa(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(ri.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):ha(t,e)}function za(t,e){var r;if(e.tagID===ri.HTML){if(t.fragmentContext||(t.insertionMode=Qi.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===ri.HTML){t._setEndLocation(t.openElements.items[0],e);const n=t.openElements.items[1];n&&!(null===(r=t.treeAdapter.getNodeSourceCodeLocation(n))||void 0===r?void 0:r.endTag)&&t._setEndLocation(n,e)}}else Xa(t,e)}function Xa(t,e){t.insertionMode=Qi.IN_BODY,wa(t,e)}function $a(t,e){t.insertionMode=Qi.IN_BODY,wa(t,e)}function Ja(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Qo.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}const Qa=new Set([ei.AREA,ei.BASE,ei.BASEFONT,ei.BGSOUND,ei.BR,ei.COL,ei.EMBED,ei.FRAME,ei.HR,ei.IMG,ei.INPUT,ei.KEYGEN,ei.LINK,ei.META,ei.PARAM,ei.SOURCE,ei.TRACK,ei.WBR]);function Za(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Qo.HTML&&Qa.has(e.treeAdapter.getTagName(t))}const ts={treeAdapter:Di,scriptingEnabled:!0};function es(t,e){return ns(t,{...ts,...e})}function rs(t,e){let r="";const n=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===ei.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Qo.HTML?e.treeAdapter.getTemplateContent(t):t,o=e.treeAdapter.getChildNodes(n);if(o)for(const t of o)r+=ns(t,e);return r}function ns(t,e){return e.treeAdapter.isElementNode(t)?function(t,e){const r=e.treeAdapter.getTagName(t);return`<${r}${function(t,{treeAdapter:e}){let r="";for(const n of e.getAttrList(t)){if(r+=" ",n.namespace)switch(n.namespace){case Qo.XML:r+="xml:"+n.name;break;case Qo.XMLNS:"xmlns"!==n.name&&(r+="xmlns:"),r+=n.name;break;case Qo.XLINK:r+="xlink:"+n.name;break;default:r+=`${n.prefix}:${n.name}`}else r+=n.name;r+=`="${xt(n.value)}"`}return r}(t,e)}>${Za(t,e)?"":`${rs(t,e)}</${r}>`}`}(t,e):e.treeAdapter.isTextNode(t)?function(t,e){const{treeAdapter:r}=e,n=r.getTextNodeContent(t),o=r.getParentNode(t),i=o&&r.isElementNode(o)&&r.getTagName(o);return i&&r.getNamespaceURI(o)===Qo.HTML&&(a=i,s=e.scriptingEnabled,ui.has(a)||s&&a===ei.NOSCRIPT)?n:St(n);var a,s}(t,e):e.treeAdapter.isCommentNode(t)?function(t,{treeAdapter:e}){return`\x3c!--${e.getCommentNodeContent(t)}--\x3e`}(t,e):e.treeAdapter.isDocumentTypeNode(t)?function(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}(t,e):""}function os(t){const e=t.includes('"')?"'":'"';return e+t+e}const is={isCommentNode:W,isElementNode:V,isTextNode:Y,createDocument(){const t=new H([]);return t["x-mode"]=ti.NO_QUIRKS,t},createDocumentFragment:()=>new H([]),createElement(t,e,r){const n=Object.create(null),o=Object.create(null),i=Object.create(null);for(let t=0;t<r.length;t++){const e=r[t].name;n[e]=r[t].value,o[e]=r[t].namespace,i[e]=r[t].prefix}const a=new q(t,n,[]);return a.namespace=e,a["x-attribsNamespace"]=o,a["x-attribsPrefix"]=i,a},createCommentNode:t=>new B(t),createTextNode:t=>new j(t),appendChild(t,e){const r=t.children[t.children.length-1];r&&(r.next=e,e.prev=r),t.children.push(e),e.parent=t},insertBefore(t,e,r){const n=t.children.indexOf(r),{prev:o}=r;o&&(o.next=e,e.prev=o),r.prev=e,e.next=r,t.children.splice(n,0,e),e.parent=t},setTemplateContent(t,e){is.appendChild(t,e)},getTemplateContent:t=>t.children[0],setDocumentType(t,e,r,n){const o=function(t,e,r){let n="!DOCTYPE ";return t&&(n+=t),e?n+=" PUBLIC "+os(e):r&&(n+=" SYSTEM"),r&&(n+=" "+os(r)),n}(e,r,n);let i=t.children.find((t=>z(t)&&"!doctype"===t.name));i?i.data=null!=o?o:null:(i=new M("!doctype",o),is.appendChild(t,i)),i["x-name"]=e,i["x-publicId"]=r,i["x-systemId"]=n},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode:t=>t["x-mode"],detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:r,next:n}=t;t.prev=null,t.next=null,r&&(r.next=n),n&&(n.prev=r),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const r=t.children[t.children.length-1];r&&Y(r)?r.data+=e:is.appendChild(t,is.createTextNode(e))},insertTextBefore(t,e,r){const n=t.children[t.children.indexOf(r)-1];n&&Y(n)?n.data+=e:is.insertBefore(t,is.createTextNode(e),r)},adoptAttributes(t,e){for(let r=0;r<e.length;r++){const n=e[r].name;void 0===t.attribs[n]&&(t.attribs[n]=e[r].value,t["x-attribsNamespace"][n]=e[r].namespace,t["x-attribsPrefix"][n]=e[r].prefix)}},getFirstChild:t=>t.children[0],getChildNodes:t=>t.children,getParentNode:t=>t.parent,getAttrList:t=>t.attributes,getTagName:t=>t.name,getNamespaceURI:t=>t.namespace,getTextNodeContent:t=>t.data,getCommentNodeContent:t=>t.data,getDocumentTypeNodeName(t){var e;return null!==(e=t["x-name"])&&void 0!==e?e:""},getDocumentTypeNodePublicId(t){var e;return null!==(e=t["x-publicId"])&&void 0!==e?e:""},getDocumentTypeNodeSystemId(t){var e;return null!==(e=t["x-systemId"])&&void 0!==e?e:""},isDocumentTypeNode:t=>z(t)&&"!doctype"===t.name,setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation:t=>t.sourceCodeLocation,updateNodeSourceCodeLocation(t,e){null!=e.endOffset&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function as(t,e,r,n){var o;return null!==(o=e.treeAdapter)&&void 0!==o||(e.treeAdapter=is),!1!==e.scriptingEnabled&&(e.scriptingEnabled=!0),r?function(t,e){return ra.parse(t,e)}(t,e):function(t,e,r){"string"==typeof t&&(r=e,e=t,t=null);const n=ra.getFragmentParser(t,r);return n.tokenizer.write(e,!0),n.getFragment()}(n,t,e)}const ss={treeAdapter:is};var cs,us,ls;function hs(t){return t===cs.Space||t===cs.NewLine||t===cs.Tab||t===cs.FormFeed||t===cs.CarriageReturn}function fs(t){return t===cs.Slash||t===cs.Gt||hs(t)}!function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"}(cs||(cs={})),function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"}(us||(us={})),function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"}(ls||(ls={}));const ps={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class ds{constructor({xmlMode:t=!1,decodeEntities:e=!0},r){this.cbs=r,this.state=us.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=us.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=e,this.entityDecoder=new pt(t?rt:et,((t,e)=>this.emitCodePoint(t,e)))}reset(){this.state=us.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=us.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===cs.Lt||!this.decodeEntities&&this.fastForwardTo(cs.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=us.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(e?fs(t):(32|t)===this.currentSequence[this.sequenceIndex]){if(!e)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=us.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===cs.Gt||hs(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const t=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=t}return this.isSpecial=!1,this.sectionStart=e+2,void this.stateInClosingTagName(t)}this.sequenceIndex=0}(32|t)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===ps.TitleEnd?this.decodeEntities&&t===cs.Amp&&this.startEntity():this.fastForwardTo(cs.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(t===cs.Lt)}stateCDATASequence(t){t===ps.Cdata[this.sequenceIndex]?++this.sequenceIndex===ps.Cdata.length&&(this.state=us.InCommentLike,this.currentSequence=ps.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=us.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ps.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=us.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!fs(t):function(t){return t>=cs.LowerA&&t<=cs.LowerZ||t>=cs.UpperA&&t<=cs.UpperZ}(t)}startSpecial(t,e){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=e,this.state=us.SpecialStartSequence}stateBeforeTagName(t){if(t===cs.ExclamationMark)this.state=us.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===cs.Questionmark)this.state=us.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const e=32|t;this.sectionStart=this.index,this.xmlMode?this.state=us.InTagName:e===ps.ScriptEnd[2]?this.state=us.BeforeSpecialS:e===ps.TitleEnd[2]?this.state=us.BeforeSpecialT:this.state=us.InTagName}else t===cs.Slash?this.state=us.BeforeClosingTagName:(this.state=us.Text,this.stateText(t))}stateInTagName(t){fs(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){hs(t)||(t===cs.Gt?this.state=us.Text:(this.state=this.isTagStartChar(t)?us.InClosingTagName:us.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===cs.Gt||hs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=us.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===cs.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=us.InSpecialTag,this.sequenceIndex=0):this.state=us.Text,this.sectionStart=this.index+1):t===cs.Slash?this.state=us.InSelfClosingTag:hs(t)||(this.state=us.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===cs.Gt?(this.cbs.onselfclosingtag(this.index),this.state=us.Text,this.sectionStart=this.index+1,this.isSpecial=!1):hs(t)||(this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===cs.Eq||fs(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=us.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===cs.Eq?this.state=us.BeforeAttributeValue:t===cs.Slash||t===cs.Gt?(this.cbs.onattribend(ls.NoValue,this.sectionStart),this.sectionStart=-1,this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t)):hs(t)||(this.cbs.onattribend(ls.NoValue,this.sectionStart),this.state=us.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===cs.DoubleQuote?(this.state=us.InAttributeValueDq,this.sectionStart=this.index+1):t===cs.SingleQuote?(this.state=us.InAttributeValueSq,this.sectionStart=this.index+1):hs(t)||(this.sectionStart=this.index,this.state=us.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===cs.DoubleQuote?ls.Double:ls.Single,this.index+1),this.state=us.BeforeAttributeName):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,cs.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,cs.SingleQuote)}stateInAttributeValueNoQuotes(t){hs(t)||t===cs.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ls.Unquoted,this.index),this.state=us.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===cs.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===cs.OpeningSquareBracket?(this.state=us.CDATASequence,this.sequenceIndex=0):this.state=t===cs.Dash?us.BeforeComment:us.InDeclaration}stateInDeclaration(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=us.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===cs.Dash?(this.state=us.InCommentLike,this.currentSequence=ps.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=us.InDeclaration}stateInSpecialComment(t){(t===cs.Gt||this.fastForwardTo(cs.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=us.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const e=32|t;e===ps.ScriptEnd[3]?this.startSpecial(ps.ScriptEnd,4):e===ps.StyleEnd[3]?this.startSpecial(ps.StyleEnd,4):(this.state=us.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const e=32|t;e===ps.TitleEnd[3]?this.startSpecial(ps.TitleEnd,4):e===ps.TextareaEnd[3]?this.startSpecial(ps.TextareaEnd,4):(this.state=us.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=us.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?lt.Strict:this.baseState===us.Text||this.baseState===us.InSpecialTag?lt.Legacy:lt.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,0===t&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===us.Text||this.state===us.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==us.InAttributeValueDq&&this.state!==us.InAttributeValueSq&&this.state!==us.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case us.Text:this.stateText(t);break;case us.SpecialStartSequence:this.stateSpecialStartSequence(t);break;case us.InSpecialTag:this.stateInSpecialTag(t);break;case us.CDATASequence:this.stateCDATASequence(t);break;case us.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(t);break;case us.InAttributeName:this.stateInAttributeName(t);break;case us.InCommentLike:this.stateInCommentLike(t);break;case us.InSpecialComment:this.stateInSpecialComment(t);break;case us.BeforeAttributeName:this.stateBeforeAttributeName(t);break;case us.InTagName:this.stateInTagName(t);break;case us.InClosingTagName:this.stateInClosingTagName(t);break;case us.BeforeTagName:this.stateBeforeTagName(t);break;case us.AfterAttributeName:this.stateAfterAttributeName(t);break;case us.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(t);break;case us.BeforeAttributeValue:this.stateBeforeAttributeValue(t);break;case us.BeforeClosingTagName:this.stateBeforeClosingTagName(t);break;case us.AfterClosingTagName:this.stateAfterClosingTagName(t);break;case us.BeforeSpecialS:this.stateBeforeSpecialS(t);break;case us.BeforeSpecialT:this.stateBeforeSpecialT(t);break;case us.InAttributeValueNq:this.stateInAttributeValueNoQuotes(t);break;case us.InSelfClosingTag:this.stateInSelfClosingTag(t);break;case us.InDeclaration:this.stateInDeclaration(t);break;case us.BeforeDeclaration:this.stateBeforeDeclaration(t);break;case us.BeforeComment:this.stateBeforeComment(t);break;case us.InProcessingInstruction:this.stateInProcessingInstruction(t);break;case us.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===us.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===us.InCommentLike?this.currentSequence===ps.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===us.InTagName||this.state===us.BeforeAttributeName||this.state===us.BeforeAttributeValue||this.state===us.AfterAttributeName||this.state===us.InAttributeName||this.state===us.InAttributeValueSq||this.state===us.InAttributeValueDq||this.state===us.InAttributeValueNq||this.state===us.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){this.baseState!==us.Text&&this.baseState!==us.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const ys=new Set(["input","option","optgroup","select","button","datalist","textarea"]),vs=new Set(["p"]),ms=new Set(["thead","tbody"]),gs=new Set(["dd","dt"]),bs=new Set(["rt","rp"]),ws=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",vs],["h1",vs],["h2",vs],["h3",vs],["h4",vs],["h5",vs],["h6",vs],["select",ys],["input",ys],["output",ys],["button",ys],["datalist",ys],["textarea",ys],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",gs],["dt",gs],["address",vs],["article",vs],["aside",vs],["blockquote",vs],["details",vs],["div",vs],["dl",vs],["fieldset",vs],["figcaption",vs],["figure",vs],["footer",vs],["form",vs],["header",vs],["hr",vs],["main",vs],["nav",vs],["ol",vs],["pre",vs],["section",vs],["table",vs],["ul",vs],["rt",bs],["rp",bs],["tbody",ms],["tfoot",ms]]),Es=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),xs=new Set(["math","svg"]),Ss=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_s=/\s|\//;class As{constructor(t,e={}){var r,n,o,i,a,s;this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=t?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(r=e.lowerCaseTags)&&void 0!==r?r:this.htmlMode,this.lowerCaseAttributeNames=null!==(n=e.lowerCaseAttributeNames)&&void 0!==n?n:this.htmlMode,this.recognizeSelfClosing=null!==(o=e.recognizeSelfClosing)&&void 0!==o?o:!this.htmlMode,this.tokenizer=new(null!==(i=e.Tokenizer)&&void 0!==i?i:ds)(this.options,this),this.foreignContext=[!this.htmlMode],null===(s=(a=this.cbs).onparserinit)||void 0===s||s.call(a,this)}ontext(t,e){var r,n;const o=this.getSlice(t,e);this.endIndex=e-1,null===(n=(r=this.cbs).ontext)||void 0===n||n.call(r,o),this.startIndex=e}ontextentity(t,e){var r,n;this.endIndex=e-1,null===(n=(r=this.cbs).ontext)||void 0===n||n.call(r,it(t)),this.startIndex=e}isVoidElement(t){return this.htmlMode&&Es.has(t)}onopentagname(t,e){this.endIndex=e;let r=this.getSlice(t,e);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var e,r,n,o;this.openTagStart=this.startIndex,this.tagname=t;const i=this.htmlMode&&ws.get(t);if(i)for(;this.stack.length>0&&i.has(this.stack[0]);){const t=this.stack.shift();null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,t,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(xs.has(t)?this.foreignContext.unshift(!0):Ss.has(t)&&this.foreignContext.unshift(!1))),null===(o=(n=this.cbs).onopentagname)||void 0===o||o.call(n,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var e,r;this.startIndex=this.openTagStart,this.attribs&&(null===(r=(e=this.cbs).onopentag)||void 0===r||r.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,e){var r,n,o,i,a,s,c,u;this.endIndex=e;let l=this.getSlice(t,e);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),this.htmlMode&&(xs.has(l)||Ss.has(l))&&this.foreignContext.shift(),this.isVoidElement(l))this.htmlMode&&"br"===l&&(null===(i=(o=this.cbs).onopentagname)||void 0===i||i.call(o,"br"),null===(s=(a=this.cbs).onopentag)||void 0===s||s.call(a,"br",{},!0),null===(u=(c=this.cbs).onclosetag)||void 0===u||u.call(c,"br",!1));else{const t=this.stack.indexOf(l);if(-1!==t)for(let e=0;e<=t;e++){const o=this.stack.shift();null===(n=(r=this.cbs).onclosetag)||void 0===n||n.call(r,o,e!==t)}else this.htmlMode&&"p"===l&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=e+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var e,r;const n=this.tagname;this.endOpenTag(t),this.stack[0]===n&&(null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,n,!t),this.stack.shift())}onattribname(t,e){this.startIndex=t;const r=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,e){this.attribvalue+=this.getSlice(t,e)}onattribentity(t){this.attribvalue+=it(t)}onattribend(t,e){var r,n;this.endIndex=e,null===(n=(r=this.cbs).onattribute)||void 0===n||n.call(r,this.attribname,this.attribvalue,t===ls.Double?'"':t===ls.Single?"'":t===ls.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const e=t.search(_s);let r=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,e){this.endIndex=e;const r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(r);this.cbs.onprocessinginstruction("!"+t,"!"+r)}this.startIndex=e+1}onprocessinginstruction(t,e){this.endIndex=e;const r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){const t=this.getInstructionName(r);this.cbs.onprocessinginstruction("?"+t,"?"+r)}this.startIndex=e+1}oncomment(t,e,r){var n,o,i,a;this.endIndex=e,null===(o=(n=this.cbs).oncomment)||void 0===o||o.call(n,this.getSlice(t,e-r)),null===(a=(i=this.cbs).oncommentend)||void 0===a||a.call(i),this.startIndex=e+1}oncdata(t,e,r){var n,o,i,a,s,c,u,l,h,f;this.endIndex=e;const p=this.getSlice(t,e-r);!this.htmlMode||this.options.recognizeCDATA?(null===(o=(n=this.cbs).oncdatastart)||void 0===o||o.call(n),null===(a=(i=this.cbs).ontext)||void 0===a||a.call(i,p),null===(c=(s=this.cbs).oncdataend)||void 0===c||c.call(s)):(null===(l=(u=this.cbs).oncomment)||void 0===l||l.call(u,`[CDATA[${p}]]`),null===(f=(h=this.cbs).oncommentend)||void 0===f||f.call(h)),this.startIndex=e+1}onend(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let t=0;t<this.stack.length;t++)this.cbs.onclosetag(this.stack[t],!0)}null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)}reset(){var t,e,r,n;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(n=(r=this.cbs).onparserinit)||void 0===n||n.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);for(;e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,e-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,Error(".write() after done!")):(this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++))}end(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,Error(".end() after done!")):(t&&this.write(t),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}function Ts(t,e){const r=new tt(void 0,e);return new As(r,e).end(t),r.root}const Ls=(ks=(t,e,r,n)=>e._useHtmlParser2?Ts(t,e):as(t,e,r,n),function(t,e,r,n){if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return ks(t,e,r,n);const o=t;if(!Array.isArray(o)&&X(o))return o;const i=new H([]);return eo(o,i),i});var ks;const Is=function(t,e){return function r(n,i,a=!0){if(null==n)throw Error("cheerio.load() expects a string");const s=Ie(i),c=t(n,s,a,null);class u extends Fo{_make(t,e){const r=l(t,e);return r.prevObject=this,r}_parse(e,r,n,o){return t(e,r,n,o)}_render(t){return e(t,this.options)}}function l(e,r,n=c,o){if(e&&Ge(e))return e;const i=Ie(o,s),a="string"==typeof n?[t(n,i,!1,null)]:"length"in n?n:[n],l=Ge(a)?a:new u(a,null,i);if(l._root=l,!e)return new u(void 0,l,i);const h="string"==typeof e&&qe(e)?t(e,i,!1,null).children:(f=e).name||"root"===f.type||"text"===f.type||"comment"===f.type?[e]:Array.isArray(e)?e:void 0;var f;const p=new u(h,l,i);if(h)return p;if("string"!=typeof e)throw new TypeError("Unexpected type of selector");let d=e;const y=r?"string"==typeof r?qe(r)?new u([t(r,i,!1,null)],l,i):(d=`${r} ${d}`,l):Ge(r)?r:new u(Array.isArray(r)?r:[r],l,i):l;return y?y.find(d):p}return Object.assign(l,o,{load:r,_root:c,_options:s,fn:u.prototype,prototype:u.prototype}),l}}(Ls,((t,e)=>e._useHtmlParser2?Pt(t,e):function(t){const e="length"in t?t:[t];for(let t=0;t<e.length;t+=1){const r=e[t];X(r)&&Array.prototype.splice.call(e,t,1,...r.children)}let r="";for(let t=0;t<e.length;t+=1)r+=es(e[t],ss);return r}(t)));var Os=r(9392),Ns=r(4200),Ps=r(895);function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Ds(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rs(n.key),n)}}function Rs(t){var e=function(t,e){if("object"!=Cs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cs(e)?e:e+""}var Fs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Ds(t.prototype,e),r&&Ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"playSound",value:function(){y.w.get({sound:Ns.Ay.sound,customsound:Ns.Ay.customsound,soundvolumn:Ns.Ay.soundvolumn,soundnotification:Ns.Ay.soundnotification}).then((function(t){var e=t.sound,r=t.customsound,n=t.soundvolumn/100;if(t.soundnotification)if(""!==e&&"custom"!==e){var o=new Audio(chrome.runtime.getURL("/assets/sounds/".concat(e)));o.volume=n,o.play()}else if("custom"===e){var i=new Audio(r);i.volume=n,i.play()}}))}},{key:"playSoundSafely",value:function(e){var r=e||Ns.Ay.delaybetweensoundnotifications;Date.now()-t.lastSoundNotificationTime>r&&(t.playSound(),t.lastSoundNotificationTime=new Date)}},{key:"nofMsg",value:function(e,r){var n={type:"basic",title:"Steam community",message:r,expandedMessage:"Check out the offers",iconUrl:chrome.runtime.getURL("assets/icon128.png")};chrome.notifications.clear(e,(function(){})),chrome.notifications.create(e,n),t.playSoundSafely()}},{key:"nofSteam",value:function(e,r,n){var o=n.trim().replace(/<span.+?>/g,"").replace(/<\/span>/g,""),i=r.endsWith("_full.jpg")?r:r.replace(".jpg","_full.jpg"),a={type:"basic",title:"Steam community",message:"".concat(o," (").concat(e,")"),iconUrl:i,expandedMessage:"Check out the offers"};chrome.notifications.clear("ido".concat(e),(function(){})),chrome.notifications.create("ido".concat(e),a),t.playSoundSafely()}}])}();!function(t,e,r){(e=Rs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Fs,"lastSoundNotificationTime",0);var js,Bs=r(8100),Ms=r(2688),Gs=r.n(Ms),Us=r(6516);function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function qs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(r),!0).forEach((function(e){tc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ks(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Ws(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ws(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ws(t,e){if(t){if("string"==typeof t)return zs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zs(t,e):void 0}}function zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Xs(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xs=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Hs(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Hs(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function $s(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Js(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$s(i,n,o,a,s,"next",t)}function s(t){$s(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Qs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ec(n.key),n)}}function Zs(t,e,r){return e&&Qs(t.prototype,e),r&&Qs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tc(t,e,r){return(e=ec(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ec(t){var e=function(t,e){if("object"!=Hs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hs(e)?e:e+""}var rc=Is(""),nc={data:null,ts:Date.now()},oc=Zs((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tc(this,"setSihAppTokenHook",function(){var e=Js(Xs().mark((function e(r){var n;return Xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=self.fetch,self.fetch=function(){var e=Js(Xs().mark((function e(o,i){var a,s,c,u;return Xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(o,i);case 2:if(!(a=e.sent).url.includes(t.sihAppUrlReturn)){e.next=18;break}return e.next=6,a.json();case 6:if(!(s=e.sent).success){e.next=18;break}return e.next=10,y.w.get("sih_app_token");case 10:if(c=e.sent,(u=c.sih_app_token)&&u===s.token){e.next=18;break}return e.next=15,y.w.set({sih_app_token:s.token});case 15:return e.next=17,t.setJWTToken();case 17:r({token:!0});case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}catch(t){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),tc(this,"generateProfileLink",Js(Xs().mark((function t(){var r,n,o,i;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("sih_app_token");case 2:return r=t.sent,n=r.sih_app_token,t.next=6,y.w.getLocal("sihAppUserProfile");case 6:if(o=t.sent,i=o.sihAppUserProfile,!n||!i.success){t.next=12;break}return i.profileLink="".concat(e.sihAppUrl,"/login-via-token?token=").concat(n),t.next=12,e.setProfileInfoToStorage(i);case 12:case"end":return t.stop()}}),t)})))),tc(this,"checkSocialsOnCurrentSteam",(function(t,e){try{return new Promise((function(r,n){t.socials.forEach((function(t,n){"steam"===t[0]&&t[1]===e.steamId&&r({success:!0})})),r({success:!1})}))}catch(t){}})),tc(this,"checkSocialsOnTradeLink",function(){var t=Js(Xs().mark((function t(e){var r,n;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return r=t.sent,n=r.userInfo,t.abrupt("return",new Promise((function(t,r){e.socials.forEach((function(e,r){"steam"===e[0]&&(e[3]&&!e[3].hasOwnProperty("success")||e[1]!==n.steamId?t({success:!0}):t({success:!1}))}))})));case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),tc(this,"setProfileInfoToStorage",Js(Xs().mark((function t(){var e,r=arguments;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.prev=1,t.next=4,y.w.setLocal({sihAppUserProfile:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),t.t0;case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))),tc(this,"send2FAToAuth",function(){var t=Js(Xs().mark((function t(r,n){var o;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({headers:{"x-sih-token":n},method:"POST",url:"".concat(e.sihAppUrl,"/sih/2fa"),data:{password:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:if(!t.sent.success){t.next=8;break}return t.abrupt("return",{success:!0});case 8:return t.abrupt("return",{success:!1});case 9:t.next=18;break;case 11:return t.prev=11,t.t0=t.catch(0),t.t0,o=Error(),t.next=17,e.errorHandler(t.t0.message||t.t0.responseText,o.stack,"send2FAToAuth");case 17:return t.abrupt("return",t.t0.response.body);case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()),tc(this,"getUserAuth",Js(Xs().mark((function t(){var r,n,o,i,a,s,c,u=arguments;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:null,t.prev=1,t.next=4,e.setSihAppTokenHook(function(){var t=Js(Xs().mark((function t(r){return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.token){t.next=3;break}return t.next=3,e.getUserAuth();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.next=6,y.w.get("sih_app_token");case 6:return n=t.sent,o=n.sih_app_token,t.next=10,Bs.Ay.sendRequest({headers:{"x-sih-token":o},method:"GET",url:"".concat(e.sihAppUrl,"/sih/user"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:if(!(i=t.sent).success||!i.tfaNeed){t.next=30;break}return t.next=15,e.errorHandler(i.message,null,"getUserAuth");case 15:return t.next=17,e.setProfileInfoToStorage(i);case 17:if(!r){t.next=29;break}return t.next=20,e.send2FAToAuth(r,o);case 20:if(!(a=t.sent).success){t.next=26;break}return t.next=24,e.getUserAuth();case 24:t.next=29;break;case 26:return t.next=28,e.setProfileInfoToStorage(a);case 28:return t.abrupt("return",a);case 29:case 46:return t.abrupt("return",{success:!0});case 30:if(!i.success){t.next=47;break}if(!(i.subscribes&&i.subscribes.length>0)){t.next=36;break}return t.next=34,e.setPlanInfoToProfile(i);case 34:t.next=38;break;case 36:return t.next=38,e.setProfileInfoToStorage(i);case 38:return t.next=40,e.generateProfileLink();case 40:return t.next=42,e.checkSocialsOnTradeLink(i);case 42:if(t.sent.success){t.next=46;break}return t.next=46,e.setTradeLinkToProfile();case 47:t.next=61;break;case 49:return t.prev=49,t.t0=t.catch(1),t.t0,s=t.t0.status,c=Error(),t.next=56,e.errorHandler(t.t0.message||t.t0.responseText,c.stack,"getUserAuth");case 56:if(!(429===s||s>=500)){t.next=58;break}return t.abrupt("return",{success:!1,errorStatus:s});case 58:if(!t.t0.responseText||t.t0.responseText.toLowerCase().includes("invalid token or session is over")){t.next=60;break}return t.abrupt("return",{success:!1});case 60:return t.abrupt("return",{success:!1});case 61:case"end":return t.stop()}}),t,null,[[1,49]])})))),tc(this,"setTradeLinkToProfile",Js(Xs().mark((function t(){var r,n,o,i,a,s,c,u,l,h=arguments;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:null,t.prev=1,t.next=4,y.w.getLocal("userInfo");case 4:return n=t.sent,o=n.userInfo,t.next=8,y.w.getLocal("sihAppUserProfile");case 8:if(i=t.sent,a=i.sihAppUserProfile,s=a&&a.socials&&a.socials.length&&!a.tfaNeed?a.socials.findIndex((function(t){return"steam"===t[0]})):-1,o&&o.authorization){t.next=13;break}return t.abrupt("return");case 13:if(r){t.next=37;break}if(nc.data&&!(Date.now()-nc.ts>6e4)){t.next=19;break}return t.next=17,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(o.steamId,"/tradeoffers/privacy"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 17:nc.data=t.sent,nc.ts=Date.now();case 19:if(!nc.data){t.next=35;break}return r=rc(nc.data).find("#trade_offer_access_url").val(),c=r.match(/token=(.*)/)[1],o.tradeLink=r,t.next=25,y.w.setLocal({userInfo:o});case 25:if(-1!==s){t.next=27;break}return t.abrupt("return");case 27:if(a.socials[s][3]&&a.socials[s][3]===c){t.next=35;break}return t.next=30,e.setTradeLinkToSihApp(o.steamId,r);case 30:if((u=t.sent).success){t.next=35;break}return a.socials[s][3]=u,t.next=35,e.setProfileInfoToStorage(a);case 35:t.next=49;break;case 37:return o.tradeLink=r,t.next=40,y.w.setLocal({userInfo:o});case 40:if(-1!==s){t.next=42;break}return t.abrupt("return");case 42:return t.next=44,e.setTradeLinkToSihApp(o.steamId,r);case 44:if((l=t.sent).success){t.next=49;break}return a.socials[s][3]=l,t.next=49,e.setProfileInfoToStorage(a);case 49:t.next=54;break;case 51:t.prev=51,t.t0=t.catch(1),t.t0;case 54:case"end":return t.stop()}}),t,null,[[1,51]])})))),tc(this,"setPlanInfoToProfile",function(){var t=Js(Xs().mark((function t(r){var n,o,i,a,s,c,u;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Us.G4.onLoad();case 3:n=Ys(r.subscribes.entries()),t.prev=4,n.s();case 6:if((o=n.n()).done){t.next=36;break}if(i=Ks(o.value,2),a=i[0],"adfree"!==(s=i[1]).for_what){t.next=34;break}c=void 0,u=void 0,t.t0=s.title.toLowerCase(),t.next="for one year"===t.t0?13:"every 6 months"===t.t0?16:"every 3 month"===t.t0?19:"every month"===t.t0?22:"every week"===t.t0?25:28;break;case 13:return c="&#128526;",u="".concat(p.Ay.t("controls:subscribeAds.modal.plan_for_one_year_name")),t.abrupt("break",31);case 16:return c="&#128527;",u="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_6_month_name")),t.abrupt("break",31);case 19:return c="&#128521;",u="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_3_month_name")),t.abrupt("break",31);case 22:return c="&#128522;",u="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_month_name")),t.abrupt("break",31);case 25:return c="&#129488;",u="".concat(p.Ay.t("controls:subscribeAds.modal.plan_every_week_name")),t.abrupt("break",31);case 28:return c=null,u=null,t.abrupt("break",31);case 31:return r.subscribes[a]=Vs(Vs({},r.subscribes[a]),{},{icon:c,plan_txt:u}),t.next=34,e.setProfileInfoToStorage(r);case 34:t.next=6;break;case 36:t.next=41;break;case 38:t.prev=38,t.t1=t.catch(4),n.e(t.t1);case 41:return t.prev=41,n.f(),t.finish(41);case 44:t.next=49;break;case 46:t.prev=46,t.t2=t.catch(0),t.t2;case 49:case"end":return t.stop()}}),t,null,[[0,46],[4,38,41,44]])})));return function(e){return t.apply(this,arguments)}}()),tc(this,"setTradeLinkToSihApp",function(){var t=Js(Xs().mark((function t(r,n){var o,i,a;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(o=t.sent,!(i=o.sih_app_token)){t.next=11;break}return t.next=8,Bs.Ay.apiRequest({headers:{"x-sih-token":i},method:"POST",url:"".concat(e.sihAppUrl,"/sih/trade"),data:{social_id:r,trade_link:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:if(!(a=t.sent)){t.next=11;break}return t.abrupt("return",a);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.t0,t.abrupt("return",JSON.parse(t.t0.message));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()),tc(this,"setEmailToSihApp",function(){var t=Js(Xs().mark((function t(r){var n,o,i,a,s;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return n=t.sent,o=n.sih_app_token,t.next=7,y.w.getLocal("sihAppUserProfile");case 7:if(i=t.sent,!(a=i.sihAppUserProfile).user.email||a.user.email!==r){t.next=11;break}return t.abrupt("return",{success:!0});case 11:return t.next=13,Bs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/settings/email"),data:{email:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 13:if(!t.sent.success){t.next=18;break}return t.abrupt("return",{success:!0});case 18:return t.abrupt("return",{success:!1});case 19:t.next=32;break;case 21:return t.prev=21,t.t0=t.catch(0),t.t0,s=Error(),t.next=27,e.errorHandler(t.t0.message||t.t0.responseText,s.stack,"setEmailToSihApp");case 27:if(!t.t0.message){t.next=31;break}return t.abrupt("return",JSON.parse(t.t0.message));case 31:return t.abrupt("return",t.t0.responseJSON);case 32:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}()),tc(this,"deleteEmailFromSihApp",Js(Xs().mark((function t(){var r,n,o,i;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return r=t.sent,n=r.sih_app_token,t.next=7,Bs.Ay.apiRequest({headers:{"x-sih-token":n},method:"DELETE",url:"".concat(e.sihAppUrl,"/sih/settings/email"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return o=t.sent,t.abrupt("return",o);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,i=Error(),t.next=17,e.errorHandler(t.t0.message||t.t0.responseText,i.stack,"deleteEmailFromSihApp");case 17:return t.abrupt("return",JSON.parse(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[0,11]])})))),tc(this,"logout",Js(Xs().mark((function t(){var r,n,o;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(r=t.sent,!(n=r.sih_app_token)){t.next=14;break}return t.next=8,Bs.Ay.sendRequest({headers:{"x-sih-token":n},method:"DELETE",url:"".concat(e.sihAppUrl,"/sih/sessions"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:if(!t.sent.success){t.next=14;break}return t.next=12,y.w.set({sih_app_token:""});case 12:return t.next=14,e.setProfileInfoToStorage();case 14:t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(0),t.t0,o=Error(),t.next=22,e.errorHandler(t.t0.message||t.t0.responseText,o.stack,"logout");case 22:case"end":return t.stop()}}),t,null,[[0,16]])})))),tc(this,"toFormData",(function(t){var e=[];for(var r in t)e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")})),tc(this,"sihAppAuthViaSteam",function(){var r=Js(Xs().mark((function r(n){var o,i,a,s,c,u,l,h,f;return Xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n){r.next=25;break}return r.next=4,y.w.get("sih_app_token");case 4:return o=r.sent,i=o.sih_app_token,r.next=9,t.updateReturnUrl();case 9:return r.next=11,Bs.Ay.sendRequest({headers:{"x-sih-token":i},method:"GET",url:"".concat(e.sihAppUrl,"/sih/auth"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:if(!(a=r.sent).success||!a.url){r.next=25;break}return r.next=15,Bs.Ay.sendRequest({method:"GET",url:a.url,crossDomain:!0,xhrFields:{withCredentials:!0}});case 15:return s=r.sent,c={},rc(s).find("#openidForm input").each((function(t,e){var r=rc(e).attr("name"),n=rc(e).attr("value");c[r]=n})),u="----WebKitFormBoundary"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),(l=Object.keys(c).map((function(t){return"--".concat(u,'\r\nContent-Disposition: form-data; name="').concat(t,'"\r\n\r\n').concat(c[t],"\r\n")}))).push("--".concat(u,"--")),h=l.join(""),r.next=24,Bs.Ay.apiRequest({url:a.url,method:"POST",headers:{"Content-Type":"multipart/form-data; boundary=".concat(u)},data:h});case 24:return r.abrupt("return",{success:!0});case 25:r.next=33;break;case 27:return r.prev=27,r.t0=r.catch(0),r.t0,f=Error(),r.next=33,e.errorHandler(r.t0.message||r.t0.responseText,f.stack,"sihAppAuthViaSteam");case 33:case"end":return r.stop()}}),r,null,[[0,27]])})));return function(t){return r.apply(this,arguments)}}()),tc(this,"pingUser",Js(Xs().mark((function t(){var r,n,o,i,a,s,c,u,l,h,f,p,d;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return r=t.sent,n=r.sih_app_token,o=chrome.runtime.getManifest(),i=o.version,t.next=8,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 8:return a=t.sent,s=a.USER_PARSING_INVENTORY_LIST,t.next=12,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 12:return c=t.sent,u=c.INVENTORY_PARSING_INFO,t.next=16,y.w.getLocal({userGemsCount:0});case 16:return l=t.sent,h=l.userGemsCount,f={},(u.isHold||s.length)&&(f=Vs(Vs({},f),{},{disabled:u.isHold?"2":"1"})),h&&(f=Vs(Vs({},f),{},{userGemsCount:h})),t.next=23,Bs.Ay.apiRequest({headers:{"x-sih-token":n,"x-sih-version":i},method:"GET",url:"".concat(e.sihAppUrl,"/sih/ping"),data:Vs({},f),crossDomain:!0,xhrFields:{withCredentials:!0}});case 23:if(!(p=t.sent)||!p.success){t.next=42;break}if(!p.timer){t.next=29;break}return u.timer=p.timer,t.next=29,y.w.setLocal({INVENTORY_PARSING_INFO:u});case 29:if(!p.controllerIds){t.next=32;break}return t.next=32,y.w.setLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:p.controllerIds});case 32:if(!p.itemPayIds){t.next=35;break}return t.next=35,y.w.setLocal({AVAILABLE_ITEM_PAY_IDS:p.itemPayIds});case 35:return t.next=37,y.w.set({server_switch_controller:p.controller||!1});case 37:if(!p.ids||s.length){t.next=40;break}return t.next=40,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p.ids});case 40:return t.next=42,y.w.set({is_available_trade_web_api:p.isAvailableWebApi||!0});case 42:t.next=50;break;case 44:return t.prev=44,t.t0=t.catch(0),t.t0,d=Error(),t.next=50,e.errorHandler(t.t0.message||t.t0.responseText,d.stack,"pingUser");case 50:case"end":return t.stop()}}),t,null,[[0,44]])})))),tc(this,"sendParsingId",function(){var t=Js(Xs().mark((function t(r){var n,o,i;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return n=t.sent,o=n.sih_app_token,t.next=7,Bs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/ping"),data:{ids:[r]},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return i=t.sent,t.abrupt("return",i);case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),tc(this,"getAutoLoadFloats",Js(Xs().mark((function t(){return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.sendRequest({method:"GET",url:"".concat(e.sihAppUrl,"/sih/autoload"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.t0,t.abrupt("return",{status:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))),tc(this,"updateDataStorageLog",function(){var t=Js(Xs().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m=arguments;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:"market",t.prev=1,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(n=t.sent,(o=n.sihAppUserProfile)&&0!==Object.keys(o).length){t.next=8;break}return t.abrupt("return",{success:!1,error:"Not found profile sih app"});case 8:return t.next=10,y.w.getLocal({sihAppLog:[]});case 10:if(i=t.sent,a=i.sihAppLog,!Array.isArray(e)){t.next=32;break}if(!e.length){t.next=30;break}s=Ys(e),t.prev=15,u=Xs().mark((function t(){var e,r,n,o,i,s,u,l;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.value,r=new Date(e.createdAt).toDateString(),n=e,a.length){o=!0,i=Ys(a);try{for(i.s();!(s=i.n()).done;)(u=s.value).date===r&&(o=!1,l=u.items.findIndex((function(t){return t.createdAt===n.createdAt})),-1===l&&u.items.push(n))}catch(t){i.e(t)}finally{i.f()}o&&a.push({date:r,items:[n]})}else a.push({date:r,items:[n]});case 4:case"end":return t.stop()}}),t)})),s.s();case 18:if((c=s.n()).done){t.next=22;break}return t.delegateYield(u(),"t0",20);case 20:t.next=18;break;case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(15),s.e(t.t1);case 27:return t.prev=27,s.f(),t.finish(27);case 30:t.next=44;break;case 32:l=new Date,t.t2=r,t.next="market"===t.t2?36:"cases"===t.t2?38:40;break;case 36:return e.title="market_local",t.abrupt("break",42);case 38:return e.title="cases_local",t.abrupt("break",42);case 40:return e.title="not_processed",t.abrupt("break",42);case 42:if(h={data:e,createdAt:l.getTime()},a.length){f=!0,p=Ys(a);try{for(p.s();!(d=p.n()).done;)(v=d.value).date===l.toDateString()&&(f=!1,v.items.push(h))}catch(t){p.e(t)}finally{p.f()}f&&a.push({date:l.toDateString(),items:[h]})}else a.push({date:l.toDateString(),items:[h]});case 44:return t.next=46,y.w.setLocal({sihAppLog:a});case 46:t.next=51;break;case 48:t.prev=48,t.t3=t.catch(1),t.t3;case 51:case"end":return t.stop()}}),t,null,[[1,48],[15,24,27,30]])})));return function(e){return t.apply(this,arguments)}}()),tc(this,"readDataStorageLog",Js(Xs().mark((function t(){var e,r,n,o,i,a,s,c;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppLog:[]});case 3:if(e=t.sent,!(r=e.sihAppLog).length){t.next=11;break}n=Ys(r);try{for(n.s();!(o=n.n()).done;){i=o.value,a=Ys(i.items);try{for(a.s();!(s=a.n()).done;)(c=s.value).isRead||(c.isRead=!0)}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return t.next=10,y.w.setLocal({sihAppLog:r});case 10:case 11:return t.abrupt("return",r);case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))),tc(this,"errorHandler",function(){var t=Js(Xs().mark((function t(r,n,o){return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r||!r.toLowerCase().includes("invalid token or session is over")){t.next=4;break}return t.next=4,e.sihAppAuthViaSteam(!1);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r,n){return t.apply(this,arguments)}}()),tc(this,"sendMircoStats",Js(Xs().mark((function t(){var r,n,o,i,a,s,c,u;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return r=t.sent,n=r.sih_app_token,t.next=7,y.w.getLocal("userMicroStats");case 7:return o=t.sent,i=o.userMicroStats,a=chrome.runtime.getManifest(),s=a.version,i&&i.length>50&&(i.length=50),c=JSON.stringify(i),u=btoa(c),t.next=15,Bs.Ay.apiRequest({headers:{"x-sih-token":n,"x-sih-version":s},method:"POST",url:"".concat(e.sihAppUrl,"/microstats"),data:{data:u},crossDomain:!0,xhrFields:{withCredentials:!0}});case 15:return t.sent,t.next=18,y.w.setLocal({userMicroStats:[]});case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),t.t0;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))),tc(this,"sendMarketHistoryStats",Js(Xs().mark((function t(){var r,n,o,i,a,s,c,u=arguments;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:{},t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:return n=t.sent,o=n.sih_app_token,i=chrome.runtime.getManifest(),a=i.version,s=JSON.stringify(r),c=btoa(unescape(encodeURIComponent(s))),t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":o,"x-sih-version":a},method:"POST",url:"".concat(e.sihAppUrl,"/historystatsoverprices"),data:{data:c},crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))),this.sihAppUrl=t.sihAppUrl,this.setJWTToken=t.setJWTToken}));js=oc,tc(oc,"newSendPrototype",void 0),tc(oc,"sihAppUrlReturn","core.inventorymaker.com/sih/return"),tc(oc,"sihAppUrl","https://core.steaminventoryhelper.com"),tc(oc,"setJWTToken",Js(Xs().mark((function t(){var e,r,n;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return e=t.sent,r=e.sih_app_token,t.next=7,Bs.Ay.sendRequest({headers:{"x-sih-token":r},method:"GET",url:"".concat(js.sihAppUrl,"/sih/jwt"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:if(!(n=t.sent)||!n.jwt){t.next=11;break}return t.next=11,y.w.set({sih_app_jwt:{token:n.jwt,expires_ts:Date.now()+2592e6}});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))),tc(oc,"updateReturnUrl",Js(Xs().mark((function t(){var e;return Xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.sendRequest({method:"GET",url:"".concat(js.sihAppUrl,"/sih/domain")});case 2:(e=t.sent).success&&e.domain1&&(js.sihAppUrlReturn="".concat(e.domain1,"/sih/return"));case 4:case"end":return t.stop()}}),t)}))));const ic=new oc;function ac(t){return function(t){if(Array.isArray(t))return fc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||hc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=hc(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function cc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function uc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cc(Object(r),!0).forEach((function(e){bc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||hc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(t,e){if(t){if("string"==typeof t)return fc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fc(t,e):void 0}}function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pc(t){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(t)}function dc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function yc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function vc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yc(i,n,o,a,s,"next",t)}function s(t){yc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wc(n.key),n)}}function gc(t,e,r){return e&&mc(t.prototype,e),r&&mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bc(t,e,r){return(e=wc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wc(t){var e=function(t,e){if("object"!=pc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pc(e)?e:e+""}var Ec=["finished","failed","penalized"],xc=gc((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bc(this,"createInvoice",function(){var t=vc(dc().mark((function t(r){var n,o,i,a,s,c=arguments;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:10,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(o=t.sent,!(i=o.sih_app_token)){t.next=12;break}return t.next=9,Bs.Ay.apiRequest({headers:{"x-sih-token":i},method:"POST",url:"".concat(e.sihAppUrl,"/sih/invoice"),data:{amount:r,method:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:if(!(a=t.sent).success){t.next=12;break}return t.abrupt("return",a);case 12:t.next=25;break;case 14:return t.prev=14,t.t0=t.catch(1),t.t0,s=Error(),t.next=20,e.errorHandler(t.t0.message||t.t0.responseText,s.stack,"createInvoice");case 20:if(!t.t0.message){t.next=24;break}return t.abrupt("return",JSON.parse(t.t0.message));case 24:return t.abrupt("return",t.t0.responseJSON);case 25:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"buyItem",function(){var t=vc(dc().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.market_hash_name,o=r.price,i=r.steam_id,a=r.custom_trade_link,s=r.appid,c=r.itemId,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(u=t.sent,!(l=u.sih_app_token)){t.next=14;break}return h={item:n,price:o,steam_id:i,custom_trade_link:a,app_id:+s},c&&(h.item_id=c),t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":l},method:"POST",url:"".concat(e.sihAppUrl,"/sih/buy"),data:h,crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:if(!(f=t.sent).success){t.next=14;break}return t.abrupt("return",f);case 14:t.next=27;break;case 16:return t.prev=16,t.t0=t.catch(1),t.t0,p=Error(),t.next=22,e.errorHandler(t.t0.message||t.t0.responseText,p.stack,"buyItem");case 22:if(!t.t0.message){t.next=26;break}return t.abrupt("return",JSON.parse(t.t0.message));case 26:return t.abrupt("return",t.t0.responseJSON);case 27:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"cancelOrder",function(){var t=vc(dc().mark((function t(r){var n,o,i,a;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(n=t.sent,!(o=n.sih_app_token)){t.next=10;break}return t.next=8,Bs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/buy/cancel"),data:{orderId:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return i=t.sent,t.abrupt("return",i);case 10:t.next=19;break;case 12:return t.prev=12,t.t0=t.catch(0),t.t0,a=Error(),t.next=18,e.errorHandler(t.t0.message||t.t0.responseText,a.stack,"cancelOrder");case 18:return t.abrupt("return",t.t0.message?JSON.parse(t.t0.message):JSON.parse(t.t0.responseText)||{success:!1});case 19:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"updateItemOrderLocal",function(){var t=vc(dc().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="object"===pc(e)?e.id:e,o="inventory"===(null==e?void 0:e.source)?"sihAppWithdrawalHistory":"sihAppOrdersHistory",t.next=5,y.w.getLocal(bc({},o,{}));case 5:if(i=t.sent,!(null!=(a=i[o])&&a.success||null!=a&&null!==(r=a[1])&&void 0!==r&&r.success&&!a.tfaNeed)){t.next=31;break}if("inventory"!==(null==e?void 0:e.source)||null==a||null===(s=a[1])||void 0===s||null===(c=s.orders)||void 0===c||null===(u=c.data)||void 0===u||!u.length){t.next=23;break}f=0,p=Object.entries(a);case 10:if(!(f<p.length)){t.next=21;break}if(d=lc(p[f],2),v=d[0],m=d[1],-1===(g=m.orders.data.findIndex((function(t){return t.id===n})))){t.next=18;break}return a[v].orders.data[g]=e,t.next=17,y.w.setLocal(bc({},o,a));case 17:return t.abrupt("return",{success:!0,result:a[v].orders.data[g]});case 18:f++,t.next=10;break;case 21:t.next=30;break;case 23:if(null==a||null===(l=a.orders)||void 0===l||null===(h=l.data)||void 0===h||!h.length){t.next=30;break}if(b=a.orders.data.findIndex((function(t){return t.id===n})),"object"!==pc(e)?(a.orders.data[b].status="failed",a.orders.data[b].error="User canceled order"):a.orders.data[b]=e,-1===b){t.next=30;break}return t.next=29,y.w.setLocal(bc({},o,a));case 29:return t.abrupt("return",{success:!0,result:a.orders.data[b]});case 30:case 31:return t.abrupt("return",{success:!1});case 34:return t.prev=34,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 38:case"end":return t.stop()}}),t,null,[[0,34]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"getOrders",vc(dc().mark((function t(){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_=arguments;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=_.length>0&&void 0!==_[0]&&_[0],n=_.length>1&&void 0!==_[1]?_[1]:1,o=_.length>2&&void 0!==_[2]?_[2]:100,i=_.length>3&&void 0!==_[3]?_[3]:"shop",a=_.length>4&&void 0!==_[4]&&_[4],s=_.length>5&&void 0!==_[5]&&_[5],t.prev=6,"inventory"!==i){t.next=22;break}return t.next=10,y.w.getLocal("sihAppWithdrawalHistory");case 10:if(t.t2=c=t.sent,t.t1=null===t.t2,t.t1){t.next=14;break}t.t1=void 0===c;case 14:if(!t.t1){t.next=18;break}t.t3=void 0,t.next=19;break;case 18:t.t3=null===(u=c.sihAppWithdrawalHistory)||void 0===u?void 0:u[n];case 19:t.t0=t.t3,t.next=23;break;case 22:t.t0=null;case 23:if(l=t.t0,r&&("inventory"!==i||l)){t.next=68;break}return t.next=27,y.w.get("sih_app_token");case 27:if(h=t.sent,!(f=h.sih_app_token)){t.next=66;break}return t.next=32,Bs.Ay.apiRequest({headers:{"x-sih-token":f},method:"GET",url:"".concat(e.sihAppUrl,"/sih/orders"),data:{page:n,perPage:o,source:i,onlyInProgress:a,onlyFinished:s},crossDomain:!0,xhrFields:{withCredentials:!0}});case 32:if(!(p=t.sent).success){t.next=66;break}if(1!==n){t.next=57;break}if(d="shop"===i?"sihAppOrdersHistory":"sihAppWithdrawalHistory","inventory"!==i){t.next=41;break}return t.next=39,y.w.setLocal(bc({},d,bc({},n,p)));case 39:t.next=43;break;case 41:return t.next=43,y.w.setLocal(bc({},d,p));case 43:if("shop"!==i){t.next=55;break}if(!p.success||p.tfaNeed){t.next=55;break}if(!p.orders.data.length){t.next=53;break}return t.next=48,e.getTransformToLogInterface(p.orders.data);case 48:return v=t.sent,t.next=51,ic.updateDataStorageLog(v,"orders");case 51:t.next=55;break;case 53:return t.next=55,y.w.setLocal({sihAppLog:[]});case 55:t.next=65;break;case 57:if("inventory"!==i){t.next=65;break}return t.next=60,y.w.getLocal({sihAppWithdrawalHistory:{}});case 60:return m=t.sent,(g=m.sihAppWithdrawalHistory)[n]=p,t.next=65,y.w.setLocal({sihAppWithdrawalHistory:g});case 65:return t.abrupt("return",p);case 66:t.next=82;break;case 68:return b="shop"===i?"sihAppOrdersHistory":"sihAppWithdrawalHistory",t.next=71,y.w.getLocal(bc({},b,{}));case 71:if(w=t.sent,E=w[b],"shop"!==i||!E.success||E.tfaNeed||!E.orders.data.length){t.next=79;break}return t.next=76,e.getTransformToLogInterface(E.orders.data);case 76:return x=t.sent,t.next=79,ic.updateDataStorageLog(x,"orders");case 79:if("inventory"!==i){t.next=81;break}return t.abrupt("return",E[n]);case 81:return t.abrupt("return",E);case 82:t.next=99;break;case 84:return t.prev=84,t.t4=t.catch(6),t.t4,S=Error(),t.next=90,e.errorHandler(t.t4.message||t.t4.responseText,S.stack,"getOrders");case 90:if(!t.t4.message){t.next=94;break}return t.abrupt("return",JSON.parse(t.t4.message));case 94:if(!t.t4.responseJSON){t.next=98;break}return t.abrupt("return",t.t4.responseJSON);case 98:return t.abrupt("return",{success:!1,error:"Web server is down"});case 99:case"end":return t.stop()}}),t,null,[[6,84]])})))),bc(this,"getTopSales",function(){var t=vc(dc().mark((function t(e){var r;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.zg,"/items"),data:uc({},e),crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"getTransformToLogInterface",function(){var t=vc(dc().mark((function t(e){var r,n,o,i,a,s,c,u;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=[],n=e.filter((function(t){return Ec.includes(t.status)})),!n.length){t.next=7;break}o=sc(n);try{for(o.s();!(i=o.n()).done;)a=i.value,s=new Date(a.finished_at).getTime(),c={title:"market_server",groupType:"orders-history",success:"finished"===a.status,error:a.error,orderId:a.id||null,itemData:{market_hash_name:a.item_name||null,price:a.item_amount/1e3||0}},u={data:c,createdAt:s},r.push(u)}catch(t){o.e(t)}finally{o.f()}return t.abrupt("return",r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"getItemArrayFromStackByName",function(){var t=vc(dc().mark((function t(e){var r,n;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(r=t.sent,n=r.sihAppBuyStack,0!==Object.keys(n).length){t.next=9;break}return t.abrupt("return",[]);case 9:if(!n[e]){t.next=13;break}return t.abrupt("return",n[e]);case 13:return t.abrupt("return",[]);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"setItemToStackBuy",function(){var t=vc(dc().mark((function t(e){var r,n;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(r=t.sent,n=r.sihAppBuyStack,!e){t.next=12;break}return Object.assign(n,e),t.next=9,y.w.setLocal({sihAppBuyStack:n});case 9:return t.abrupt("return",{success:!0,message:"Stack updated"});case 12:return t.abrupt("return",{success:!1,error:"Stack failed update"});case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:"Stack failed update"});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"updatePriceItemsInStackBuyByName",function(){var t=vc(dc().mark((function t(r){var n,o,i,a,s,c;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(r);case 3:n=t.sent,o=n.map((function(t){return t.createdAt})),i=n.find((function(t){return t.createdAt===Math.max.apply(Math,ac(o))})),a=sc(n);try{for(a.s();!(s=a.n()).done;)(c=s.value).price=i.price,c.providerName=i.providerName}catch(t){a.e(t)}finally{a.f()}return t.next=10,e.setItemToStackBuy(bc({},r,ac(n)));case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"updateAllPriceItemsInStackBuyByName",function(){var t=vc(dc().mark((function t(r,n,o){var i,a,s,c;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(r);case 3:i=t.sent,a=sc(i);try{for(a.s();!(s=a.n()).done;)(c=s.value).price=n,c.providerName=o}catch(t){a.e(t)}finally{a.f()}return t.next=8,e.setItemToStackBuy(bc({},r,ac(i)));case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}()),bc(this,"changeStatusItemInStackBuy",function(){var t=vc(dc().mark((function t(r){var n,o,i,a;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],o=dc().mark((function t(){var r,o,s,c,u,l;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=lc(a[i],2),o=r[0],s=r[1],t.next=3,e.getItemArrayFromStackByName(o);case 3:return c=t.sent,s.forEach((function(t,e){var r=c.findIndex((function(e){return e.createdAt===t.createdAt}));if(-1===r)return{success:!1,error:"Invalid item data"};if(t.statusCode)c[r].status=t.statusCode,"pending"===t.statusCode&&(c[r].orderAt=Date.now()+e+1);else{if(!c[r].status)return{success:!1,error:"Invalid change status"};delete c[r].status,delete c[r].orderAt,delete c[r].finishOrderAt}})),u=bc({},o,c),t.next=8,e.setItemToStackBuy(u);case 8:l=t.sent,n.push(l);case 10:case"end":return t.stop()}}),t)})),i=0,a=Object.entries(r);case 4:if(!(i<a.length)){t.next=9;break}return t.delegateYield(o(),"t0",6);case 6:i++,t.next=4;break;case 9:return t.abrupt("return",n);case 12:t.prev=12,t.t1=t.catch(0),t.t1;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"updateItemsCheckbox",function(){var t=vc(dc().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p,d,v,m;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=[],!r||!Object.keys(r).length){t.next=13;break}o=dc().mark((function t(){var r,o,s,c,u,l;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=lc(a[i],2),o=r[0],s=r[1],t.next=3,e.getItemArrayFromStackByName(o);case 3:return c=t.sent,s.forEach((function(t){var e=c.findIndex((function(e){return e.createdAt===t.createdAt}));if(-1===e)return{success:!1,error:"Invalid item data"};c[e].isChecked=t.isChecked})),u=bc({},o,c),t.next=8,e.setItemToStackBuy(u);case 8:l=t.sent,n.push(l);case 10:case"end":return t.stop()}}),t)})),i=0,a=Object.entries(r);case 5:if(!(i<a.length)){t.next=10;break}return t.delegateYield(o(),"t0",7);case 7:i++,t.next=5;break;case 10:return t.abrupt("return",n);case 13:return t.next=15,y.w.getLocal({sihAppBuyStack:{}});case 15:if(s=t.sent,!(c=s.sihAppBuyStack)||!Object.keys(c).length){t.next=31;break}u=0,l=Object.entries(c);case 19:if(!(u<l.length)){t.next=30;break}for(h=lc(l[u],2),f=h[0],p=h[1],d=0;d<p.length;d++)p[d].isChecked=!0;return v=bc({},f,p),t.next=25,e.setItemToStackBuy(v);case 25:m=t.sent,n.push(m);case 27:u++,t.next=19;break;case 30:return t.abrupt("return",n);case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(0),t.t1;case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"deleteItemFromStackBuy",function(){var t=vc(dc().mark((function t(r,n){var o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w=arguments;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=w.length>2&&void 0!==w[2]?w[2]:1,i=w.length>3&&void 0!==w[3]?w[3]:null,t.prev=2,t.next=5,e.getItemArrayFromStackByName(r);case 5:if(a=t.sent,s=i?[]:a.filter((function(t){return t.itemId})),c=i?a:a.filter((function(t){return!t.itemId})),u=a.findIndex((function(t){return t.createdAt===n})),l=a.find((function(t){return t.createdAt===n})),!l.status||"pending"!==l.status){t.next=16;break}return t.next=13,e.findLastItemByDateOrderInStackBuy();case 13:t.t0=t.sent,t.next=17;break;case 16:t.t0={key:r,itemIndex:u};case 17:if(h=t.t0,f=h.key,p=h.itemIndex,f){t.next=22;break}return t.abrupt("return",{success:!1,error:"Empty stack"});case 22:if(!(c.length>o&&u>=0)){t.next=37;break}return c.splice(u,o),d=[].concat(ac(c),ac(s)),v=bc({},r,d),t.next=28,e.setItemToStackBuy(v);case 28:if(!(m=t.sent).success){t.next=36;break}if(f!==r||p!==u||!l.status||"pending"!==l.status){t.next=33;break}return t.next=33,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 33:return t.abrupt("return",{success:!0,message:"Item removed from stack"});case 36:return t.abrupt("return",m);case 37:if(a.length!==o||0!==u){t.next=53;break}return t.next=40,y.w.getLocal("sihAppBuyStack");case 40:if(g=t.sent,b=g.sihAppBuyStack,0!==Object.keys(b).length){t.next=46;break}return t.abrupt("return",{success:!1,error:"Empty stack"});case 46:if(f!==r||p!==u||!l.status||"pending"!==l.status){t.next=49;break}return t.next=49,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 49:return delete b[r],t.next=52,y.w.setLocal({sihAppBuyStack:b});case 52:return t.abrupt("return",{success:!0,message:"Item removed from stack"});case 53:return t.abrupt("return",{success:!1,error:"Invalid data"});case 56:t.prev=56,t.t1=t.catch(2),t.t1;case 59:case"end":return t.stop()}}),t,null,[[2,56]])})));return function(e,r){return t.apply(this,arguments)}}()),bc(this,"deleteItemsFromBuyStackByCreatedAt",function(){var t=vc(dc().mark((function t(r){var n,o,i,a,s,c,u,l,h=arguments;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:null,o=h.length>2&&void 0!==h[2]?h[2]:null,i=h.length>3&&void 0!==h[3]?h[3]:null,t.prev=3,r&&"string"==typeof r){t.next=6;break}return t.abrupt("return",{success:!1,error:"Invalid market hash name"});case 6:return t.next=8,e.getItemArrayFromStackByName(r);case 8:if(!(a=t.sent).length){t.next=18;break}return s=a.filter((function(t){return n?t.status===n:!t.status})),i?c=s.find((function(t){return+t.itemId==+i})):(u=s.filter((function(t){return!t.itemId})),c=u[o>0?u.length-o:0]),t.next=14,e.deleteItemFromStackBuy(r,c.createdAt,o,i);case 14:return l=t.sent,t.abrupt("return",l);case 18:return t.abrupt("return",{success:!1,error:"Empty stack"});case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3),t.t0;case 24:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}()),bc(this,"findLastItemByDateOrderInStackBuy",vc(dc().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(e=t.sent,r=e.sihAppBuyStack,0!==Object.keys(r).length){t.next=9;break}return t.abrupt("return",{itemData:null,key:null,itemIndex:null});case 9:for(n={},o="",i=0,a=Object.entries(r);i<a.length;i++){s=lc(a[i],2),c=s[0],u=s[1],l=sc(u);try{for(l.s();!(h=l.n()).done;)(f=h.value).status&&"pending"===f.status&&(0===Object.keys(n).length&&(o=c,Object.assign(n,f)),(f.finishOrderAt||!n.finishOrderAt&&f.orderAt>n.orderAt)&&(o=c,Object.assign(n,f)))}catch(t){l.e(t)}finally{l.f()}}if(o){t.next=14;break}return t.abrupt("return",{itemData:null,key:null,itemIndex:null});case 14:return p=r[o].findIndex((function(t){return t.orderAt===n.orderAt&&"pending"===t.status})),t.abrupt("return",{itemData:n,key:o,itemIndex:-1!==p?p:null});case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),t.t0;case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))),bc(this,"getAllStackBuy",vc(dc().mark((function t(){var e,r;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppBuyStack:{}});case 3:if(e=t.sent,r=e.sihAppBuyStack,0!==Object.keys(r).length){t.next=9;break}return t.abrupt("return",[]);case 9:return t.abrupt("return",Object.values(r).reduce((function(t,e){return[].concat(ac(t),ac(e))})));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))),bc(this,"startCreatingPurchaseRequest",function(){var t=vc(dc().mark((function t(r,n){var o,i,a;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItemArrayFromStackByName(n);case 3:if(o=t.sent,-1!==(i=o.findIndex((function(t){return t.createdAt===r.createdAt})))){t.next=9;break}return t.abrupt("return",{success:!1,error:"Item not found"});case 9:return o[i].finishOrderAt||(o[i].finishOrderAt=Date.now()+6e5),a=bc({},n,o),t.next=13,e.setItemToStackBuy(a);case 13:return t.abrupt("return",t.sent);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),bc(this,"updateAllPricesInAllStackBuy",function(){var t=vc(dc().mark((function t(r){var n,o;return dc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllStackBuy();case 3:return(n=t.sent).forEach((function(t){var e;e=t.itemId?r.find((function(e){return+e.id==+t.itemId})):r.find((function(e){return e.item===t.market_hash_name&&!e.id})),t.price=e?e.price:null})),o=n.reduce((function(t,e){var r=encodeURIComponent(e.market_hash_name);return t[r]||(t[r]=[]),t[r].push(e),t}),{}),t.next=8,y.w.setLocal({sihAppBuyStack:o});case 8:return t.abrupt("return",o);case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),this.sihAppUrl=ic.sihAppUrl,this.errorHandler=ic.errorHandler}));const Sc=new xc;function _c(t){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(t)}function Ac(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ac=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_c(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_c(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Tc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Lc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Tc(i,n,o,a,s,"next",t)}function s(t){Tc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function kc(t,e,r){return(e=Oc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oc(n.key),n)}}function Oc(t){var e=function(t,e){if("object"!=_c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_c(e)?e:e+""}var Nc=function(){return function(t,e,r){return e&&Ic(t.prototype,e),r&&Ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return new Promise(!0)},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.agent=e,this.settingName=r,this.checkInterval=o,this.interval=null,this.condition=n,y.w.set(kc({},"".concat(r,"_restarts"),!0)),y.w.set(kc({},"".concat(r,"_connected"),!1))}),[{key:"run",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===this.interval){var r=0;this.interval=setInterval(Lc(Ac().mark((function n(){var o;return Ac().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.check();case 2:if(o=n.sent,n.t0=o,!n.t0){n.next=8;break}return n.next=7,t.condition(t);case 7:n.t0=n.sent;case 8:if(!n.t0){n.next=11;break}return t.agent.init(e)&&(r=0,y.w.set(kc({},"".concat(t.settingName,"_restarts"),!0))),n.abrupt("return");case 11:if(!t.agent.stop()){n.next=16;break}return r=0,y.w.set(kc({},"".concat(t.settingName,"_restarts"),!1)),n.abrupt("return");case 16:r%100==0&&y.w.set(kc({},"".concat(t.settingName,"_restarts"),!1)),r+=1;case 18:case"end":return n.stop()}}),n)}))),this.checkInterval)}}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearInterval(this.interval),this.interval=null,this.agent.stop(t),y.w.set(kc({},"".concat(this.settingName,"_connected"),!1))}},{key:"check",value:(t=Lc(Ac().mark((function t(){var e,r;return Ac().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get(Ns.Ay);case 2:return e=t.sent,t.next=5,y.w.getLocal({userInfo:{authorization:!1}});case 5:return r=t.sent.userInfo.authorization,t.abrupt("return",e[this.settingName]&&r);case 7:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}();function Pc(t){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(t)}function Cc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dc(n.key),n)}}function Dc(t){var e=function(t,e){if("object"!=Pc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pc(e)?e:e+""}var Rc=function(){return function(t,e,r){return e&&Cc(t.prototype,e),r&&Cc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefix=e}),[{key:"log",value:function(){}},{key:"error",value:function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).error.apply(t,[this.prefix].concat(r))}}])}(),Fc=r(4526),jc=r.n(Fc);function Bc(t){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(t)}function Mc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Bc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Bc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Gc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Uc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Gc(i,n,o,a,s,"next",t)}function s(t){Gc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qc(n.key),n)}}function qc(t){var e=function(t,e){if("object"!=Bc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bc(e)?e:e+""}var Vc,Kc=function(){return function(t,e,r){return e&&Hc(t.prototype,e),r&&Hc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"refreshSteamPowered",value:(e=Uc(Mc().mark((function t(){return Mc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.sendRequest({method:"GET",url:"https://login.steampowered.com/jwt/refresh?redir=https%3A%2F%2Fstore.steampowered.com%2F"});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return e.apply(this,arguments)})},{key:"refreshSteamCommunity",value:(t=Uc(Mc().mark((function t(e){return Mc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.sendRequest({method:"GET",url:"https://login.steampowered.com/jwt/refresh?redir=https%3A%2F%2Fsteamcommunity.com%2Fprofiles%2F".concat(e,"%2F")});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(e){return t.apply(this,arguments)})}]);var t,e}();function Yc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Yc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Xc(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Xc(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Wc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function zc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Wc(i,n,o,a,s,"next",t)}function s(t){Wc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Xc(t){return Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(t)}function $c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zc(n.key),n)}}function Jc(t,e,r){return e&&$c(t.prototype,e),r&&$c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qc(t,e,r){return(e=Zc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zc(t){var e=function(t,e){if("object"!=Xc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xc(e)?e:e+""}var tu={data:null,ts:Date.now()},eu=Jc((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));Vc=eu,Qc(eu,"isFetchingProfile",!1),Qc(eu,"profileFetchPromise",null),Qc(eu,"TRADES_NOTIFICATION",{trades:null,ts:{tradeoffers:Date.now(),"tradeoffers/sent":Date.now(),"tradeoffers/?history=1":Date.now(),"tradeoffers/sent/?history=1":Date.now()}}),Qc(eu,"getProfile",zc(Yc().mark((function t(){var e,r,n=arguments;return Yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],r=n.length>1&&void 0!==n[1]?n[1]:null,t.prev=2,r&&(tu.data=r,tu.ts=Date.now()),!(!tu.data||e||Date.now()-tu.ts>=6e4)){t.next=30;break}if(!Vc.isFetchingProfile){t.next=17;break}return t.next=8,Vc.profileFetchPromise;case 8:return t.next=10,Vc.checkSteamAuth();case 10:if(t.sent){t.next=14;break}return t.next=14,Vc.refreshSteamLoginSecure();case 14:return t.next=16,Vc.profileFetchPromise;case 16:return t.abrupt("return",t.sent);case 17:return Vc.isFetchingProfile=!0,Vc.profileFetchPromise=Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/my/"}).then((function(t){return tu.data=t,tu.ts=Date.now(),Vc.isFetchingProfile=!1,tu})).catch((function(t){throw Vc.isFetchingProfile=!1,t})),t.next=21,Vc.profileFetchPromise;case 21:return t.next=23,Vc.checkSteamAuth();case 23:if(t.sent){t.next=27;break}return t.next=27,Vc.refreshSteamLoginSecure();case 27:return t.next=29,Vc.profileFetchPromise;case 29:return t.abrupt("return",t.sent);case 30:return t.abrupt("return",tu);case 33:t.prev=33,t.t0=t.catch(2),t.t0;case 36:case"end":return t.stop()}}),t,null,[[2,33]])})))),Qc(eu,"checkSteamAuth",zc(Yc().mark((function t(){var e,r,n;return Yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=Ps.A.Profile.parse(tu.data,["steamId","isLoginPage"]),r=e.steamId,n=e.isLoginPage,!tu.data||n){t.next=4;break}return t.abrupt("return",!!r);case 4:return t.abrupt("return",!1);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),Qc(eu,"refreshSteamLoginSecure",zc(Yc().mark((function t(){var e,r,n,o;return Yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return e=t.sent,r=e.userInfo,t.next=7,y.w.get({projects_permissions:{}});case 7:if(n=t.sent,o=n.projects_permissions,!r.steamId||!Object.keys(o).length){t.next=15;break}if(!Object.values(o).some((function(t){return Object.keys(t).length}))){t.next=15;break}return t.next=14,Kc.refreshSteamCommunity(r.steamId);case 14:t.sent;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))));const ru=eu,nu={heartbeat:!1,incomeMessageMapper:function(t){return t},outcomeMessageMapper:function(t){return t},EVENTS:{CONNECT:"connect",CLOSE:"close",ERROR:"error"},CLOSE_REASONS:{HEARTBEAT:{code:4001,message:"heart beat problem"},NORMAL_CLOSE:{code:1e3,message:"Normal Closure"}},ping:!1,pingMessage:"",pingTime:3e4};function ou(t){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(t)}function iu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,au(n.key),n)}}function au(t){var e=function(t,e){if("object"!=ou(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ou(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ou(e)?e:e+""}var su=function(){return function(t,e,r){return e&&iu(t.prototype,e),r&&iu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e,this.logger=r,this.options=jc()(n,nu),this.listeners={},this.socket=null,this.preventReconnection=!1,this.pingInterval=null}),[{key:"connect",value:function(){var t=this;return this.isActive()||(this.preventReconnection=!1,this.socket=new WebSocket(this.url),this.socket.onopen=function(){t.logger.log("connection opened"),t.emit({type:t.options.EVENTS.CONNECT}),t.options.ping&&(t.clearPingInterval(),t.setupPingInterval())},this.socket.onclose=function(){t.logger.log("connection closed"),t.emit({type:t.options.EVENTS.CLOSE}),t.options.ping&&t.clearPingInterval()},this.socket.onerror=function(e){t.logger.log("connection error",e),t.emit({type:t.options.EVENTS.ERROR,payload:e}),t.options.ping&&t.clearPingInterval()},this.socket.onmessage=function(e){try{var r=t.options.eventMapper(e),n=r.type,o=r.payload;n?ru.getProfile(!0).then((function(){t.emit({type:n,payload:o})})):t.logger.log('Unknown message type "'.concat(n,'"'))}catch(e){t.logger.error("Receive message error",e)}}),!0}},{key:"close",value:function(t,e){this.preventReconnection="boolean"!=typeof t||t,this.socket&&this.socket.readyState!==this.socket.CLOSED&&this.socket.close("string"==typeof t?t:this.options.CLOSE_REASONS.NORMAL_CLOSE.code,e||this.options.CLOSE_REASONS.NORMAL_CLOSE.message)}},{key:"restart",value:function(t,e){this.socket&&this.socket.readyState!==this.socket.CLOSED&&this.close(t,e)}},{key:"send",value:function(t){try{var e=this.options.outcomeMessageMapper(t);this.socket.send(JSON.stringify(e))}catch(t){this.logger.error("Send message error",t)}}},{key:"onmessage",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"isActive",value:function(){return this.socket&&(this.socket.readyState===this.socket.OPEN||this.socket.readyState===this.socket.CONNECTING)}},{key:"isConnected",value:function(){return this.socket&&this.socket.readyState===this.socket.OPEN}},{key:"emit",value:function(t){var e=t.type,r=t.payload,n=void 0===r?null:r;this.listeners[e]&&this.listeners[e].length&&this.listeners[e].forEach((function(t){return t(n)}))}},{key:"setupPingInterval",value:function(){var t=this;this.pingInterval=setInterval((function(){t.socket.send(t.options.pingMessage)}),this.options.pingTime)}},{key:"clearPingInterval",value:function(){clearInterval(this.pingInterval)}}])}(),cu=su;function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hu(n.key),n)}}function hu(t){var e=function(t,e){if("object"!=uu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uu(e)?e:e+""}var fu=function(){return function(t,e,r){return e&&lu(t.prototype,e),r&&lu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=e}),[{key:"get",value:function(t){return this.state[t]}},{key:"set",value:function(t,e){return this.state[t]=e,this}},{key:"delete",value:function(t){delete this.state[t]}},{key:"clear",value:function(){this.state={}}}])}();function pu(t){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(t)}function du(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yu(n.key),n)}}function yu(t){var e=function(t,e){if("object"!=pu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pu(e)?e:e+""}var vu=function(){return function(t,e,r){return e&&du(t.prototype,e),r&&du(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DEFAULT_DELAY=5e3;var r=e.delay,n=e.delays,o=e.once,i=void 0!==o&&o;this.delays=void 0!==r?[r]:n||[this.DEFAULT_DELAY],this.once=i,this.index=0}),[{key:"wrap",value:function(t){var e=this,r=t.options.EVENTS,n=r.CLOSE,o=r.CONNECT;t.onmessage(n,(function(){t.preventReconnection||(e.timeout=setTimeout((function(){t.connect(),e.index+=1}),e.delay))})),t.onmessage(o,(function(){clearTimeout(e.timeout),e.timeout=null,e.index=0}))}},{key:"delay",get:function(){var t=this.once?this.index:this.index%this.delays.length;return this.delays[t]||!1}}])}();function mu(t){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(t)}function gu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bu(n.key),n)}}function bu(t){var e=function(t,e){if("object"!=mu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mu(e)?e:e+""}var wu=function(){return function(t,e,r){return e&&gu(t.prototype,e),r&&gu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r,n,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers=e,this.provider=r,this.storage=n,this.logger=o,this.initialized=!1,this.stopped=!1,Object.keys(this.handlers).forEach((function(t){i.provider.onmessage(t,(function(e){return i.handlers[t](e,i)}))}))}),[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.initialized||this.stopped&&!t)&&(this.stopped=!1,this.logger.log("init"),this.provider.connect(),this.initialized=!0,!0)}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.initialized&&(this.stopped=!!t||this.stopped,this.logger.log("stop"),this.provider.close(),this.storage.clear(),this.initialized=!1,!0)}}])}(),Eu=Rc,xu=Nc,Su=vu,_u=h,Au=f;function Tu(t){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(t)}function Lu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lu=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Tu(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Tu(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ku(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Iu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ku(i,n,o,a,s,"next",t)}function s(t){ku(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ou=Is(""),Nu=function(t){return"https://steamcommunity.com/profiles/".concat(t,"/tradeoffers/privacy#trade_offer_access_url")},Pu=function(){var t=Iu(Lu().mark((function t(){var e,r,n,o,i,a,s,c,u;return Lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(e=t.sent.data,r=Ps.A.Profile.parse(e,["steamId","avatarSrc","nickname","sessionId","originalProfileUrl"]),n=r.steamId,o=r.avatarSrc,i=r.nickname,a=r.sessionId,s=r.originalProfileUrl,n){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,Bs.Ay.sendRequest({method:"GET",url:"".concat(s?"".concat(s,"tradeoffers/privacy"):Nu(n))});case 9:return c=t.sent,t.next=12,Ps.A.Tradeoffer.tradeLink(c);case 12:return u=t.sent,t.abrupt("return",{avatar:o,name:i,steamId:n,tradeLink:u,sessionId:a});case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),Cu=function(){var t=Iu(Lu().mark((function t(){var e,r,n,o,i,a;return Lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/dev/apikey"});case 3:if(e=t.sent,Ou(e).find("#editForm").length){t.next=6;break}return t.abrupt("return",!1);case 6:if(r=e.replace(/\s/g,""),!((n=r.indexOf('id="bodyContents_ex">'))<0)){t.next=10;break}return t.abrupt("return",!1);case 10:if(o=r.substring(n),i=o.indexOf(":")+1,a=o.indexOf("</p"),!(i<=0||a<0)){t.next=15;break}return t.abrupt("return",!1);case 15:return t.abrupt("return",o.substring(i,a));case 18:return t.prev=18,t.t0=t.catch(0),t.t0,t.abrupt("return",!1);case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}(),Du="connect",Ru="jsonsend",Fu="tradesend",ju="tradeaccept",Bu="tradedecline",Mu="tradecancel",Gu="permissionsget",Uu="permissionsrequest",Hu="permissionsedit",qu="vYPRqkhY88H9iuTxrcm",Vu="vYPRgkhY88H91uTxrcm",Ku="vYPRgkhY88H9iuTxrcm",Yu="vYPRqkhY88H91uTxrcm",Wu="syncuserinfo",zu="vYPRqjhY88H91uTxrcm";function Xu(t){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(t)}function $u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$u=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Xu(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Xu(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ju(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Xu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xu(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Zu=function(){var t,e=(t=$u().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f;return $u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("ConnectionHandler: called"),t.next=4,y.w.get(Ju({},Yu,{}));case 4:return t.t0=Yu,n=t.sent[t.t0],t.next=8,y.w.getLocal({userInfo:{}});case 8:if(o=t.sent,(i=o.userInfo)&&i.authorization){t.next=15;break}return y.w.set({sih_app_market_toggle_connected:!1}),y.w.set({sih_app_market_toggle_restarts:!1}),t.abrupt("return");case 15:return t.next=17,Pu();case 17:if(a=t.sent,r.logger.log("ConnectionHandler: steamData =",a),a){t.next=23;break}return y.w.set({sih_app_market_toggle_connected:!1}),y.w.set({sih_app_market_toggle_restarts:!1}),t.abrupt("return");case 23:s=a.avatar,c=a.name,u=a.steamId,l=a.tradeLink,h=a.sessionId,f=l.match(/token=(.*)/)[1],r.storage.set("avatar",s),r.storage.set("name",c),r.storage.set("steamId",u),r.storage.set("tradeLink",l),r.storage.set("sessionId",h),r.logger.log("NEW SIH CONNECT"),r.provider.send({event:Du,payload:{event:Du,data:{steamId:u,name:c,avatar:s,token:f}}}),!i.steamId||n&&n[i.steamId]||r.provider.send({event:Yu,payload:{event:Yu,data:{}}}),r.provider.send({event:Gu,payload:{event:Gu,data:{}}}),r.provider.onmessage(r.provider.options.EVENTS.CLOSE,(function(){return r.logger.log("ConnectionHandler: connection closed")})),y.w.set({sih_app_market_toggle_connected:!0}),y.w.set({sih_app_market_toggle_restarts:!1}),r.logger.log("ConnectionHandler: done"),t.next=44;break;case 40:t.prev=40,t.t1=t.catch(0),y.w.set({sih_app_market_toggle_restarts:!1}),r.logger.error("ConnectionHandler: error",t.t1);case 44:case"end":return t.stop()}}),t,null,[[0,40]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qu(i,n,o,a,s,"next",t)}function s(t){Qu(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function tl(t){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(t)}function el(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */el=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==tl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tl(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function rl(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=tl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nl(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const ol=function(){var t,e=(t=el().mark((function t(e,r){var n,o,i;return el().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get(rl({},Yu,{}));case 3:return t.t0=Yu,n=t.sent[t.t0],t.next=7,y.w.getLocal("userInfo");case 7:return o=t.sent,i=o.userInfo,n[i.steamId]={key:e.data},t.next=12,y.w.set(rl({},Yu,n));case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),r.logger.error("Get crypt key: error",t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nl(i,n,o,a,s,"next",t)}function s(t){nl(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();var il,al=r(7047),sl=r.n(al),cl=r(7333),ul=r.n(cl),ll=r(8367),hl=r.n(ll),fl=r(5882);function pl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vl(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function dl(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function yl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dl(i,n,o,a,s,"next",t)}function s(t){dl(i,n,o,a,s,"throw",t)}a(void 0)}))}}function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}function ml(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wl(n.key),n)}}function gl(t,e,r){return e&&ml(t.prototype,e),r&&ml(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bl(t,e,r){return(e=wl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wl(t){var e=function(t,e){if("object"!=vl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vl(e)?e:e+""}var El=new Map,xl=gl((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));il=xl,bl(xl,"generateDynamicRuleId",function(){var t=yl(pl().mark((function t(e){var r,n,o,i=arguments;return pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:1,e&&!El.has(e)){t.next=3;break}return t.abrupt("return",null);case 3:return n=Array.from(El.values()).some((function(t){return r===t.id})),o=n?El.size+1:r,El.set(e,{id:o,ruleFilter:e}),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bl(xl,"setRule",function(){var t=yl(pl().mark((function t(e){return pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",new Promise((function(t){chrome.declarativeNetRequest.updateDynamicRules({addRules:[e]},function(){var r=yl(pl().mark((function r(n){var o,i,a;return pl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(o=chrome)||void 0===o||null===(i=o.runtime)||void 0===i||null===(a=i.lastError)||void 0===a||!a.message.includes("Rule with id ".concat(e.id," does not have a unique ID"))){r.next=8;break}return r.next=3,il.removeRuleById(e.id);case 3:return r.next=5,il.setRule(e);case 5:t(n),r.next=9;break;case 8:t(n);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bl(xl,"removeRule",function(){var t=yl(pl().mark((function t(e){var r,n;return pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.declarativeNetRequest.getDynamicRules();case 2:r=t.sent,n=r.filter((function(t){var r=t.condition,n=r.urlFilter,o=void 0===n?null:n,i=r.regexFilter;return o===e||(void 0===i?null:i)===e})).map((function(t){return t.id})).filter((function(t){return!El.has(e)||t})),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:n}),El.delete(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bl(xl,"removeRuleById",function(){var t=yl(pl().mark((function t(e){var r,n;return pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,chrome.declarativeNetRequest.getDynamicRules();case 4:r=t.sent,n=r.map((function(t){return t.id})).filter((function(t){return t===e})),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),bl(xl,"removeAllRules",yl(pl().mark((function t(){var e,r;return pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.declarativeNetRequest.getDynamicRules();case 2:e=t.sent,r=e.map((function(t){return t.id})),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:r});case 5:case"end":return t.stop()}}),t)}))));const Sl=xl;function _l(t){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(t)}function Al(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Al(Object(r),!0).forEach((function(e){kl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Al(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ll(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Il(n.key),n)}}function kl(t,e,r){return(e=Il(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Il(t){var e=function(t,e){if("object"!=_l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_l(e)?e:e+""}function Ol(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Nl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Nl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Pl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_l(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_l(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cl(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Dl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Cl(i,n,o,a,s,"next",t)}function s(t){Cl(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Rl=Is(""),Fl=["https://steamcommunity.com/profiles/*","https://steamcommunity.com/id/*"],jl=["tradeoffers","tradeoffers/sent","tradeoffers/?history=1","tradeoffers/sent/?history=1"],Bl=function(){var t=Dl(Pl().mark((function t(e){var r,n,o,i;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Fl.map(function(){var t=Dl(Pl().mark((function t(r){return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:r},t.abrupt("return",{id:t.t0,priority:1,action:t.t1,condition:t.t2});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:r=t.sent,n=Ol(r),t.prev=4,n.s();case 6:if((o=n.n()).done){t.next=12;break}return i=o.value,t.next=10,Sl.setRule(i);case 10:t.next=6;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,14,17,20]])})));return function(e){return t.apply(this,arguments)}}(),Ml=function(){var t=Dl(Pl().mark((function t(){var e,r,n;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=Fl;case 1:if(!(e<r.length)){t.next=8;break}return n=r[e],t.next=5,Sl.removeRule(n);case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Gl=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),kl(this,"removeAcceptIds",(function(e){t._acceptIdsSet.delete(e)})),kl(this,"parseTrades",Dl(Pl().mark((function t(){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m=arguments;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.length>0&&void 0!==m[0]?m[0]:"tradeoffers",n=m.length>1&&void 0!==m[1]&&m[1],t.next=4,y.w.get(Ns.Ay);case 4:return o=t.sent,i=o.userUrl,a=o.originalProfileUrl,t.next=9,y.w.get({webApiToken:""});case 9:return s=t.sent,c=s.webApiToken,u=void 0===c?"":c,t.next=14,qh.getCacheTradesPage(r);case 14:return l=t.sent,t.next=17,qh.isAvailableWebApi();case 17:if(!t.sent||!n){t.next=37;break}return t.next=21,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffers/v1/",data:{active_only:0,get_received_offers:r.includes("sent")?0:1,get_sent_offers:r.includes("sent")?1:0,get_descriptions:1,access_token:u}});case 21:if(h=t.sent,f=h.response,"tradeoffers"!==r){t.next=30;break}return t.next=26,qh.updateTradesApiCache(f,"tradeoffers");case 26:return t.next=28,qh.updateTradesApiCache(f,"tradeoffers/?history=1");case 28:t.next=35;break;case 30:if("tradeoffers/sent"!==r){t.next=35;break}return t.next=33,qh.updateTradesApiCache(f,"tradeoffers/sent");case 33:return t.next=35,qh.updateTradesApiCache(f,"tradeoffers/sent/?history=1");case 35:t.next=50;break;case 37:if(l&&!n){t.next=50;break}return t.next=40,(0,Bs.yy)(5e3);case 40:return t.next=42,y.w.getLocal({TRADE_REQUEST_LIMIT_COUNT:0});case 42:if(p=t.sent,d=p.TRADE_REQUEST_LIMIT_COUNT,!((void 0===d?0:d)>19)){t.next=47;break}return t.abrupt("return");case 47:v=["sessionid","steamCountry","timezoneOffset","steamLoginSecure","Steam_Language","webTradeEligibility","tsTradeOffersLastRead"],chrome.cookies.getAll({domain:"steamcommunity.com"},function(){var t=Dl(Pl().mark((function t(n){var o,s,c;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=n.filter((function(t){return v.includes(t.name)})),s=o.map((function(t){return"".concat(t.name,"=").concat("Steam_Language"!==t.name?t.value:"english")})).join("; "),t.next=5,Bl(s);case 5:return t.next=7,Bs.Ay.apiRequest({method:"GET",url:"".concat(a?"".concat(a).concat(r):"https:".concat(i).concat(r))});case 7:return c=t.sent,ru.TRADES_NOTIFICATION.ts[r]=Date.now(),t.next=11,Ml();case 11:if(!Rl(c).find(".login_bottom_row_item").length){t.next=14;break}throw Error("User is not authorized");case 14:return t.next=16,e.actualizeTradesCache(c,r);case 16:t.next=24;break;case 18:return t.prev=18,t.t0=t.catch(0),console.error(t.t0),ru.TRADES_NOTIFICATION.ts[r]=Date.now(),t.next=24,Ml();case 24:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}());case 50:case"end":return t.stop()}}),t)})))),kl(this,"actualizeTradesCache",function(){var t=Dl(Pl().mark((function t(e){var r,n,o,i,a,s,c=arguments;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"tradeoffers",t.prev=1,t.next=4,qh.getCacheTradesPage(r);case 4:if(n=t.sent){t.next=9;break}return t.next=8,qh.setNewTradesPageInfo(e,r);case 8:return t.abrupt("return");case 9:(o=Rl(e).find('.tradeoffer[id^="tradeofferid_"]')).each((function(t,e){var r=Rl(e),o=r.attr("id"),i=qh.getTradeStatus(r),a=n.data.findIndex((function(t){return Object.keys(t)[0]===o}));if(-1===a){var s=kl({},o,{html:r.prop("outerHTML"),trade_offer_state:i,ts:Date.now()});n.data.push(s)}else{var c,u=Ol(n.data);try{for(u.s();!(c=u.n()).done;)for(var l=c.value,h=0,f=Object.keys(l);h<f.length;h++){var p=f[h];p===o&&l[p].trade_offer_state!==i&&(l[p]={html:r.prop("outerHTML"),trade_offer_state:i,ts:Date.now()})}}catch(t){u.e(t)}finally{u.f()}}n.data.length>50&&(n.data=n.data.sort((function(t,e){return Object.values(e)[0].ts-Object.values(t)[0].ts})),n.data.length=50)})),i=Ol(n.data),t.prev=12,s=Pl().mark((function t(){var e,r,n,i;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.value,r=Object.keys(e)[0],n=Object.values(e)[0].trade_offer_state,i=!1,2===n&&(o.each((function(t,e){var n=Rl(e).attr("id");r===n&&(i=!0)})),i||(e[r].trade_offer_state=void 0));case 5:case"end":return t.stop()}}),t)})),i.s();case 15:if((a=i.n()).done){t.next=19;break}return t.delegateYield(s(),"t0",17);case 17:t.next=15;break;case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(12),i.e(t.t1);case 24:return t.prev=24,i.f(),t.finish(24);case 27:return t.next=29,qh.updateCacheTradesPage(n.data,r);case 29:t.next=34;break;case 31:t.prev=31,t.t2=t.catch(1),t.t2;case 34:case"end":return t.stop()}}),t,null,[[1,31],[12,21,24,27]])})));return function(e){return t.apply(this,arguments)}}()),kl(this,"buildTradesInfoForController",Dl(Pl().mark((function t(){var e,r,n,o=arguments;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"tradeoffers",t.next=3,qh.getTradesFromSteamPage(e,!0);case 3:return r=t.sent,n=r.tradeOffersInfo,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))),kl(this,"buildTradesInfoForWindow",Dl(Pl().mark((function t(){var r,n,o,i,a,s,c=arguments;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>0&&void 0!==c[0]?c[0]:"tradeoffers",t.prev=1,r){t.next=4;break}throw Error("Not found required arguments");case 4:if(jl.includes(r)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,y.w.get(Ns.Ay);case 8:return n=t.sent,t.next=11,qh.isAvailableWebApi();case 11:if(o=t.sent,!o){t.next=19;break}return t.next=16,qh.getTradesFromWebApiToken(r);case 16:t.t0=t.sent,t.next=22;break;case 19:return t.next=21,qh.getTradesFromSteamPage(r);case 21:t.t0=t.sent;case 22:if(i=t.t0,a=i.tradeOffersInfo,s=i.incomingTradesLength,y.w.getLocal({skipversion:null}).then((function(t){(0,Bs.eL)(t.skipversion)&&"tradeoffers"===r&&(chrome.action.setBadgeText({text:s?"".concat(s):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))})),a&&a.length){t.next=40;break}if("tradeoffers"!==r){t.next=30;break}return t.next=30,y.w.setLocal({tradesInfo:[]});case 30:if("tradeoffers/sent"!==r){t.next=33;break}return t.next=33,y.w.setLocal({tradesInfoSent:[]});case 33:if("tradeoffers/?history=1"!==r){t.next=36;break}return t.next=36,y.w.setLocal({tradesInfoHistory:[]});case 36:if("tradeoffers/sent/?history=1"!==r){t.next=39;break}return t.next=39,y.w.setLocal({tradesInfoSentHistory:[]});case 39:return t.abrupt("return");case 40:if(a.sort((function(t,e){return e.tradeOfferId-t.tradeOfferId})),"tradeoffers"!==r){t.next=46;break}return t.next=44,y.w.setLocal({tradesInfo:a});case 44:t.next=59;break;case 46:if("tradeoffers/?history=1"!==r){t.next=51;break}return t.next=49,y.w.setLocal({tradesInfoHistory:a});case 49:t.next=59;break;case 51:if("tradeoffers/sent"!==r){t.next=56;break}return t.next=54,y.w.setLocal({tradesInfoSent:a});case 54:t.next=59;break;case 56:if("tradeoffers/sent/?history=1"!==r){t.next=59;break}return t.next=59,y.w.setLocal({tradesInfoSentHistory:a});case 59:if("tradeoffers"!==r){t.next=65;break}return n.autoaccept&&Promise.all(a.filter((function(t){return t.autoAccept})).map((function(t,r){var n=t.partnerIdProfile,o=t.tradeOfferId,i=t.sessionId;return new Promise((function(t){e.acceptIds.has(o)?t():(e.acceptIds=o,setTimeout(Dl(Pl().mark((function e(){return Pl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ql.msg.tradeAccept.handler({steamId:n,tradeOfferId:o,sessionId:i},(function(e){t(o)}));case 2:case"end":return e.stop()}}),e)}))),3e3*(r+1)))}))}))).then((function(t){t.forEach((function(t){e.removeAcceptIds(t)}))})),n.shownotify,n.autodecline,t.next=65,qh.autoAcceptSihAppOrders(a);case 65:t.next=70;break;case 67:t.prev=67,t.t1=t.catch(1),console.error(t.t1);case 70:case"end":return t.stop()}}),t,null,[[1,67]])})))),kl(this,"checkTradesBackgroundAlarm",Dl(Pl().mark((function t(){var r,n,o,i,a,s,c,u;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(r=t.sent.data,!(n=Bs.Ay.getSteamNotification(r))||!Object.keys(n).length){t.next=26;break}if(o=n.notifications,i=(void 0===o?[]:o).filter((function(t){return t.notification_type===Os.A.STEAM_NOTIFICATIONS_TYPES.TRADE})),null!==ru.TRADES_NOTIFICATION.trades){t.next=21;break}ru.TRADES_NOTIFICATION.trades=[],a=0,s=["tradeoffers","tradeoffers/sent","tradeoffers/?history=1","tradeoffers/sent/?history=1"];case 12:if(!(a<s.length)){t.next=21;break}return c=s[a],t.next=16,e.parseTrades(c,!0);case 16:return t.next=18,e.buildTradesInfoForWindow(c);case 18:a++,t.next=12;break;case 21:return u=Tl({},ru.TRADES_NOTIFICATION),t.next=24,qh.checkLastParsingTrades(i,u);case 24:return t.next=26,qh.checkLastParsingTrades(i,u,!0);case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(0),ru.TRADES_NOTIFICATION.trades=null,t.t0;case 32:case"end":return t.stop()}}),t,null,[[0,28]])})))),kl(this,"forceCheckTradesInfo",function(){var t=Dl(Pl().mark((function t(r){var n,o,i,a;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(n=t.sent.data,o=Bs.Ay.getSteamNotification(n),!qh.isAvailableWebApi()){t.next=22;break}return t.next=9,e.parseTrades(r,!0);case 9:if(r.includes("sent")){t.next=16;break}return t.next=12,e.buildTradesInfoForWindow("tradeoffers");case 12:return t.next=14,e.buildTradesInfoForWindow("tradeoffers/?history=1");case 14:t.next=20;break;case 16:return t.next=18,e.buildTradesInfoForWindow("tradeoffers/sent");case 18:return t.next=20,e.buildTradesInfoForWindow("tradeoffers/sent/?history=1");case 20:t.next=31;break;case 22:if(!o||!Object.keys(o).length){t.next=31;break}if(i=o.notifications,a=(void 0===i?[]:i).filter((function(t){return t.notification_type===Os.A.STEAM_NOTIFICATIONS_TYPES.TRADE})),ru.TRADES_NOTIFICATION.trades&&ru.TRADES_NOTIFICATION.trades.length===a.length&&!(Date.now()-ru.TRADES_NOTIFICATION.ts[r]>6e4)){t.next=31;break}return"tradeoffers"===r&&(ru.TRADES_NOTIFICATION.trades=a||[]),t.next=29,e.parseTrades(r,!0);case 29:return t.next=31,e.buildTradesInfoForWindow(r);case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(0),ru.TRADES_NOTIFICATION.trades=null,t.t0;case 37:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e){return t.apply(this,arguments)}}()),kl(this,"getTradeInfoByOfferId",function(){var t=Dl(Pl().mark((function t(e,r){var n,o;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffer/v1/",data:{access_token:e,tradeofferid:r}});case 3:return n=t.sent,o=n.response,t.abrupt("return",o);case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),kl(this,"getLastTrades",function(){var t=Dl(Pl().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p,d;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.get_descriptions=1,t.next=3,y.w.get({webApiToken:""});case 3:return n=t.sent,o=n.webApiToken,t.next=7,qh.isAvailableWebApi();case 7:if(i=t.sent,o){t.next=10;break}throw Error("Not found apikey");case 10:if(i){t.next=12;break}throw Error("Api is not available");case 12:return t.next=14,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffers/v1/",data:Tl(Tl({},r),{},{access_token:o})});case 14:if(a=t.sent,null==r||!r.get_received_offers){t.next=30;break}return s=["tradeoffers","tradeoffers/?history=1"],t.next=19,qh.updateTradesApiCache(a.response,"tradeoffers");case 19:if(null!=r&&r.active_only){t.next=22;break}return t.next=22,qh.updateTradesApiCache(a.response,"tradeoffers/?history=1");case 22:c=0,u=s;case 23:if(!(c<u.length)){t.next=30;break}return l=u[c],t.next=27,e.buildTradesInfoForWindow(l);case 27:c++,t.next=23;break;case 30:if(null==r||!r.get_sent_offers){t.next=45;break}return h=["tradeoffers/sent","tradeoffers/sent/?history=1"],t.next=34,qh.updateTradesApiCache(a.response,"tradeoffers/sent");case 34:if(null!=r&&r.active_only){t.next=37;break}return t.next=37,qh.updateTradesApiCache(a.response,"tradeoffers/sent/?history=1");case 37:f=0,p=h;case 38:if(!(f<p.length)){t.next=45;break}return d=p[f],t.next=42,e.buildTradesInfoForWindow(d);case 42:f++,t.next=38;break;case 45:return t.abrupt("return",a);case 46:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),kl(this,"getTradesSummary",function(){var t=Dl(Pl().mark((function t(r){var n,o,i,a;return Pl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.accountId,t.prev=1,t.next=4,e.getLastTrades({get_received_offers:1,get_sent_offers:1});case 4:return o=t.sent,i=o.response.trade_offers_received.filter((function(t){return t.accountid_other.toString()===n})).sort((function(t,e){return e.time_created-t.time_created})),a=o.response.trade_offers_sent.filter((function(t){return t.accountid_other.toString()===n})).sort((function(t,e){return e.time_created-t.time_created})),t.abrupt("return",{receivedCount:i.length||0,receivedLast:i.length?i[0]:null,sentCount:a.length||0,sentLast:a.length?a[0]:null});case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())}return function(t,e,r){return e&&Ll(t.prototype,e),r&&Ll(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"acceptIds",get:function(){return t._acceptIdsSet},set:function(e){t._acceptIdsSet.add(e)}}])}();kl(Gl,"_acceptIdsSet",new Set);const Ul=new Gl;function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}function ql(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ql(Object(r),!0).forEach((function(e){Yl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Kl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Hl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Hl(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Yl(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Hl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hl(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wl(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return zl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Xl(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xl(i,n,o,a,s,"next",t)}function s(t){Xl(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Jl=function(){var t=$l(Kl().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d,v;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,o=e.tradeState,i=e.endPoint,a=void 0===i?"tradeoffers":i,t.next=3,y.w.getLocal("".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"));case 3:return t.t0="".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"),s=t.sent[t.t0],t.next=7,qh.isAvailableWebApi();case 7:c=t.sent,l=Wl(s),t.prev=9,l.s();case 11:if((h=l.n()).done){t.next=22;break}if((f=h.value).tradeOfferId!==n){t.next=20;break}if(u=Object.assign({},f),-1===(p=s.indexOf(f))){t.next=20;break}return s.splice(p,1),t.next=20,qh.updateTradeOfferStateInCache(n,o,a);case 20:t.next=11;break;case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(9),l.e(t.t1);case 27:return t.prev=27,l.f(),t.finish(27);case 30:return t.next=32,y.w.setLocal(Yl({},"".concat("tradeoffers"===a?"tradesInfo":"tradesInfoSent"),s));case 32:if(!c){t.next=35;break}return t.next=35,Ul.parseTrades(a,!0);case 35:if("tradeoffers"!==a){t.next=47;break}return chrome.action.setBadgeText({text:"".concat(s.length>0?s.length:"")}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}),t.next=40,y.w.getLocal("tradesInfoHistory");case 40:return d=t.sent,v=d.tradesInfoHistory,u.tradeStatus="accepted"===o,u.tradeBannerText="accepted"===o?"Trade Accepted":"Trade Declined",v.unshift(u),t.next=47,y.w.setLocal({tradesInfoHistory:v});case 47:r({success:!0});case 48:case"end":return t.stop()}}),t,null,[[9,24,27,30]])})));return function(e,r){return t.apply(this,arguments)}}();const Ql={msg:{parseTrades:{code:Os.A.msg.BACKGROUND_TRADEOFFER_THROUGH_PARSING,handler:(ch=$l(Kl().mark((function t(e){var r,n,o,i,a,s,c,u,l;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.txtResponse,n=void 0===r?null:r,o=e.endPoint,t.next=3,qh.isAvailableWebApi();case 3:if(i=t.sent,null===n){t.next=13;break}if(i){t.next=11;break}return ru.TRADES_NOTIFICATION.ts[o]=Date.now(),t.next=9,Ul.actualizeTradesCache(n,o);case 9:return t.next=11,Ul.buildTradesInfoForWindow(o);case 11:t.next=27;break;case 13:return t.next=15,y.w.getLocal("userInfo");case 15:if(a=t.sent,!(s=a.userInfo)||!s.authorization){t.next=27;break}c=0,u=["tradeoffers","tradeoffers/sent"];case 20:if(!(c<u.length)){t.next=27;break}return l=u[c],t.next=24,Ul.forceCheckTradesInfo(l);case 24:c++,t.next=20;break;case 27:case"end":return t.stop()}}),t)}))),function(t){return ch.apply(this,arguments)})},getLastTrades:{code:Os.A.msg.BACKGROUND_GET_LAST_TRADES,handler:(sh=$l(Kl().mark((function t(e,r){var n;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ul.getLastTrades(e);case 3:n=t.sent,r(Vl(Vl({},n),{},{success:!0})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return sh.apply(this,arguments)})},tradeAccept:{code:Os.A.msg.BACKGROUND_TRADE_ACCEPT,handler:(ah=$l(Kl().mark((function t(e,r){var n,o,i,a;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,o=e.tradeOfferId,i=e.sessionId,t.prev=1,t.next=4,qh.acceptTradeOffer(n,o,i);case 4:if(!(a=t.sent).status||"error"!==a.status){t.next=8;break}return r(a),t.abrupt("return");case 8:if(!a.needs_mobile_confirmation&&!a.needs_email_confirmation){t.next=12;break}r({success:!0,status:"await"}),t.next=14;break;case 12:return t.next=14,Jl({tradeOfferId:o,tradeState:"accepted"},r);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),t.t0,r(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,16]])}))),function(t,e){return ah.apply(this,arguments)})},tradeDecline:{code:Os.A.msg.BACKGROUND_TRADE_DECLINE,handler:(ih=$l(Kl().mark((function t(e,r){var n,o;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,t.prev=1,t.next=4,qh.declineTradeOffer(n);case 4:if(!(o=t.sent).status||"error"!==o.status){t.next=8;break}return r(o),t.abrupt("return");case 8:return t.next=10,Jl({tradeOfferId:n,tradeState:"declined"},r);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0,r(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(t,e){return ih.apply(this,arguments)})},tradeCancel:{code:Os.A.msg.BACKGROUND_TRADE_CANCEL,handler:(oh=$l(Kl().mark((function t(e,r){var n,o;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,t.prev=1,t.next=4,qh.cancelTradeOffer(n);case 4:if(!(o=t.sent).status||"error"!==o.status){t.next=8;break}return r(o),t.abrupt("return");case 8:return t.next=10,Jl({tradeOfferId:n,tradeState:"canceled",endPoint:"tradeoffers/sent"},r);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0,r(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(t,e){return oh.apply(this,arguments)})},updateTradeStatus:{code:Os.A.msg.BACKGROUND_UPDATE_TRADE_STATUS,handler:(nh=$l(Kl().mark((function t(e,r){var n,o;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tradeOfferId,o=e.tradeState,t.prev=1,t.next=4,Jl({tradeOfferId:n,tradeState:o},r);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),t.t0,r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),function(t,e){return nh.apply(this,arguments)})},getTradesSummary:{code:"BACKGROUND_GET_TRADES_SUMMARY",handler:(rh=$l(Kl().mark((function t(e,r){var n;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ul.getTradesSummary(e);case 3:n=t.sent,r(Vl({success:!0},n)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,e:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return rh.apply(this,arguments)})}},alarm:{parseTradesFromPage:{code:Os.A.alarm.CHECK_TRADEOFFER_THROUGH_PARSING,handler:(eh=$l(Kl().mark((function t(){var e,r,n;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return e=t.sent,r=e.userInfo,t.next=6,qh.isAvailableWebApi();case 6:if(n=t.sent,!r||!r.authorization||n){t.next=10;break}return t.next=10,Ul.checkTradesBackgroundAlarm();case 10:case"end":return t.stop()}}),t)}))),function(){return eh.apply(this,arguments)})},parseTradesFromApi:{code:Os.A.alarm.CHECK_TRADEOFFER_THROUGH_API,handler:(th=$l(Kl().mark((function t(){var e,r,n,o,i,a,s,c,u;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:return e=t.sent,r=e.userInfo,t.next=6,qh.isAvailableWebApi();case 6:if(n=t.sent,!(r&&r.authorization&&n)){t.next=26;break}o=0,i=["tradeoffers","tradeoffers/sent"];case 10:if(!(o<i.length)){t.next=17;break}return a=i[o],t.next=14,Ul.parseTrades(a,!0);case 14:o++,t.next=10;break;case 17:s=0,c=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];case 19:if(!(s<c.length)){t.next=26;break}return u=c[s],t.next=23,Ul.buildTradesInfoForWindow(u);case 23:s++,t.next=19;break;case 26:case"end":return t.stop()}}),t)}))),function(){return th.apply(this,arguments)})},clearRequestLimit:{code:Os.A.alarm.CLEAR_TRADEOFFER_REQUEST_LIMIT,handler:(Zl=$l(Kl().mark((function t(){return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.setLocal({TRADE_REQUEST_LIMIT_COUNT:0});case 2:case"end":return t.stop()}}),t)}))),function(){return Zl.apply(this,arguments)})}}};var Zl,th,eh,rh,nh,oh,ih,ah,sh,ch;function uh(t){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(t)}function lh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lh=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==uh(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(uh(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hh(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function fh(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hh(i,n,o,a,s,"next",t)}function s(t){hh(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ph(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vh(n.key),n)}}function dh(t,e,r){return e&&ph(t.prototype,e),r&&ph(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yh(t,e,r){return(e=vh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vh(t){var e=function(t,e){if("object"!=uh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=uh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uh(e)?e:e+""}var mh=dh((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));yh(mh,"updateSendHeaders",function(){var t=fh(lh().mark((function t(e){var r;return lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(e);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/tradeoffer/new"},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={regexFilter:e},r={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),yh(mh,"updateAcceptHeaders",function(){var t=fh(lh().mark((function t(e,r){var n;return lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:e},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={regexFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const gh=mh;var bh,wh=function(){var t=fh(lh().mark((function t(e){var r,n,o,i,a,s,c,u;return lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.statusCode,n=e.url,e.initiator,n.includes("tradeoffers")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.w.get({tradeoffers_rate_limit:!1});case 5:return o=t.sent,i=o.tradeoffers_rate_limit,t.next=9,y.w.get(Ns.Ay);case 9:if(a=t.sent,s=a.userUrl,c=a.originalProfileUrl,["tradeoffers","tradeoffers/sent","tradeoffers/?history=1"].map((function(t){return"".concat(c?"".concat(c).concat(t):"https:".concat(s).concat(t))})),(u=429===r||200!==r&&i)===i){t.next=18;break}return t.next=18,y.w.set({tradeoffers_rate_limit:u});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Eh(t){return function(t){if(Array.isArray(t))return Th(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ah(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xh(Object(r),!0).forEach((function(e){Ch(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _h(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ah(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ah(t,e){if(t){if("string"==typeof t)return Th(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Th(t,e):void 0}}function Th(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lh=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Oh(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Oh(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function kh(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ih(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kh(i,n,o,a,s,"next",t)}function s(t){kh(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Oh(t){return Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(t)}function Nh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dh(n.key),n)}}function Ph(t,e,r){return e&&Nh(t.prototype,e),r&&Nh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ch(t,e,r){return(e=Dh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dh(t){var e=function(t,e){if("object"!=Oh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oh(e)?e:e+""}chrome.webRequest.onCompleted.addListener(wh,{urls:["https://steamcommunity.com/profiles/*","https://steamcommunity.com/id/*"]});var Rh=Is(""),Fh=["steamLiveSell","buff163","dmarket","lisskins","bitskins","skinport","mannco","steamlvlup"],jh={ACTIVE:2,ACCEPTED:3,COUNTERED:4,EXPIRED:5,CANCELED:6,DECLINED:7,INVALID_ITEMS:8,CREATED_NEEDS_CONFIRMATION:9},Bh={},Mh=new Map,Gh=new Map,Uh=new Map,Hh=Ph((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));bh=Hh,Ch(Hh,"isAvailableWebApi",Ih(Lh().mark((function t(){var e,r,n,o,i,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({webApiToken:""});case 3:return e=t.sent,r=e.webApiToken,n=void 0===r?"":r,t.next=8,y.w.get({is_available_trade_web_api:!1});case 8:return o=t.sent,i=o.is_available_trade_web_api,a=void 0!==i&&i,t.abrupt("return",!!n&&a);case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))),Ch(Hh,"getTradesFromSteamPage",Ih(Lh().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:"tradeoffers",r=p.length>1&&void 0!==p[1]&&p[1],t.prev=2,t.next=5,y.w.getLocal("userInfo");case 5:return n=t.sent,o=n.userInfo,t.next=9,bh.getCacheTradesPage(e);case 9:return i=t.sent,t.next=12,ru.getProfile();case 12:if(a=t.sent.data,s=Bs.Ay.getSessionID(a),c=[],i&&i.data&&i.data.length){t.next=17;break}return t.abrupt("return",{});case 17:u=i.data.filter((function(t){var r=Object.values(t)[0].trade_offer_state;return e.includes("history")?e.includes("sent")?r!==Os.A.tradeOfferState.Active&&r===Os.A.tradeOfferState.CreatedNeedsConfirmation:r!==Os.A.tradeOfferState.Active:e.includes("sent")?r===Os.A.tradeOfferState.Active||r===Os.A.tradeOfferState.CreatedNeedsConfirmation:r===Os.A.tradeOfferState.Active})),e.includes("history")&&u.length>10&&(u.length=10),l=_h(u),t.prev=20,f=Lh().mark((function t(){var n,i,a,u,l,f,p,d,y,v,m,g,b,w,E,x,S,_,A;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.value,i=Rh(Object.values(n)[0].html),a=Object.values(n)[0].trade_offer_state,u=i.attr("id").substring(13),l=i.find(".tradeoffer_partner .playerAvatar").data("miniprofile"),f=i.find(".tradeoffer_items.primary .playerAvatar img").attr("src"),p=0===i.find(".tradeoffer_items.secondary .trade_item").length,d=i.find(".tradeoffer_message .quote").text().trim(),y=i.find(".tradeoffer_footer"),Rh(y).each((function(t,e){v=Rh(e).contents().filter((function(){return 3===this.nodeType}))})),v=v[1]&&v[1].nodeValue?v[1].nodeValue:"",m=i.find(".tradeoffer_items_banner").text().trim(),g=i.find(".btn_report"),b=g&&g.length?g.attr("onclick").match(/'(\d*)',\s"(.+)"/):void 0,w=b?b[1]:void 0,E=i.find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/),x=E[1],S=E[2],_=S.match(/\\u[\w\d]{4}/g),r){t.next=28;break}return t.t1=Sh,t.t2={sessionId:s,tradeOfferId:u,partnerName:_?bh.getHexFromUnicode(S,_):S,partnerIdProfile:x,partnerMiniProfileId:l,partnerAvatarUrl:f,message:d,autoAccept:p,dateOfferExpires:v.trim(),tradeOfferState:a,tradeStatus:"tradeoffers"!==e?3===a:null,tradeBannerText:"tradeoffers"!==e?m:null},t.next=24,bh.getTradeFullItemsInfo({endPoint:e,tradeOfferId:u,$tradeBlock:i});case 24:t.t3=t.sent,t.t0=(0,t.t1)(t.t2,t.t3),t.next=29;break;case 28:t.t0={tradeOfferId:u,senderId:e.includes("sent")?o.steamId:w,recipientId:e.includes("sent")?x:o.steamId,message:d,dateOfferExpires:bh.getDateStringToTimestamp(v.trim())||void 0,trade_offer_state:bh.getTradeStatus(i)};case 29:A=t.t0,c.push(A);case 31:case"end":return t.stop()}}),t)})),l.s();case 23:if((h=l.n()).done){t.next=27;break}return t.delegateYield(f(),"t0",25);case 25:t.next=23;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(20),l.e(t.t1);case 32:return t.prev=32,l.f(),t.finish(32);case 35:return t.abrupt("return",{tradeOffersInfo:c,incomingTradesLength:"tradeoffers"===e?u.length:0});case 38:return t.prev=38,t.t2=t.catch(2),t.t2,t.abrupt("return",{});case 42:case"end":return t.stop()}}),t,null,[[2,38],[20,29,32,35]])})))),Ch(Hh,"getTradesFromWebApiToken",Ih(Lh().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,y,v,m,g,b,w,E,x,S,_=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_.length>0&&void 0!==_[0]?_[0]:"tradeoffers",t.prev=1,t.next=4,bh.getCacheTradesApi(e);case 4:if(r=t.sent,n=r.data){t.next=8;break}return t.abrupt("return",{});case 8:if(o=e.includes("sent")?null!=n&&n.trade_offers_sent?n.trade_offers_sent:null:null!=n&&n.trade_offers_received?n.trade_offers_received:null,i=[],o&&o.length){t.next=12;break}return t.abrupt("return",{});case 12:return a=o.filter((function(t){return e.includes("history")?e.includes("sent")?t.trade_offer_state!==Os.A.tradeOfferState.Active&&t.trade_offer_state!==Os.A.tradeOfferState.CreatedNeedsConfirmation:t.trade_offer_state!==Os.A.tradeOfferState.Active:e.includes("sent")?t.trade_offer_state===Os.A.tradeOfferState.Active||t.trade_offer_state===Os.A.tradeOfferState.CreatedNeedsConfirmation:t.trade_offer_state===Os.A.tradeOfferState.Active})),t.next=15,ru.getProfile();case 15:s=t.sent.data,c=Bs.Ay.getSessionID(s),e.includes("history")&&a.length>10&&(a.length=10),u=_h(a),t.prev=19,u.s();case 21:if((l=u.n()).done){t.next=39;break}return h=l.value,f=h.accountid_other,p=h.tradeofferid,d=h.message,y=void 0===d?"":d,v=h.items_to_give,m=h.expiration_time,g=h.trade_offer_state,b=!v||!v.length,t.next=27,bh.getPartnerInfoByMiniProfileId(f);case 27:return w=t.sent,E=w.avatar_url,x=w.persona_name,t.t0=Sh,t.t1={sessionId:c,tradeOfferId:p,partnerName:x,partnerIdProfile:Gs().to64(f),partnerMiniProfileId:f,partnerAvatarUrl:E,message:y,autoAccept:b,dateOfferExpires:new Date(1e3*m).toDateString(),tradeOfferState:g,tradeStatus:"tradeoffers"!==e?3===g:null,tradeBannerText:null},t.next=34,bh.getTradeFullItemsInfo({endPoint:e,tradeOfferId:p,tradeObj:h});case 34:t.t2=t.sent,S=(0,t.t0)(t.t1,t.t2),i.push(S);case 37:t.next=21;break;case 39:t.next=44;break;case 41:t.prev=41,t.t3=t.catch(19),u.e(t.t3);case 44:return t.prev=44,u.f(),t.finish(44);case 47:return t.abrupt("return",{tradeOffersInfo:i,incomingTradesLength:"tradeoffers"===e?a.length:0});case 50:return t.prev=50,t.t4=t.catch(1),t.t4,t.abrupt("return",{});case 54:case"end":return t.stop()}}),t,null,[[1,50],[19,41,44,47]])})))),Ch(Hh,"setNewTradesPageInfo",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a,s,c;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId,s=Rh(e).find(".profile_leftcol"),c=s.find(".tradeoffer").not(".tradeoffer_rule"),a){t.next=13;break}return t.abrupt("return");case 13:return o[a]=Sh(Ch({},r,{data:[],ts:Date.now()}),o[a]),Rh(c).each((function(t,e){var n=Rh(e),i=n.attr("id"),s=Ch({},i,{html:n.prop("outerHTML"),trade_offer_state:bh.getTradeStatus(n),ts:Date.now()}),c=o[a][r].data,u=c.findIndex((function(t){return Object.keys(t)[0]===i}));c.length&&-1!==u||c.push(s)})),t.next=17,y.w.setLocal({CACHED_TRADES_PAGE_INFO:o});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"getCacheTradesPage",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return r=t.sent,n=r.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(o=t.sent,i=o.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:if(n&&n[i]&&n[i][e]){t.next=13;break}return t.abrupt("return",null);case 13:return t.abrupt("return",n[i][e]);case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getCacheTradesApi",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_API_INFO:{}});case 3:return r=t.sent,n=r.CACHED_TRADES_API_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(o=t.sent,i=o.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:if(n&&n[i]&&n[i][e]){t.next=13;break}return t.abrupt("return",{});case 13:return t.abrupt("return",n[i][e]);case 16:return t.prev=16,t.t0=t.catch(0),t.t0,t.abrupt("return",{});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"updateCacheTradesPage",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_PAGE_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_PAGE_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:return o[a][r].data=Eh(e),t.next=14,y.w.setLocal({CACHED_TRADES_PAGE_INFO:o});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"updateTradesApiCache",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({CACHED_TRADES_API_INFO:{}});case 3:return n=t.sent,o=n.CACHED_TRADES_API_INFO,t.next=7,y.w.getLocal({userInfo:{steamId:null}});case 7:if(i=t.sent,a=i.userInfo.steamId){t.next=11;break}throw Error("Not found steamId");case 11:return o&&o[a]&&o[a][r]?(o[a][r].data=e,o[a][r].ts=Date.now()):o[a]=Sh(Ch({},r,{data:e,ts:Date.now()}),o[a]),t.next=14,y.w.setLocal({CACHED_TRADES_API_INFO:o});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"updateTradeOfferStateInCache",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a,s,c=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:"tradeoffers",e){t.next=3;break}throw Error("Not found tradeId");case 3:if(r){t.next=5;break}throw Error("Not found tradeState");case 5:return t.next=7,bh.getCacheTradesPage(n);case 7:if(o=t.sent,i="tradeofferid_".concat(e),o&&!o.error&&o.data){t.next=11;break}throw Error(o.error||"Not found trades in cache");case 11:if(a=o.data.findIndex((function(t){return Object.keys(t)[0]===i})),"tradeoffers/?history=1"===n){t.next=27;break}if(-1===a){t.next=27;break}return o.data[a][i].trade_offer_state=jh[r.toUpperCase()],o.data[a][i].ts=Date.now(),t.next=18,bh.updateCacheTradesPage(o.data,n);case 18:if("tradeoffers"!==n){t.next=27;break}return t.next=21,bh.getCacheTradesPage("tradeoffers/?history=1");case 21:if(s=t.sent,o&&!s.error&&s.data){t.next=24;break}throw Error(s.error||"Not found history trades in cache");case 24:return s.data.unshift(o.data[a]),t.next=27,bh.updateCacheTradesPage(s.data,"tradeoffers/?history=1");case 27:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"getTradeStatus",(function(t){if(!t.find(".tradeoffer_items_banner").length)return jh.ACTIVE;if(t.find(".tradeoffer_items_banner").hasClass("accepted"))return jh.ACCEPTED;var e=t.find(".tradeoffer_items_banner").text().trim();return e.toLowerCase().includes("counter")?jh.COUNTERED:e.toLowerCase().includes("expired")?jh.EXPIRED:e.toLowerCase().includes("cancel")?jh.CANCELED:e.toLowerCase().includes("declined")?jh.DECLINED:e.toLowerCase().includes("unavailable")?jh.INVALID_ITEMS:e.toLowerCase().includes("confirmation")?jh.CREATED_NEEDS_CONFIRMATION:void 0})),Ch(Hh,"getTradeFullItemsInfo",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_,A,T,L;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.endPoint,n=e.tradeOfferId,o=e.$tradeBlock,i=void 0===o?null:o,a=e.tradeObj,s=void 0===a?null:a,t.next=3,y.w.get("steamCurrency");case 3:return c=t.sent,u=c.steamCurrency,t.next=7,y.w.get("currency");case 7:return l=t.sent,h=l.currency,f=h||u.eCurrencyCode||1,p=bh.getStorageKey(r),t.next=13,y.w.getLocal(p);case 13:if(t.t0=p,d=t.sent[t.t0],!(v=d&&d.find((function(t){return t.tradeOfferId===n}))||null)){t.next=18;break}return t.abrupt("return",{primary:v.primary,secondary:v.secondary});case 18:return m=i?i.find(".trade_item"):null,g=i?i.find(".tradeoffer_items.primary").find(".trade_item"):null,b=i?i.find(".tradeoffer_items.secondary").find(".trade_item"):null,w=bh.getClassIdArray({$tradeItems:m,tradeObj:s}),t.next=24,bh.getClassIdPrices(w);case 24:return E=t.sent,t.next=27,bh.getTradeInfo(r,E,g,null==s?void 0:s.items_to_receive);case 27:return x=t.sent,t.next=30,bh.getTradeInfo(r,E,b,null==s?void 0:s.items_to_give);case 30:return S=t.sent,_=bh.getSumPriceElement(x),A=bh.getSumPriceElement(S),t.next=35,fl.A.getPriceFromCurrency(_,f);case 35:return T=t.sent,t.next=38,fl.A.getPriceFromCurrency(A,f);case 38:return L=t.sent,t.abrupt("return",{primary:{items:x,totalPrice:T},secondary:{items:S,totalPrice:L}});case 40:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getClassIdArray",(function(t){var e=t.$tradeItems,r=void 0===e?null:e,n=t.tradeObj,o=void 0===n?null:n,i=[];return r?r.each(function(){var t=Ih(Lh().mark((function t(e,r){var n,o,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:5===(n=Rh(r).attr("data-economy-item").split("/")).length&&n.pop(),3!==n.length&&4!==n.length||(o=n[1],a=n[2],i.push({appid:Number(o),classid:Number(a)}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()):o&&(null!=o&&o.items_to_give&&i.push.apply(i,Eh(o.items_to_give)),null!=o&&o.items_to_receive&&i.push.apply(i,Eh(o.items_to_receive))),i})),Ch(Hh,"getClassIdPrices",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({sih_app_jwt:{}});case 3:return r=t.sent,n=r.sih_app_jwt,o=chrome.runtime.getManifest(),i=o.version,t.next=8,Bs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(n).length?n.token:"","x-sih-version":i},method:"POST",url:"https://api.steaminventoryhelper.com/v1/classIdPrices",data:{items:e,markets:[].concat(Fh)}});case 8:return a=t.sent,t.abrupt("return",a);case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getItemImageFromApiCacheDescription",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a,s,c;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.appId,o=r.classId,r.instanceId,t.next=3,bh.getCacheTradesApi(e);case 3:if(i=t.sent,a=i.data){t.next=7;break}return t.abrupt("return",null);case 7:if(s=a.descriptions,(c=s&&s.find((function(t){return t.appid===n&&t.classid===o}))||null)&&c.icon_url){t.next=11;break}return t.abrupt("return","https://steamcommunity-a.akamaihd.net/economy/image/class/".concat(n,"/").concat(o));case 11:return t.abrupt("return","https://community.akamai.steamstatic.com/economy/image/".concat(c.icon_url));case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"getItemImageFromItemClassHover",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i,a,s;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=function(){return s=Ih(Lh().mark((function t(e){var r,n,o,i;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uh.get(e);case 2:r=t.sent,n=/BuildHover\( '(.*)', (.*)\);/i.exec(r),o=n&&null!=n&&n[2]?JSON.parse(n[2]):null,i=o?"https://community.akamai.steamstatic.com/economy/image/".concat(null==o?void 0:o.icon_url):null,Gh.set(e,i),Uh.delete(e);case 8:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)},a=function(t){return s.apply(this,arguments)},r=e.appId,n=e.classId,o=e.instanceId,t.prev=3,i="".concat(r,"_").concat(n,"_").concat(o),Gh.has(i)||Uh.has(i)){t.next=9;break}return Uh.set(i,Bs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/economy/itemclasshover/".concat(r,"/").concat(n,"/").concat(o),data:{content_only:1,l:"english"}})),t.next=9,a(i);case 9:if(!Gh.has(i)){t.next=13;break}return t.abrupt("return",Gh.get(i));case 13:if(!Uh.has(i)){t.next=17;break}return t.next=16,a(i);case 16:return t.abrupt("return",Gh.get(i)||null);case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(3),t.t0,t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[3,19]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getSingleTradePage",function(){var t=Ih(Lh().mark((function t(e){var r;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Bh[e]&&!(Date.now()-Bh[e].ts>6e4)){t.next=7;break}return t.next=3,Bs.Ay.sendRequest({url:"https://steamcommunity.com/tradeoffer/".concat(e,"/"),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:r=t.sent,Bh[e]={data:r,ts:Date.now()},t.next=8;break;case 7:r=Bh[e].data;case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getTradeAssetIds",function(){var t=Ih(Lh().mark((function t(e){var r,n,o;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bh.getSingleTradePage(e);case 2:return r=t.sent,n=Ps.A.Profile.parse(r,["activeTradeInfo"]),o=n.activeTradeInfo,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getFloatDataList",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i,a,s,c,u;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bh.getSingleTradePage(e);case 3:r=t.sent,n=Ps.A.Profile.parse(r,["currentTradeAssetIds"]),o=n.currentTradeAssetIds,i=[],a=_h(o),t.prev=7,a.s();case 9:if((s=a.n()).done){t.next=17;break}return c=s.value,t.next=13,bh.getWearFloatValueByAssetid(c[1]);case 13:(u=t.sent).success&&i.push(u.iteminfo);case 15:t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),a.e(t.t0);case 22:return t.prev=22,a.f(),t.finish(22);case 25:return t.abrupt("return",i);case 28:t.prev=28,t.t1=t.catch(0),t.t1;case 31:case"end":return t.stop()}}),t,null,[[0,28],[7,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getWearFloatValueByAssetid",function(){var t=Ih(Lh().mark((function t(e){var r,n,o,i,a;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=chrome.runtime.getManifest(),n=r.version,t.next=4,y.w.get({sih_app_jwt:{}});case 4:return o=t.sent,i=o.sih_app_jwt,t.next=8,Bs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(i).length?i.token:"","x-sih-version":n},method:"GET",url:"https://floats.steaminventoryhelper.com/get_by_asset_id",data:{assetId:e}});case 8:return a=t.sent,t.abrupt("return",a);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"setFloatToArray",(function(t,e){return Rh(t).each((function(r,n){Rh(e).each((function(e,o){n.name===o.full_item_name&&(t[r].floatData=o)}))})),t})),Ch(Hh,"getTradeInfo",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d,y=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=y.length>3&&void 0!==y[3]?y[3]:null,i=[],!(n=y.length>2&&void 0!==y[2]?y[2]:null)){t.next=7;break}n.each(function(){var t=Ih(Lh().mark((function t(e,n){var o,a,s,c,u;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Rh(n).children("img").attr("src"),5===(a=Rh(n).attr("data-economy-item").split("/")).length&&a.pop(),3!==a.length&&4!==a.length||(u=a[2],null!=r&&null!==(s=r.items)&&void 0!==s&&null!==(c=s[u])&&void 0!==c&&c.name?i.push(Sh({name:r.items[u].name,image:o,classid:u},bh.getMarketDataPrice(r,u))):i.push({image:o,classid:u,price:null}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),t.next=28;break;case 7:if(!o){t.next=28;break}a=_h(o),t.prev=9,a.s();case 11:if((s=a.n()).done){t.next=20;break}return l=s.value,h=l.appid,f=l.classid,p=l.instanceid,t.next=16,bh.getItemImageFromApiCacheDescription(e,{appId:h,classId:f,instanceId:p});case 16:d=t.sent,null!=r&&null!==(c=r.items)&&void 0!==c&&null!==(u=c[f])&&void 0!==u&&u.name?i.push(Sh({name:r.items[f].name,image:d,classid:f},bh.getMarketDataPrice(r,f))):i.push({image:d,classid:f,price:null});case 18:t.next=11;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),a.e(t.t0);case 25:return t.prev=25,a.f(),t.finish(25);case 28:return t.abrupt("return",i);case 29:case"end":return t.stop()}}),t,null,[[9,22,25,28]])})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"getMarketDataPrice",(function(t,e){for(var r={price:null},n=0,o=Fh;n<o.length;n++){var i,a,s,c,u=o[n];if(null!=t&&null!==(i=t.items)&&void 0!==i&&null!==(a=i[e])&&void 0!==a&&null!==(s=a.markets)&&void 0!==s&&null!==(c=s[u])&&void 0!==c&&c.price){Object.assign(r,{price:t.items[e].markets[u].price,market:u});break}}return r})),Ch(Hh,"getSumPriceElement",(function(t){return t.length?t.reduce((function(t,e){return t+e.price}),0):0})),Ch(Hh,"acceptTradeOffer",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i,a,s,c,u=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:null,o="https:\\/\\/steamcommunity.com\\/tradeoffer\\/(\\d+)\\/accept",t.prev=2,n){t.next=8;break}return t.next=6,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com"});case 6:i=t.sent,n=Bs.Ay.getSessionID(i);case 8:return a={sessionid:n,serverid:1,tradeofferid:r,partner:e,captcha:""},s="https://steamcommunity.com/tradeoffer/".concat(r),t.next=12,gh.updateAcceptHeaders(s,o);case 12:return t.next=14,Bs.Ay.apiRequest({url:"".concat(s,"/accept"),data:a,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return c=t.sent,t.next=17,Sl.removeRule(o);case 17:return t.abrupt("return",c);case 20:return t.prev=20,t.t0=t.catch(2),console.error(t.t0),t.next=25,Sl.removeRule(o);case 25:return t.abrupt("return",{success:!1,status:"error"});case 26:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"declineTradeOffer",function(){var t=Ih(Lh().mark((function t(e){var r,n;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{}});case 3:return r=t.sent,n=r.userInfo,t.next=7,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(e,"/decline"),data:{sessionid:n.sessionId},crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,status:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"cancelTradeOffer",function(){var t=Ih(Lh().mark((function t(e){var r,n;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{}});case 3:return r=t.sent,n=r.userInfo,t.next=7,Bs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(e,"/cancel"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:n.sessionId}});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,status:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"autoAcceptSihAppOrders",function(){var t=Ih(Lh().mark((function t(e){var r,n,o;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppOrdersHistory");case 3:r=t.sent,(n=r.sihAppOrdersHistory)&&n.success&&!n.tfaNeed&&n.orders.data.length&&(o=n.orders.data.filter((function(t){return"sent"===t.status})))&&o.length&&Promise.all(e.filter((function(t){return t.autoAccept})).map((function(t,e){var r=t.partnerIdProfile,n=t.tradeOfferId,i=t.sessionId;return new Promise((function(t){var a=o.find((function(t){return+t.sender.offerId==+n}));!Ul.acceptIds.has(n)&&a?(Ul.acceptIds=n,setTimeout(Ih(Lh().mark((function e(){return Lh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ql.msg.tradeAccept.handler({steamId:r,tradeOfferId:n,sessionId:i},(function(e){t(n)}));case 2:case"end":return e.stop()}}),e)}))),3e3*(e+1))):t()}))}))).then((function(t){t.forEach((function(t){Ul.removeAcceptIds(t)}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"checkLastParsingTrades",function(){var t=Ih(Lh().mark((function t(e,r){var n,o,i=arguments;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>2&&void 0!==i[2]&&i[2],e.length?o=r.trades.length&&r.trades.length===e.length?e.map((function(t){if(-1===r.trades.findIndex((function(e){return t.body_data===e.body_data})))return t})).filter((function(t){return t})):Eh(e):r.trades.length&&(o=[null]),!(o&&o.length&&Date.now()-(n?ru.TRADES_NOTIFICATION.ts["tradeoffers/?history=1"]:ru.TRADES_NOTIFICATION.ts.tradeoffers)>3e5)){t.next=19;break}if(ru.TRADES_NOTIFICATION.trades=Eh(e)||[],!n){t.next=11;break}return t.next=7,Ul.parseTrades("tradeoffers/?history=1",!0);case 7:return t.next=9,Ul.buildTradesInfoForWindow("tradeoffers/?history=1");case 9:t.next=19;break;case 11:return t.next=13,Ul.parseTrades("tradeoffers",!0);case 13:return t.next=15,Ul.parseTrades("tradeoffers/sent",!0);case 15:return t.next=17,Ul.buildTradesInfoForWindow("tradeoffers");case 17:return t.next=19,Ul.buildTradesInfoForWindow("tradeoffers/sent");case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Ch(Hh,"getPartnerInfoByMiniProfileId",function(){var t=Ih(Lh().mark((function t(e){var r;return Lh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return",{});case 3:if(Mh.has(e)){t.next=8;break}return t.next=6,Bs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/miniprofile/".concat(e,"/json")});case 6:r=t.sent,Mh.set(e,r);case 8:return t.abrupt("return",Mh.get(e));case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",{});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),Ch(Hh,"getHexFromUnicode",(function(t,e){for(var r=0;r<e.length;r++)if(t.includes(e[r])){var n=e[r].replace(/\\u/,"").trim(),o=String.fromCharCode(parseInt(n,16));t=t.replace(e[r],o)}return t})),Ch(Hh,"getDateStringToTimestamp",(function(t){if(t){var e=t.split(" "),r=parseInt(e[3]),n=e[4],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(n),i=(new Date).getFullYear();return new Date(i,o,r).getTime()}})),Ch(Hh,"getStorageKey",(function(t){return t.includes("sent")?t.includes("history")?"tradesInfoSentHistory":"tradesInfoSent":t.includes("history")?"tradesInfoHistory":"tradesInfo"}));const qh=Hh;function Vh(t){return Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(t)}function Kh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kh(Object(r),!0).forEach((function(e){Wh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wh(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Vh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vh(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zh=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Vh(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Vh(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Xh(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xh(i,n,o,a,s,"next",t)}function s(t){Xh(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Jh=function(){var t=$h(zh().mark((function t(e){var r,n,o,i,a,s;return zh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pu();case 2:r=t.sent,n=r.avatar,o=r.name,i=r.steamId,a=r.tradeLink,s=a.match(/token=(.*)/)[1],e.provider.send({event:Du,payload:{event:Du,data:{steamId:i,name:o,avatar:n,token:s}}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Qh=function(){var t=$h(zh().mark((function t(e,r){var n,o,i,a,s,c,u;return zh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({webApiToken:""});case 3:return n=t.sent,o=n.webApiToken,i=void 0===o?"":o,t.next=8,qh.isAvailableWebApi();case 8:if(t.sent){t.next=11;break}return t.abrupt("return",{success:!1,error:"Not available web api"});case 11:return a=r||{get_received_offers:1,get_descriptions:1,get_sent_offers:1},t.next=14,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IEconService/GetTradeOffers/v1/",data:Yh(Yh({},a),{},{access_token:i})});case 14:case 30:return t.abrupt("return",t.sent);case 17:if(t.prev=17,t.t0=t.catch(0),t.t0,403!==t.t0.status){t.next=34;break}return t.next=23,ru.getProfile();case 23:if(s=t.sent.data,c=Ps.A.Profile.parse(s,["webApiToken"]),!(u=c.webApiToken)){t.next=33;break}return t.next=28,y.w.set({webApiToken:u});case 28:return t.next=30,Qh(e);case 33:return t.abrupt("return",{success:!1,error:"webApiToken not found"});case 34:return t.abrupt("return",{success:!1,error:t.t0.responseJSON?t.t0.responseJSON:t.t0.message});case 35:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,r){return t.apply(this,arguments)}}(),Zh=function(t,e){return sl().encrypt(JSON.stringify(t),e,{mode:ul(),padding:hl()}).toString()};function tf(t){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(t)}function ef(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return rf(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rf(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nf(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=tf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function of(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */of=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==tf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(tf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function af(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function sf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){af(i,n,o,a,s,"next",t)}function s(t){af(i,n,o,a,s,"throw",t)}a(void 0)}))}}var cf={data:null,ts:Date.now()},uf=[],lf=null,hf=0,ff=null,pf=function(){var t=sf(of().mark((function t(){var e,r,n,o,i,a;return of().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:if(e=t.sent,r=e.userInfo,n=730,cf.data&&!(Date.now()-cf.ts>6e4)){t.next=20;break}return t.next=8,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(r.steamId,"/")});case 8:return o=t.sent,i=Ps.A.Profile.originalProfileUrl(o,["originalProfileUrl"]),t.next=12,y.w.setLocal({CURRENT_PARSING_USER_URL:i});case 12:return t.next=14,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(r.steamId,"/").concat(n,"/").concat(753===n?"6":"2","?l=english&count=2000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return a=t.sent,cf.data=a,cf.ts=Date.now(),t.abrupt("return",a);case 20:return t.abrupt("return",cf.data);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),df=function(t){var e=[],r=t.descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith('<br><div id="sticker_info" name="sticker_info"')}))[0]||null;if(r)for(var n=r.value.includes("Patch")?r.value.substr(r.value.indexOf("Patch: ")+7).replace("</center></div>","").split(",").map((function(t){return t.trimStart()})):function(t){for(var e=[],r="",n=0,o=0;o<t.length;o++)","===t[o]&&0===n?(e.push(r.trim()),r=""):(r+=t[o],"("===t[o]?n++:")"===t[o]&&n--);return e.push(r.trim()),e}(r.value.substr(r.value.indexOf("Sticker: ")+9).replace("</center></div>","")),o=r.value.match(/<img [^>]*src="[^"]*"[^>]*>/gm),i=o?o.map((function(t){return t.replace(/.*src="([^"]*)".*/,"$1")})):[],a=0;a<i.length;a++)e.push({name:"Sticker | ".concat(n[a])||0,image:i[a]?i[a].split("/econ/")[1]:void 0});return e},yf=function(t){var e=t.descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith("Name Tag: ")}))[0]||null,r=e&&e.value.match(/Name Tag:\s*['"]+(.+)''/)?e.value.match(/Name Tag:\s*['"]+(.+)''/)[1]:void 0;return r?[r]:void 0},vf=function(t){var e=t.owner_descriptions&&t.owner_descriptions.filter((function(t){return"html"===t.type&&t.value.startsWith("Tradable After")}))[0]||void 0;return e?e.value.match(/Tradable After (.+)/)[1]:void 0},mf=function(){var t=sf(of().mark((function t(e){var r,n,o,i;return of().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("userInfo");case 2:if(r=t.sent,n=r.userInfo,o=[],e.assets&&e.descriptions){t.next=7;break}return t.abrupt("return",o);case 7:return i=0,e.assets.forEach((function(t){e.descriptions.forEach((function(e){if(t.classid===e.classid&&t.instanceid===e.instanceid){e.tradable&&i++;var r=e.actions&&e.actions[0]&&e.actions[0].link?e.actions[0].link.replace("%assetid%",t.assetid).replace("%owner_steamid%",n.steamId):void 0,a={id:Number(t.assetid),name:e.market_hash_name,amount:Number(t.amount),tradable:1===e.tradable,image:e.icon_url,inspectLink:r,isSouvenir:e.market_hash_name.includes("Souvenir"),isStattrak:e.market_hash_name.includes("StatTrak™"),wearId:(s=e.market_hash_name,c=void 0,s.includes("(Factory New)")?c=1:s.includes("(Minimal Wear)")?c=2:s.includes("(Field-Tested)")?c=3:s.includes(" (Well-Worn)")?c=4:s.includes("(Battle-Scarred)")&&(c=5),c),rarity:e.tags.find((function(t){return"rarity"===t.category.toLowerCase()}))?e.tags.find((function(t){return"rarity"===t.category.toLowerCase()})).localized_tag_name:void 0,quality:e.tags.find((function(t){return"quality"===t.category.toLowerCase()}))?e.tags.find((function(t){return"quality"===t.category.toLowerCase()})).internal_name:void 0,tradableTS:vf(e),stickers:df(e),fraudWarnings:yf(e),pos:e.tradable?i:void 0};o.push(a)}var s,c}))})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const gf={getInventory:{handler:function(){var t=sf(of().mark((function t(e){var r,n,o;return of().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,lf=!0,t.next=4,y.w.get(nf({},Yu,{}));case 4:return t.t0=Yu,r=t.sent[t.t0],t.next=8,y.w.getLocal("userInfo");case 8:n=t.sent,o=n.userInfo,ff=setInterval(sf(of().mark((function t(){var n,i,a,s,c,u,l,h;return of().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[].concat(uf),uf.length=0,n.length){t.next=6;break}return++hf>5&&(clearInterval(ff),lf=!1,hf=0),t.abrupt("return");case 6:hf=0,i=ef(n),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=34;break}if(s=a.value,t.prev=12,o&&o.steamId){t.next=15;break}throw Error("Not found steamId");case 15:if(r&&r[o.steamId]){t.next=17;break}throw Error("Not found key");case 17:return c=r[o.steamId].key,t.next=20,pf();case 20:return u=t.sent,t.next=23,mf(u);case 23:l=t.sent,h=Zh(l,c),e.provider.send({event:qu,payload:{event:qu,data:{hash:h},messageId:s.messageId}}),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(12),t.t0,e.provider.send({event:qu,payload:{event:qu,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"},messageId:s.messageId}});case 32:t.next=10;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(8),i.e(t.t1);case 39:return t.prev=39,i.f(),t.finish(39);case 42:n.length=0;case 43:case"end":return t.stop()}}),t,null,[[8,36,39,42],[12,28]])}))),3e3),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),t.t1;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return uf.push(t),lf}}};function bf(t){return bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(t)}function wf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(bf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ef(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const xf=function(){var t,e=(t=wf().mark((function t(e,r){return wf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Get user inventory: called"),gf.savePayloadList.handler(e)){t.next=6;break}return t.next=6,gf.getInventory.handler(r);case 6:r.logger.log("Get user inventory: done"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Get user inventory: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ef(i,n,o,a,s,"next",t)}function s(t){Ef(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Sf(t){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(t)}function _f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Sf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Af(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Sf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Lf=function(){var t,e=(t=_f().mark((function t(e,r){var n,o,i,a,s,c,u;return _f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Get trades api key: called"),n={get_received_offers:1,get_sent_offers:1,get_descriptions:1},t.next=5,Qh(r,n);case 5:if(!(o=t.sent).error){t.next=8;break}throw Error(o.error);case 8:return t.next=10,y.w.get(Af({},Yu,{}));case 10:return t.t0=Yu,i=t.sent[t.t0],t.next=14,y.w.getLocal("userInfo");case 14:if(a=t.sent,(s=a.userInfo)&&s.steamId){t.next=18;break}throw Error("Not found steamId");case 18:if(i&&i[s.steamId]){t.next=20;break}throw Error("Not found key");case 20:c=i[s.steamId].key,u=Zh(o,c),r.provider.send({event:Ku,payload:{event:Ku,data:{hash:u},messageId:e.messageId}}),r.logger.log("Get trades api key: done"),t.next=30;break;case 26:t.prev=26,t.t1=t.catch(0),r.logger.error("Get trades api key: error",t.t1),r.provider.send({event:Ku,payload:{event:Ku,data:{error:t.t1.message||t.t1.responseJSON||"Error, something went wrong"},messageId:e.messageId}});case 30:case"end":return t.stop()}}),t,null,[[0,26]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Tf(i,n,o,a,s,"next",t)}function s(t){Tf(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function kf(t){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(t)}function If(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */If=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Of(t){return function(t){if(Array.isArray(t))return Cf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nf(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pf(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Pf(t,e){if(t){if("string"==typeof t)return Cf(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cf(t,e):void 0}}function Cf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Df(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=kf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ff(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rf(i,n,o,a,s,"next",t)}function s(t){Rf(i,n,o,a,s,"throw",t)}a(void 0)}))}}var jf=[],Bf=null,Mf=null,Gf=0;const Uf={getTrades:{handler:function(){var t=Ff(If().mark((function t(e){var r,n,o;return If().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Bf=!0,t.next=4,y.w.get(Df({},Yu,{}));case 4:return t.t0=Yu,r=t.sent[t.t0],t.next=8,y.w.getLocal("userInfo");case 8:n=t.sent,o=n.userInfo,Mf=setInterval(Ff(If().mark((function t(){var n,i,a,s,c,u,l,h,f,p,d,y,v,m,g,b,w;return If().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[].concat(jf),jf.length=0,n.length){t.next=6;break}return++Gf>5&&(clearInterval(Mf),Bf=!1,Gf=0),t.abrupt("return");case 6:Gf=0,i=Nf(n),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=66;break}if(s=a.value,t.prev=12,o&&o.steamId){t.next=15;break}throw Error("Not found steamId");case 15:if(r&&r[o.steamId]){t.next=17;break}throw Error("Not found key");case 17:c=r[o.steamId].key,u=0,l=["tradeoffers","tradeoffers/sent"];case 20:if(!(u<l.length)){t.next=27;break}return h=l[u],t.next=24,Ul.parseTrades(h,Date.now()-ru.TRADES_NOTIFICATION.ts[h]>12e4);case 24:u++,t.next=20;break;case 27:return t.next=29,Ul.buildTradesInfoForController("tradeoffers");case 29:return f=t.sent,t.next=32,Ul.buildTradesInfoForController("tradeoffers/sent");case 32:p=t.sent,d=f.filter((function(t){return t.trade_offer_state&&2===t.trade_offer_state})),y=Nf(d),t.prev=35,y.s();case 37:if((v=y.n()).done){t.next=45;break}return m=v.value,t.next=41,qh.getTradeAssetIds(m.tradeOfferId);case 41:g=t.sent,m.assetIds=g;case 43:t.next=37;break;case 45:t.next=50;break;case 47:t.prev=47,t.t0=t.catch(35),y.e(t.t0);case 50:return t.prev=50,y.f(),t.finish(50);case 53:return b={trade_offers_received:Of(f),trade_offers_sent:Of(p)},w=Zh(b,c),e.provider.send({event:Vu,payload:{event:Vu,data:{hash:w},messageId:s.messageId}}),t.next=58,(0,Bs.yy)(2e3);case 58:t.next=64;break;case 60:t.prev=60,t.t1=t.catch(12),t.t1,e.provider.send({event:Vu,payload:{event:Vu,data:{error:t.t1.message||t.t1.responseJSON||"Error when trying to parsing a page"},messageId:s.messageId}});case 64:t.next=10;break;case 66:t.next=71;break;case 68:t.prev=68,t.t2=t.catch(8),i.e(t.t2);case 71:return t.prev=71,i.f(),t.finish(71);case 74:n.length=0;case 75:case"end":return t.stop()}}),t,null,[[8,68,71,74],[12,60],[35,47,50,53]])}))),3e3),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),t.t1;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return jf.push(t),Bf}}};function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function qf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Hf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Hf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Vf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Kf=function(){var t,e=(t=qf().mark((function t(e,r){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Get trades: called"),Uf.savePayloadList.handler(e)){t.next=6;break}return t.next=6,Uf.getTrades.handler(r);case 6:r.logger.log("Get trades: done"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Get trades: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Vf(i,n,o,a,s,"next",t)}function s(t){Vf(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Yf(t){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(t)}function Wf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Yf(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yf(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Xf=function(){var t,e=(t=Wf().mark((function t(e,r){var n,o;return Wf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Webapi token get: called"),t.next=4,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/id/me/edit/info"});case 4:n=t.sent,o=n.match('data-loyalty_webapi_token="&quot;(.*?)&quot;"')[1],r.provider.send({event:zu,payload:{event:zu,data:{webApiToken:o},messageId:e.messageId}}),r.logger.log("Webapi token get: done"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r.logger.error("Webapi token get: error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zf(i,n,o,a,s,"next",t)}function s(t){zf(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function $f(t){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(t)}function Jf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Jf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==$f(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError($f(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Qf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qf(Object(r),!0).forEach((function(e){tp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tp(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=$f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ep(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const rp=function(){var t,e=(t=Jf().mark((function t(e,r){return Jf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Balance updated: called"),r.provider.send({event:Ru,payload:Zf({event:Ru},e)}),r.logger.log("Balance updated: done")}catch(t){r.logger.error("Refresh trade list: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ep(i,n,o,a,s,"next",t)}function s(t){ep(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function np(t){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(t)}function op(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */op=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==np(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(np(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ip(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ap(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ip(i,n,o,a,s,"next",t)}function s(t){ip(i,n,o,a,s,"throw",t)}a(void 0)}))}}var sp=["1_direct-navigation__","1_store-navigation__"],cp=["Steam_Language","ak_bmsc","app_impressions","bm_sv","browserid","deep_dive_carousel_focused_app","deep_dive_carousel_method","recentapps","sessionid","snr","steamCountry","steamLoginSecure","timezoneOffset"],up=function(){var t=ap(op().mark((function t(e,r,n){return op().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){chrome.cookies.getAll({domain:".steampowered.com"},function(){var i=ap(op().mark((function i(a){var s,c;return op().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:try{s=Object.values(a.filter((function(t){return cp.includes(t.name)})).reduce((function(t,e){return t[e.name]=e,t}),{})),c=s.map((function(t){switch(t.name){case"snr":return"".concat(t.name,"=").concat(e,"|").concat(encodeURIComponent(r));case"recentapps":var o=JSON.parse(decodeURIComponent(t.value));return o[n]=Math.floor((new Date).getTime()/1e3),"".concat(t.name,"=").concat(encodeURIComponent(JSON.stringify(o)));case"app_impressions":if(sp.includes(e))return"".concat(t.name,"=").concat(t.value);var i=decodeURIComponent(t.value);return i+="|".concat(n,"@").concat(e),"".concat(t.name,"=").concat(encodeURIComponent(i));default:return"".concat(t.name,"=").concat(t.value)}})).join("; "),t(c)}catch(t){o(t)}case 1:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())})));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),lp=function(){var t=ap(op().mark((function t(e,r,n){var o;return op().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(n);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:r},{header:"Origin",operation:"set",value:"https://store.steampowered.com"},{header:"Sec-fetch-site",operation:"set",value:"same-origin"},{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:n},o={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(o);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function hp(t){return hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(t)}function fp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==hp(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(hp(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function pp(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function dp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pp(i,n,o,a,s,"next",t)}function s(t){pp(i,n,o,a,s,"throw",t)}a(void 0)}))}}var yp=Is(""),vp="https://store.steampowered.com/api/addtowishlist",mp="https://store.steampowered.com",gp="https://store.steampowered.com/api/addtowishlist*",bp="",wp=function(){var t=dp(fp().mark((function t(e,r){var n,o,i,a,s;return fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/app/".concat(e,"/").concat(r,"/")});case 2:return n=t.sent,o=Ps.A.Profile.parse(n,["sessionId","accountId"]),i=o.sessionId,a=o.accountId,s="none"!==yp(n).find("#add_to_wishlist_area_success").css("display"),t.abrupt("return",{sessionId:i,accountId:a,isAddedWishList:s});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Ep=function(){var t=dp(fp().mark((function t(e){var r,n;return fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.sessionId,t.next=3,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},method:"POST",url:vp,data:{sessionid:n,appid:r}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const xp=function(){var t=dp(fp().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d;return fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Add to wish list: called"),n=e.data.json.payload,o=n.appId,i=n.appName,bp=e.data.json.payload.snr||"1_direct-navigation__",t.next=6,y.w.get({consent_tos:!0});case 6:if(a=t.sent,a.consent_tos){t.next=10;break}throw Error("User disabled option");case 10:return t.next=12,wp(o,i);case 12:return s=t.sent,c=s.sessionId,u=s.accountId,l=s.isAddedWishList,t.next=18,y.w.getLocal({userInfo:{steamId:null}});case 18:if(h=t.sent,f=h.userInfo.steamId,u||!c){t.next=28;break}if(!f){t.next=27;break}return t.next=24,Kc.refreshSteamPowered();case 24:throw Error("Missing steampowered authorization");case 27:throw Error("Not found user steamId");case 28:if(!l){t.next=30;break}throw Error("App already listed");case 30:if(!(c&&o&&i)){t.next=45;break}return t.next=33,up(bp,vp,o);case 33:return p=t.sent,mp="https://store.steampowered.com/app/".concat(o,"/").concat(i,"/"),t.next=37,lp(p,mp,gp);case 37:return t.next=39,Ep({appId:o,sessionId:c});case 39:return d=t.sent,t.next=42,Sl.removeRule(gp);case 42:if(d.success){t.next=44;break}throw Error("Could not add the game or it is already in the list");case 44:r.provider.send({event:Ru,payload:{event:Ru,data:{},messageId:e.messageId}});case 45:r.logger.log("Add to wish list: done"),t.next=54;break;case 48:return t.prev=48,t.t0=t.catch(0),r.logger.error("Add to wish list: error",t.t0),t.next=53,Sl.removeRule(gp);case 53:r.provider.send({event:Ru,payload:{event:Ru,data:{error:t.t0.message||t.t0.responseJSON||"Error adding to wishlist"},messageId:e.messageId}});case 54:case"end":return t.stop()}}),t,null,[[0,48]])})));return function(e,r){return t.apply(this,arguments)}}();function Sp(t){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(t)}function _p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Sp(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sp(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ap(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Tp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ap(i,n,o,a,s,"next",t)}function s(t){Ap(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Lp=Is(""),kp="https://store.steampowered.com/explore/followgame/",Ip="https://store.steampowered.com/",Op="https://store.steampowered.com/explore/followgame*",Np="",Pp=function(){var t=Tp(_p().mark((function t(e,r){var n,o,i,a,s;return _p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/app/".concat(e,"/").concat(r,"/")});case 2:return n=t.sent,o=Ps.A.Profile.parse(n,["sessionId","accountId"]),i=o.sessionId,a=o.accountId,s="none"!==Lp(n).find("#queueBtnFollow .queue_btn_active").css("display"),t.abrupt("return",{sessionId:i,accountId:a,isFollowingGame:s});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Cp=function(){var t=Tp(_p().mark((function t(e){var r,n;return _p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.sessionId,t.next=3,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},method:"POST",url:kp,data:{sessionid:n,appid:r}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const Dp=function(){var t=Tp(_p().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d;return _p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Follow game: called"),n=e.data.json.payload,o=n.appId,i=n.appName,Np=e.data.json.payload.snr||"1_direct-navigation__",t.next=6,y.w.get({consent_tos:!0});case 6:if(a=t.sent,a.consent_tos){t.next=10;break}throw Error("User disabled option");case 10:return t.next=12,Pp(o,i);case 12:return s=t.sent,c=s.sessionId,u=s.accountId,l=s.isFollowingGame,t.next=18,y.w.getLocal({userInfo:{steamId:null}});case 18:if(h=t.sent,f=h.userInfo.steamId,u||!c){t.next=28;break}if(!f){t.next=27;break}return t.next=24,Kc.refreshSteamPowered();case 24:throw Error("Missing steampowered authorization");case 27:throw Error("Not found user steamId");case 28:if(!l){t.next=30;break}throw Error("App already following");case 30:if(!(c&&o&&i)){t.next=45;break}return t.next=33,up(Np,kp,o);case 33:return p=t.sent,Ip="https://store.steampowered.com/app/".concat(o,"/").concat(i,"/"),t.next=37,lp(p,Ip,Op);case 37:return t.next=39,Cp({appId:o,sessionId:c});case 39:return d=t.sent,t.next=42,Sl.removeRule(Op);case 42:if(d){t.next=44;break}throw Error("Failed to following");case 44:r.provider.send({event:Ru,payload:{event:Ru,data:{},messageId:e.messageId}});case 45:r.logger.log("Follow game: done"),t.next=54;break;case 48:return t.prev=48,t.t0=t.catch(0),r.logger.error("Follow game: error",t.t0),t.next=53,Sl.removeRule(Op);case 53:r.provider.send({event:Ru,payload:{event:Ru,data:{error:t.t0.message||t.t0.responseJSON||"Error following game"},messageId:e.messageId}});case 54:case"end":return t.stop()}}),t,null,[[0,48]])})));return function(e,r){return t.apply(this,arguments)}}();function Rp(t){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(t)}function Fp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Fp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Rp(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rp(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function jp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Bp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mp(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Gp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mp(i,n,o,a,s,"next",t)}function s(t){Mp(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Up=[],Hp=null,qp=0,Vp=null;const Kp={updateLocalItemOrder:{handler:function(){var t=Gp(Fp().mark((function t(){var e,r;return Fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Hp=!0,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(e=t.sent,(r=e.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=9;break}return Hp=!1,t.abrupt("return",{success:!1,authorization:!1});case 9:Vp=setInterval(Gp(Fp().mark((function t(){var e,r,n,o;return Fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[].concat(Up),Up.length=0,e.length){t.next=6;break}return++qp>5&&(clearInterval(Vp),Hp=!1,qp=0),t.abrupt("return");case 6:qp=0,r=jp(e),t.prev=8,r.s();case 10:if((n=r.n()).done){t.next=19;break}return o=n.value,t.next=14,new Promise((function(t){return setTimeout(t,1e3)}));case 14:return t.next=16,Sc.updateItemOrderLocal(o);case 16:t.sent;case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:e.length=0;case 28:case"end":return t.stop()}}),t,null,[[8,21,24,27]])}))),3e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return Up.push(t),Hp}}};function Yp(t){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(t)}function Wp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Yp(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Yp(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zp(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Xp=function(){var t,e=(t=Wp().mark((function t(e,r){var n,o,i,a;return Wp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Refresh trade list: called"),r.provider.send({event:Ru,payload:{event:Ru,data:{},messageId:e.messageId}}),n=e.data.json.payload.order){t.next=10;break}return t.next=7,Qh(r);case 7:return(o=t.sent)&&o.response&&o.response.trade_offers_received&&(i=o.response.trade_offers_received)&&i.length&&(a=i.length,y.w.getLocal({skipversion:null}).then((function(t){(0,Bs.eL)(t.skipversion)&&(chrome.action.setBadgeText({text:a?"".concat(a):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))}))),t.abrupt("return");case 10:if(Kp.savePayloadList.handler(n)){t.next=14;break}return t.next=14,Kp.updateLocalItemOrder.handler();case 14:r.logger.log("Refresh trade list: done"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r.logger.error("Refresh trade list: error",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zp(i,n,o,a,s,"next",t)}function s(t){zp(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function $p(t){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(t)}function Jp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Qp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==$p(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError($p(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function td(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ed(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){td(i,n,o,a,s,"next",t)}function s(t){td(i,n,o,a,s,"throw",t)}a(void 0)}))}}var rd=[],nd=null,od=0,id=null,ad=function(){var t=ed(Zp().mark((function t(e){var r,n,o,i;return Zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("sihAppWithdrawalHistory");case 2:if(n=t.sent,o=n.sihAppWithdrawalHistory,i=void 0===o?{}:o,e.id&&Object.keys(i).length&&null!=i&&null!==(r=i.data)&&void 0!==r&&r.length){t.next=7;break}return t.abrupt("return");case 7:return i.data=i.data.map((function(t){var r;return(null==t?void 0:t.id)===(null==e?void 0:e.id)&&null!=t&&null!==(r=t.state)&&void 0!==r&&r.action&&(t.state.action=e.status),t})),t.next=10,y.w.setLocal({sihAppWithdrawalHistory:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const sd={updateLocalItemOrder:{handler:function(){var t=ed(Zp().mark((function t(){var e,r;return Zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,nd=!0,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(e=t.sent,(r=e.sihAppUserProfile)&&0!==Object.keys(r).length){t.next=9;break}return nd=!1,t.abrupt("return",{success:!1,authorization:!1});case 9:id=setInterval(ed(Zp().mark((function t(){var e,r,n,o;return Zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[].concat(rd),rd.length=0,e.length){t.next=6;break}return++od>5&&(clearInterval(id),nd=!1,od=0),t.abrupt("return");case 6:od=0,r=Jp(e),t.prev=8,r.s();case 10:if((n=r.n()).done){t.next=19;break}return o=n.value,t.next=14,new Promise((function(t){return setTimeout(t,1e3)}));case 14:return t.next=16,ad(o);case 16:t.sent;case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),r.e(t.t0);case 24:return t.prev=24,r.f(),t.finish(24);case 27:e.length=0;case 28:case"end":return t.stop()}}),t,null,[[8,21,24,27]])}))),3e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(t){return rd.push(t),nd}}};function cd(t){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(t)}function ud(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ud=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==cd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(cd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ld(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const hd=function(){var t,e=(t=ud().mark((function t(e,r){var n;return ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Refresh trade list: called"),r.provider.send({event:Ru,payload:{event:Ru,data:{},messageId:e.messageId}}),n=e.data.json.payload.order,sd.savePayloadList.handler(n)){t.next=8;break}return t.next=8,sd.updateLocalItemOrder.handler();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r.logger.error("Refresh withdraw order: error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ld(i,n,o,a,s,"next",t)}function s(t){ld(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function fd(t){return fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(t)}function pd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==fd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(fd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function dd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function yd(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dd(i,n,o,a,s,"next",t)}function s(t){dd(i,n,o,a,s,"throw",t)}a(void 0)}))}}function vd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bd(n.key),n)}}function md(t,e,r){return e&&vd(t.prototype,e),r&&vd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gd(t,e,r){return(e=bd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bd(t){var e=function(t,e){if("object"!=fd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fd(e)?e:e+""}var wd=md((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gd(this,"checkSteamLogin",function(){var t=yd(pd().mark((function t(r){var n,o,i;return pd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.steamUsername,t.prev=1,n){t.next=4;break}throw Error("Not found Steam login");case 4:return t.next=6,Bs.Ay.apiRequest({url:"".concat(e.serviceURL,"/steam/check"),method:"POST",data:{steamUsername:n},crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return o=t.sent,t.abrupt("return",{success:!0,response:o});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(i=t.t0.responseJSON)||void 0===i?void 0:i.message)||"Something went wrong. Try again later."});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()),gd(this,"initSteamRefill",function(){var t=yd(pd().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p,d,v,m,g;return pd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.steamUsername,o=r.amount,i=r.netAmount,a=r.currency,s=void 0===a?"RUB":a,c=r.transactionId,t.prev=1,l="be5b209d-5bad-4f9a-8f1c-656732498054",t.next=5,y.w.getLocal("userInfo");case 5:return h=t.sent,f=h.userInfo,t.next=9,y.w.getLocal("sihAppUserProfile");case 9:return p=t.sent,d=p.sihAppUserProfile,v=JSON.stringify({steamId:null==f?void 0:f.steamId,sihUserId:null==d||null===(u=d.user)||void 0===u?void 0:u.id,ts:Date.now()}),t.next=14,Bs.Ay.apiRequest({headers:{"x-partner-id":l},url:"".concat(e.serviceURL,"/steam/pay"),method:"POST",data:{steamUsername:n,amount:o,netAmount:i,currency:s,transactionId:c,orderId:v},crossDomain:!0,xhrFields:{withCredentials:!0}});case 14:return m=t.sent,t.abrupt("return",{success:!0,response:m});case 18:return t.prev=18,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(g=t.t0.responseJSON)||void 0===g?void 0:g.message)||"Something went wrong. Try again later."});case 21:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}()),this.serviceURL=t.serviceURL}));gd(wd,"serviceURL","https://foreign.foreignpay.ru");const Ed=new wd;function xd(t){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(t)}function Sd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _d(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ad(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_d(i,n,o,a,s,"next",t)}function s(t){_d(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Td;const Ld={msg:{checkSteamLogin:{code:"BACKGROUND_STEAM_REFILL_CHECK",handler:function(){var t=Ad(Sd().mark((function t(e,r){var n;return Sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ed.checkSteamLogin(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},initSteamRefill:{code:"BACKGROUND_STEAM_REFILL_PAY",handler:function(){var t=Ad(Sd().mark((function t(e,r){var n;return Sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ed.initSteamRefill(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},connect:{sendMessage:{handler:function(t){Td.postMessage(t)}},init:{handler:function(){var t=Ad(Sd().mark((function t(e){var r,n,o,i;return Sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Td=e,t.next=3,y.w.getLocal("AVAILABLE_CONTROLLER_LAST_NUMBER_IDS");case 3:if(r=t.sent,null!=(n=r.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS)&&n.length){t.next=16;break}return t.next=8,y.w.getLocal({sihAppUserProfile:{}});case 8:if(o=t.sent,(i=o.sihAppUserProfile)&&0!==Object.keys(i).length){t.next=12;break}throw Error("Not found profile sih app");case 12:return t.next=14,ic.pingUser();case 14:return t.next=16,om.updateState(!0);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},alarm:{}};function kd(t){return kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(t)}function Id(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Id=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Od(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Nd=function(){var t,e=(t=Id().mark((function t(e,r){var n;return Id().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Steam refill: called"),r.provider.send({event:Ru,payload:{event:Ru,data:{},messageId:e.messageId}}),n=e.data.json.payload.bonusAmount,Ld.connect.sendMessage.handler(n)}catch(t){r.logger.error("Steam refill: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Od(i,n,o,a,s,"next",t)}function s(t){Od(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Pd(t){return Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(t)}function Cd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Pd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Pd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Dd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Rd=function(){var t,e=(t=Cd().mark((function t(e,r){return Cd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r.logger.log("Jsonsend handler: called"),t.t0=e.data.json.package,t.next="refreshTradeList"===t.t0?5:"balanceUpdated"===t.t0?8:"wishList"===t.t0?11:"followgame"===t.t0?14:"refreshWithdrawOrder"===t.t0?17:"steamRefill"===t.t0?20:23;break;case 5:return t.next=7,Xp(e,r);case 7:return t.abrupt("break",24);case 8:return t.next=10,rp(e,r);case 10:return t.abrupt("break",24);case 11:return t.next=13,xp(e,r);case 13:return t.abrupt("break",24);case 14:return t.next=16,Dp(e,r);case 16:return t.abrupt("break",24);case 17:return t.next=19,hd(e,r);case 19:return t.abrupt("break",24);case 20:return t.next=22,Nd(e,r);case 22:case 23:return t.abrupt("break",24);case 24:r.logger.log("Jsonsend handler: done"),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(0),r.logger.error("Jsonsend handler: error",t.t1);case 30:case"end":return t.stop()}}),t,null,[[0,27]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dd(i,n,o,a,s,"next",t)}function s(t){Dd(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Fd(t){return Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(t)}function jd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Fd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Fd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Bd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Md=function(){var t,e=(t=jd().mark((function t(e,r){return jd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.logger.log("Permissions edit: called"),r.provider.send({event:Hu,payload:{event:Hu,data:{},messageId:e.messageId}}),r.logger.log("Permissions edit: done")}catch(t){r.logger.error("Permissions edit: error",t)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bd(i,n,o,a,s,"next",t)}function s(t){Bd(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Gd(t){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(t)}function Ud(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ud=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Gd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Hd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hd(Object(r),!0).forEach((function(e){Vd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vd(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Gd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gd(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Yd(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yd(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Wd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function zd(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Wd(i,n,o,a,s,"next",t)}function s(t){Wd(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Xd=function(){var t=zd(Ud().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=E.length>0&&void 0!==E[0]?E[0]:{},t.next=3,y.w.get({projects_permissions:{}});case 3:for(r=t.sent,n=r.projects_permissions,o=JSON.parse(JSON.stringify(e)),i=0,a=Object.entries(n);i<a.length;i++)if(s=Kd(a[i],2),c=s[0],u=s[1],o[c])for(v=0,m=Object.entries(n[c]);v<m.length;v++)g=Kd(m[v],2),b=g[0],w=g[1],o[c][b]||w.isAccepted||w.isBanned||(o[c][b]=qd({},w));else for(l=0,h=Object.entries(u);l<h.length;l++)f=Kd(h[l],2),p=f[0],(d=f[1]).isAccepted||d.isBanned||(o[c]=qd(Vd({},p,qd({},d)),o[c]));return t.next=9,y.w.set({projects_permissions:o});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const $d={msg:{getPermissions:{code:Os.A.msg.BACKGROUND_GET_PROJECTS_PERMISSION,handler:function(){var t=zd(Ud().mark((function t(){var e,r=arguments;return Ud().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:function(){};try{Yv.agent.provider.send({event:Gu,payload:{event:Gu,data:{}}}),e({success:!0})}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function Qd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Qd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Jd(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Jd(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Zd(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const ty=function(){var t,e=(t=Qd().mark((function t(e,r){return Qd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.logger.log("Permissions get: called"),!Object.keys(e.data).length){t.next=5;break}return t.next=5,Xd(e.data);case 5:r.logger.log("Permissions get: done"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r.logger.error("Permissions get: error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zd(i,n,o,a,s,"next",t)}function s(t){Zd(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function ey(t){return ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(t)}function ry(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ry=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ey(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ey(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ny(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=ey(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ey(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ey(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const iy={setPermission:{handler:function(){var t,e=(t=ry().mark((function t(e,r){var n,o,i,a,s,c;return ry().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({projects_permissions:{}});case 3:if(n=t.sent,o=n.projects_permissions,i=e.data.permission,a=e.data.project.name,Object.keys(o).length){t.next=11;break}o[i]=ny({},a,{icon:e.data.project.icon,isBanned:!1,isAccepted:!1}),t.next=24;break;case 11:if(s=o[i]){t.next=16;break}o[i]=ny({},a,{icon:e.data.project.icon,isBanned:!1,isAccepted:!1}),t.next=24;break;case 16:if(!(c=s[a])||c.isBanned||c.isAccepted){t.next=21;break}throw Error("Awaiting a response from a user");case 21:if(!c||!c.isBanned&&!c.isAccepted){t.next=23;break}throw Error("Permission for this project have already been processed");case 23:s[a]={icon:e.data.project.icon,isBanned:!1,isAccepted:!1};case 24:return t.next=26,y.w.set({projects_permissions:o});case 26:r.provider.send({event:Uu,payload:{event:Uu,data:{},messageId:e.messageId}}),chrome.windows.getCurrent({},(function(t){chrome.windows.update(t.id,{focused:!0},(function(){chrome.action.openPopup()}))})),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(0),t.t0,r.provider.send({event:Uu,payload:{event:Uu,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"},messageId:e.messageId}});case 34:case"end":return t.stop()}}),t,null,[[0,30]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){oy(i,n,o,a,s,"next",t)}function s(t){oy(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};function ay(t){return ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(t)}function sy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ay(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ay(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function cy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const uy=function(){var t,e=(t=sy().mark((function t(e,r){return sy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Permissions request: called"),t.next=4,iy.setPermission.handler(e,r);case 4:r.logger.log("Permissions request: done"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r.logger.error("Permissions request: error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cy(i,n,o,a,s,"next",t)}function s(t){cy(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function ly(t){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(t)}function hy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */hy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ly(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ly(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function fy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function py(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fy(i,n,o,a,s,"next",t)}function s(t){fy(i,n,o,a,s,"throw",t)}a(void 0)}))}}const dy={msg:{getUserSihApp:{code:Os.A.msg.BACKGROUND_GET_USER_AUTH_SIH_APP,handler:function(){var t=py(hy().mark((function t(e){var r;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ic.getUserAuth();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUserProfileInfo:{code:Os.A.msg.BACKGROUND_GET_SIH_APP_USER_INFO,handler:function(){var t=py(hy().mark((function t(e){var r,n;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:r=t.sent,n=r.sihAppUserProfile,e(n||{success:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},setEmail:{code:Os.A.msg.BACKGROUND_SET_EMAIL_SIH_APP,handler:function(){var t=py(hy().mark((function t(e,r){var n,o;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return n=t.sent,n.sihAppUserProfile||r({success:!1,authorization:!1}),t.next=8,ic.setEmailToSihApp(e.email);case 8:o=t.sent,r(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteEmail:{code:Os.A.msg.BACKGROUND_DELETE_EMAIL_SIH_APP,handler:function(){var t=py(hy().mark((function t(e){var r,n,o;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length||e({success:!1,authorization:!1}),t.next=8,ic.deleteEmailFromSihApp();case 8:o=t.sent,e(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},enterPassword:{code:Os.A.msg.BACKGROUND_ENTER_PASSWORD_SIH_APP,handler:function(){var t=py(hy().mark((function t(e,r){var n;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ic.getUserAuth(e.password);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},updateTradeLink:{code:Os.A.msg.BACKGROUND_UPDATE_TRADELINK_SIH_APP,handler:function(){var t=py(hy().mark((function t(e,r){var n,o,i,a;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.link,o=void 0===n?null:n,t.prev=1,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(i=t.sent,(a=i.sihAppUserProfile)&&0!==Object.keys(a).length){t.next=10;break}throw Error("Error set trade link, invalid sih app account");case 10:return t.next=12,ic.setTradeLinkToProfile(o);case 12:if(!o){t.next=15;break}return t.next=15,om.restartAgent();case 15:r&&r({success:!0}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),t.t0,r&&r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e,r){return t.apply(this,arguments)}}()},getSihAppLog:{code:Os.A.msg.BACKGROUND_GET_SIH_APP_LOG,handler:function(){var t=py(hy().mark((function t(e){var r,n,o,i;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length||e(null),t.next=8,y.w.getLocal({sihAppLog:{}});case 8:o=t.sent,i=o.sihAppLog,e(i),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},readSihAppLog:{code:Os.A.msg.BACKGROUND_READ_SIH_APP_LOG,handler:function(){var t=py(hy().mark((function t(e){var r,n,o;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length||e({success:!1,authorization:!1}),t.next=8,ic.readDataStorageLog();case 8:o=t.sent,e(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getAutoLoadFloats:{code:Os.A.msg.BACKGROUND_GET_AUTO_LOAD_FLOATS,handler:function(){var t=py(hy().mark((function t(e){var r;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ic.getAutoLoadFloats();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},pingSihApp:{code:Os.A.msg.BACKGROUND_PING_SIH_APP_SESSION,handler:function(){var t=py(hy().mark((function t(e){var r,n;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({sihAppUserProfile:{}});case 3:if(r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length){t.next=7;break}throw Error("Not found profile sih app");case 7:return t.next=9,ic.pingUser();case 9:return t.next=11,om.updateState(!0);case 11:e({success:!0}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}}};function yy(t){return yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(t)}function vy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(yy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function my(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const gy={syncUser:{handler:function(){var t,e=(t=vy().mark((function t(e){var r,n;return vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({userInfo:{tradeLink:null}});case 3:return r=t.sent.userInfo.tradeLink,t.next=6,dy.msg.updateTradeLink.handler({link:null});case 6:return t.next=8,y.w.getLocal({userInfo:{tradeLink:null}});case 8:if(n=t.sent.userInfo.tradeLink,r===n){t.next=12;break}return t.next=12,Jh(e);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){my(i,n,o,a,s,"next",t)}function s(t){my(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}};function by(t){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(t)}function wy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==by(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(by(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ey(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const xy=function(){var t,e=(t=wy().mark((function t(e,r){return wy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Sync user info: called"),r.provider.send({event:Yu,payload:{event:Yu,data:{}}}),r.provider.send({event:Gu,payload:{event:Gu,data:{}}}),t.next=6,gy.syncUser.handler(r);case 6:r.provider.send({event:Wu,payload:{event:Wu,data:{},messageId:e.messageId}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r.logger.error("Sync user info: error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ey(i,n,o,a,s,"next",t)}function s(t){Ey(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Sy(t){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(t)}function _y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ay(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ay(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ay(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ty(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ty=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Sy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Sy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ly(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ky(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ly(i,n,o,a,s,"next",t)}function s(t){Ly(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Iy=[],Oy=null,Ny=0,Py=null,Cy=function(){var t=ky(Ty().mark((function t(e){var r,n,o,i,a,s;return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ul.buildTradesInfoForController("tradeoffers");case 2:if(r=t.sent,n=r.find((function(t){return+t.tradeOfferId==+e}))){t.next=15;break}return t.next=7,Ul.parseTrades("tradeoffers",!0);case 7:return t.next=9,Ul.parseTrades("tradeoffers/sent",!0);case 9:return t.next=11,Ul.buildTradesInfoForController("tradeoffers");case 11:for(o=t.sent,i=0,a=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];i<a.length;i++)s=a[i],Ul.buildTradesInfoForWindow(s);return t.abrupt("return",o.find((function(t){return+t.tradeOfferId==+e})));case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Dy=function(){var t=ky(Ty().mark((function t(e,r,n){var o,i,a,s,c,u,l,h,f,p,d;return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.tradeid,i=e.partner,a="https:\\/\\/steamcommunity.com\\/tradeoffer\\/(\\d+)\\/accept",t.prev=2,t.next=5,y.w.getLocal("userInfo");case 5:return s=t.sent,c=s.userInfo,u="https://steamcommunity.com/tradeoffer/".concat(o),t.next=10,gh.updateAcceptHeaders(u,a);case 10:return t.next=12,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"".concat(u,"/accept"),data:{sessionid:c.sessionId,serverid:1,tradeofferid:o,partner:i}});case 12:return l=t.sent,t.next=15,Sl.removeRule(a);case 15:if(l){t.next=17;break}throw Error("Steam response error");case 17:return n.provider.send({event:ju,payload:{event:ju,data:{},messageId:r.messageId}}),t.next=20,qh.isAvailableWebApi();case 20:if(!t.sent){t.next=35;break}return t.next=24,Ul.parseTrades("tradeoffers",!0);case 24:h=0,f=["tradeoffers","tradeoffers/?history=1"];case 26:if(!(h<f.length)){t.next=33;break}return p=f[h],t.next=30,Ul.buildTradesInfoForWindow(p);case 30:h++,t.next=26;break;case 33:t.next=37;break;case 35:return t.next=37,qh.updateTradeOfferStateInCache(o,"accepted");case 37:t.next=46;break;case 39:return t.prev=39,t.t0=t.catch(2),t.t0,t.next=44,Sl.removeRule(a);case 44:d=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,n.provider.send({event:ju,payload:{event:ju,data:{error:d||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:r.messageId}});case 46:case"end":return t.stop()}}),t,null,[[2,39]])})));return function(e,r,n){return t.apply(this,arguments)}}();const Ry={acceptTradeOffer:{handler:function(){var t=ky(Ty().mark((function t(e){return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Oy=!0,Py=setInterval(ky(Ty().mark((function t(){var r,n,o,i,a;return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(Iy),Iy.length=0,r.length){t.next=6;break}return++Ny>5&&(clearInterval(Py),Oy=!1,Ny=0),t.abrupt("return");case 6:return Ny=0,t.next=9,Qh(e);case 9:n=t.sent,o=_y(r),t.prev=11,a=Ty().mark((function t(){var r,o,a,s,c,u,l,h,f,p,d;return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.value,o=r.data||{senderSteamId:s,tradeId:u},a=o.senderSteamId,s=void 0===a?null:a,c=o.tradeId,(u=void 0===c?"":c)||e.provider.send({event:ju,payload:{event:ju,data:{error:"Not fount trade ".concat(u," in payload")},messageId:r.messageId}}),!s||!u){t.next=8;break}return t.next=6,(0,Bs.yy)(1e3);case 6:return t.next=8,Dy({tradeid:u,partner:s},r,e);case 8:if(s||!u){t.next=45;break}if(!(n&&n.response&&n.response.trade_offers_received)){t.next=34;break}if(!(l=n.response.trade_offers_received)||!l.length){t.next=32;break}if(!(h=l.find((function(t){return+t.tradeofferid==+u})))){t.next=21;break}return f=Gs().to64(h.accountid_other),t.next=17,(0,Bs.yy)(1e3);case 17:return t.next=19,Dy({tradeid:u,partner:f},r,e);case 19:t.next=32;break;case 21:return t.next=23,Cy(u);case 23:if(!(p=t.sent)){t.next=31;break}return t.next=27,(0,Bs.yy)(1e3);case 27:return t.next=29,Dy({tradeid:u,partner:p.senderId},r,e);case 29:t.next=32;break;case 31:e.provider.send({event:ju,payload:{event:ju,data:{error:"Not found trade ".concat(u)},messageId:r.messageId}});case 32:t.next=45;break;case 34:return t.next=36,Cy(u);case 36:if(!(d=t.sent)){t.next=44;break}return t.next=40,(0,Bs.yy)(1e3);case 40:return t.next=42,Dy({tradeid:u,partner:d.senderId},r,e);case 42:t.next=45;break;case 44:e.provider.send({event:ju,payload:{event:ju,data:{error:"Not found trade ".concat(u)},messageId:r.messageId}});case 45:case"end":return t.stop()}}),t)})),o.s();case 14:if((i=o.n()).done){t.next=18;break}return t.delegateYield(a(),"t0",16);case 16:t.next=14;break;case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(11),o.e(t.t1);case 23:return t.prev=23,o.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[11,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=ky(Ty().mark((function t(){var e,r=arguments;return Ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,Iy.push(e),t.abrupt("return",Oy);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}};function Fy(t){return Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(t)}function jy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Fy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Fy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function By(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const My=function(){var t,e=(t=jy().mark((function t(e,r){return jy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade accept: called"),t.next=4,Ry.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,Ry.acceptTradeOffer.handler(r);case 8:r.logger.log("Trade accept: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade accept: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){By(i,n,o,a,s,"next",t)}function s(t){By(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function Gy(t){return Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(t)}function Uy(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Hy(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hy(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Hy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Gy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Vy(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ky(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Vy(i,n,o,a,s,"next",t)}function s(t){Vy(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Yy=[],Wy=null,zy=0,Xy=null,$y=function(){var t=Ky(qy().mark((function t(e,r){var n,o,i,a,s,c,u;return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e&&e.data||{tradeId:i},o=n.tradeId,i=void 0===o?1:o,t.next=4,y.w.getLocal("userInfo");case 4:return a=t.sent,s=a.userInfo,t.next=8,Bs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(i,"/cancel"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:s.sessionId},xhrFields:{withCredentials:!0}});case 8:if(c=t.sent){t.next=11;break}throw Error("Steam response error");case 11:c&&r.provider.send({event:Mu,payload:{event:Mu,data:{},messageId:e.messageId}}),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0,u=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,r.provider.send({event:Mu,payload:{event:Mu,data:{error:u||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:e.messageId}});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}();const Jy={cancelTradeOffer:{handler:function(){var t=Ky(qy().mark((function t(e){return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Wy=!0,Xy=setInterval(Ky(qy().mark((function t(){var r,n,o,i;return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(Yy),Yy.length=0,r.length){t.next=6;break}return++zy>5&&(clearInterval(Xy),Wy=!1,zy=0),t.abrupt("return");case 6:zy=0,n=Uy(r),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=18;break}return i=o.value,t.next=14,(0,Bs.yy)(1e3);case 14:return t.next=16,$y(i,e);case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[8,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=Ky(qy().mark((function t(e){return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Yy.push(e),t.abrupt("return",Wy);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function Qy(t){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(t)}function Zy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Qy(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Qy(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function tv(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const ev=function(){var t,e=(t=Zy().mark((function t(e,r){return Zy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade cancel: called"),t.next=4,Jy.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,Jy.cancelTradeOffer.handler(r);case 8:r.logger.log("Trade cancel: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade cancel: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tv(i,n,o,a,s,"next",t)}function s(t){tv(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function rv(t){return rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(t)}function nv(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ov(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ov(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ov(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function iv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */iv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==rv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(rv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function av(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function sv(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){av(i,n,o,a,s,"next",t)}function s(t){av(i,n,o,a,s,"throw",t)}a(void 0)}))}}var cv=[],uv=null,lv=0,hv=null,fv=function(){var t=sv(iv().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f;return iv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e&&e.data||{tradeId:i},o=n.tradeId,i=void 0===o?1:o,t.next=4,y.w.getLocal("userInfo");case 4:return a=t.sent,s=a.userInfo,t.next=8,Bs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/".concat(i,"/decline"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{sessionid:s.sessionId},xhrFields:{withCredentials:!0}});case 8:if(c=t.sent){t.next=11;break}throw Error("Steam response error");case 11:return c&&r.provider.send({event:Bu,payload:{event:Bu,data:{},messageId:e.messageId}}),t.next=14,qh.isAvailableWebApi();case 14:if(!t.sent){t.next=29;break}return t.next=18,Ul.parseTrades("tradeoffers",!0);case 18:u=0,l=["tradeoffers","tradeoffers/?history=1"];case 20:if(!(u<l.length)){t.next=27;break}return h=l[u],t.next=24,Ul.buildTradesInfoForWindow(h);case 24:u++,t.next=20;break;case 27:t.next=31;break;case 29:return t.next=31,qh.updateTradeOfferStateInCache(i,"declined");case 31:t.next=38;break;case 33:t.prev=33,t.t0=t.catch(0),t.t0,f=t.t0.responseJSON?t.t0.responseJSON:t.t0.message,r.provider.send({event:Bu,payload:{event:Bu,data:{error:f||"Steam response error - ".concat(t.t0.status," ").concat(t.t0.statusText)},messageId:e.messageId}});case 38:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e,r){return t.apply(this,arguments)}}();const pv={declineTradeOffer:{handler:function(){var t=sv(iv().mark((function t(e){return iv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{uv=!0,hv=setInterval(sv(iv().mark((function t(){var r,n,o,i;return iv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(cv),cv.length=0,r.length){t.next=6;break}return++lv>5&&(clearInterval(hv),uv=!1,lv=0),t.abrupt("return");case 6:lv=0,n=nv(r),t.prev=8,n.s();case 10:if((o=n.n()).done){t.next=18;break}return i=o.value,t.next=14,(0,Bs.yy)(1e3);case 14:return t.next=16,fv(i,e);case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:r.length=0;case 27:case"end":return t.stop()}}),t,null,[[8,20,23,26]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=sv(iv().mark((function t(e){return iv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return cv.push(e),t.abrupt("return",uv);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function dv(t){return dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(t)}function yv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==dv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vv(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const mv=function(){var t,e=(t=yv().mark((function t(e,r){return yv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade decline: called"),t.next=4,pv.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,pv.declineTradeOffer.handler(r);case 8:r.logger.log("Trade decline: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade decline: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vv(i,n,o,a,s,"next",t)}function s(t){vv(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();function gv(t){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(t)}function bv(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function wv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ev(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function xv(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ev(i,n,o,a,s,"next",t)}function s(t){Ev(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Sv(t){return function(t){if(Array.isArray(t))return Av(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(t,e){if(t){if("string"==typeof t)return Av(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Av(t,e):void 0}}function Av(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Tv=[],Lv=null,kv=0,Iv=null,Ov=function(t){return t.length?t.map((function(t){return 2!=+t.contextId?null:{appid:t.appId.toString(),contextid:t.contextId.toString(),amount:t.amount?t.amount.toString():"1",assetid:t.itemId.toString()}})).filter((function(t){return t})):[]},Nv=function(){var t=xv(wv().mark((function t(e,r,n){var o,i;return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="https://steamcommunity.com/tradeoffer/new/send",t.prev=1,t.next=4,gh.updateSendHeaders(o);case 4:return t.next=6,Bs.Ay.apiRequest({method:"POST",url:"https://steamcommunity.com/tradeoffer/new/send",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e,xhrFields:{withCredentials:!0}});case 6:return i=t.sent,t.next=9,Sl.removeRule(o);case 9:i&&r.provider.send({event:Fu,payload:{event:Fu,data:{tradeId:i.tradeofferid,customId:n.data.customId||""},messageId:n.messageId}}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.next=17,Sl.removeRule(o);case 17:r.provider.send({event:Fu,payload:{event:Fu,data:{error:t.t0.responseJSON&&t.t0.responseJSON.strError?t.t0.responseJSON.strError:"Oops... There was an error sending your trade offer.",customId:n.data.customId||""},messageId:n.messageId}});case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r,n){return t.apply(this,arguments)}}();const Pv={tradeSend:{handler:function(){var t=xv(wv().mark((function t(e){return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Lv=!0,Iv=setInterval(xv(wv().mark((function t(){var r,n,o,i,a,s,c,u;return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[].concat(Tv),Tv.length=0,r.length){t.next=6;break}return++kv>5&&(clearInterval(Iv),Lv=!1,kv=0),t.abrupt("return");case 6:return kv=0,t.next=9,y.w.getLocal("userInfo");case 9:n=t.sent,o=n.userInfo,i=bv(r),t.prev=12,i.s();case 14:if((a=i.n()).done){t.next=25;break}return s=a.value,l=s.data,h=void 0,f=void 0,p=void 0,d=void 0,h=l.sender.items||[],f=l.recipient.items||[],p=Ov(h),d=Ov(f),c=JSON.stringify({newversion:!0,version:p.length+d.length+1,me:{assets:Sv(p),currency:[],ready:!1},them:{assets:Sv(d),currency:[],ready:!1}}),u={sessionid:o.sessionId,serverid:"1",partner:s.data.recipient.steamId,json_tradeoffer:c,captcha:"",trade_offer_create_params:JSON.stringify({trade_offer_access_token:s.data.recipient.tradeToken})},s.data.tradeMessage&&(u.tradeoffermessage=s.data.tradeMessage),t.next=21,(0,Bs.yy)(1e3);case 21:return t.next=23,Nv(u,e,s);case 23:t.next=14;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(12),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:r.length=0;case 34:case"end":return t.stop()}var l,h,f,p,d}),t,null,[[12,27,30,33]])}))),3e3)}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePayloadList:{handler:function(){var t=xv(wv().mark((function t(e){return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&Object.keys(e).length){t.next=2;break}return t.abrupt("return");case 2:return Tv.push(e),t.abrupt("return",Lv);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function Cv(t){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(t)}function Dv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Cv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Cv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Rv(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const Fv=function(){var t,e=(t=Dv().mark((function t(e,r){return Dv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.logger.log("Trade send: called"),t.next=4,Pv.savePayloadList.handler(e);case 4:if(t.sent){t.next=8;break}return t.next=8,Pv.tradeSend.handler(r);case 8:r.logger.log("Trade send: done"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.logger.error("Trade send: error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Rv(i,n,o,a,s,"next",t)}function s(t){Rv(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}();var jv;function Bv(t){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(t)}function Mv(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Bv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Gv=(Mv(Mv(Mv(Mv(Mv(Mv(Mv(Mv(Mv(Mv(jv={},Du,Zu),Ru,Rd),ju,My),Bu,mv),Fu,Fv),Mu,ev),Gu,ty),Uu,uy),Hu,Md),Mu,ev),Mv(Mv(Mv(Mv(Mv(Mv(jv,qu,xf),Vu,Kf),Ku,Lf),Yu,ol),Wu,xy),zu,Xf));function Uv(t){return Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(t)}function Hv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qv(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Uv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Uv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vv={delays:[1e4,1e4,2e4,3e4,5e4,8e4,13e4]},Kv=function(){try{var t="NEW SIH",e={eventMapper:function(t){var e=t.data,r=JSON.parse(e);return{type:r.event,payload:{data:r.data,messageId:r.messageId}}},outcomeMessageMapper:function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hv(Object(r),!0).forEach((function(e){qv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({name:t.type},t.payload)},ping:!0,pingMessage:JSON.stringify({name:"ping"}),pingTime:25e3},r=new Au.BasicStorage,n=new Su(Vv),o=new Eu("".concat(t,":AgentWSSProvider:")),i=new _u.WSProvider("wss://wss-new.steaminventoryhelper.com",o,e);n.wrap(i);var a=new Eu("".concat(t,":Agent:")),s=new wu(Gv,i,r,a),c=new xu(s,"sih_app_market_toggle",(function(){return Promise.resolve(!0)}),2e3);return c.run(),c}catch(t){return console.error("SIHAgentBackgroundScript: agent initialization error",t),null}}();const Yv=Kv;var Wv;function zv(t){return zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(t)}function Xv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xv=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==zv(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(zv(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function $v(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Jv(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$v(i,n,o,a,s,"next",t)}function s(t){$v(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Qv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,em(n.key),n)}}function Zv(t,e,r){return e&&Qv(t.prototype,e),r&&Qv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tm(t,e,r){return(e=em(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function em(t){var e=function(t,e){if("object"!=zv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zv(e)?e:e+""}var rm={ts:Date.now()},nm=Zv((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tm(this,"updateState",function(){var e=Jv(Xv().mark((function e(r){var n;return Xv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=4;break}return e.next=4,y.w.set({sih_app_market_toggle:r});case 4:return e.next=6,t.isEnabled();case 6:return n=e.sent,e.next=9,t.restartNeeded();case 9:if(!e.sent){e.next=15;break}Yv.stop(!0),Yv.run(!0),e.next=22;break;case 15:if(!n){e.next=19;break}Yv.run(!0),e.next=22;break;case 19:return Yv.stop(!0),e.next=22,y.w.set({sih_app_market_toggle:!1});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),e.t0;case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}()),tm(this,"restartAgent",Jv(Xv().mark((function t(){var e;return Xv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_market_toggle");case 3:e=t.sent,e.sih_app_market_toggle&&(y.w.set({sih_app_market_toggle_restarts:!0}),Yv.stop(!0),Yv.run(!0),rm.ts=Date.now()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))))}));Wv=nm,tm(nm,"isEnabled",Jv(Xv().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m;return Xv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({sih_app_market_toggle:!1});case 2:return e=t.sent,r=e.sih_app_market_toggle,t.next=6,y.w.getLocal({sihAppOrdersHistory:{}});case 6:return n=t.sent,o=n.sihAppOrdersHistory,t.next=10,Sc.getAllStackBuy();case 10:if(t.t0=t.sent.filter((function(t){return t&&"pending"===t.status})),t.t0){t.next=13;break}t.t0=[];case 13:return i=t.t0,t.next=16,y.w.get({server_switch_controller:!1});case 16:return a=t.sent,s=a.server_switch_controller,t.next=20,Sc.getAllStackBuy();case 20:return c=t.sent,t.next=23,y.w.getLocal({userInfo:{}});case 23:return u=t.sent,l=u.userInfo,t.next=27,y.w.getLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:[]});case 27:if(h=t.sent,f=h.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS,p=l&&l.steamId?+l.steamId[l.steamId.length-1]:null,!((d=l&&l.authorization)&&r&&s&&f.includes(p))){t.next=33;break}return t.abrupt("return",!0);case 33:if(!(d&&r&&s&&c.length)){t.next=35;break}return t.abrupt("return",!!c.length);case 35:if(!(d&&r&&o.success)||o.tfaNeed){t.next=41;break}return v=["new","created","processing","sent"],m=o.orders.data.filter((function(t){return v.includes(t.status)}))||[],t.abrupt("return",!!i.length||!!m.length);case 41:return t.abrupt("return",!1);case 42:case"end":return t.stop()}}),t)})))),tm(nm,"restartNeeded",Jv(Xv().mark((function t(){return Xv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wv.isEnabled();case 2:if(!t.sent){t.next=7;break}if(!(Date.now()-rm.ts>=9e5)){t.next=7;break}return rm.ts=Date.now(),t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)}))));const om=new nm;function im(t){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(t)}function am(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */am=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==im(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(im(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||um(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cm(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=um(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function um(t,e){if(t){if("string"==typeof t)return lm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lm(t,e):void 0}}function lm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function fm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hm(i,n,o,a,s,"next",t)}function s(t){hm(i,n,o,a,s,"throw",t)}a(void 0)}))}}const pm={msg:{deletePermission:{code:Os.A.msg.BACKGROUND_DELETE_PROJECTS_PERMISSION,handler:function(){var t=fm(am().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m=arguments;return am().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=m.length>0&&void 0!==m[0]?m[0]:[],r=m.length>1?m[1]:void 0,t.prev=2,e.length){t.next=5;break}throw Error("Empty delete list");case 5:return t.next=7,y.w.get({projects_permissions:{}});case 7:n=t.sent,o=n.projects_permissions,i=cm(e);try{for(i.s();!(a=i.n()).done;)for(s=a.value,c=0,u=Object.entries(o);c<u.length;c++)for(l=sm(u[c],2),h=l[0],f=l[1],p=0,d=Object.keys(f);p<d.length;p++)(v=d[p])===s&&delete o[h][v]}catch(t){i.e(t)}finally{i.f()}return t.next=13,y.w.set({projects_permissions:o});case 13:Yv.agent.provider.send({event:Hu,payload:{event:Hu,data:{projects:e,action:"delete"}}}),r({success:!0}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),t.t0,r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 21:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(){return t.apply(this,arguments)}}()},editPermission:{code:Os.A.msg.BACKGROUND_EDIT_PROJECTS_PERMISSION,handler:function(){var t=fm(am().mark((function t(e,r){var n,o,i,a,s;return am().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.permission,o=e.project,i=e.action,t.prev=1,n&&o&&i){t.next=4;break}throw Error("The required parameters are missing");case 4:return t.next=6,y.w.get({projects_permissions:{}});case 6:return a=t.sent,s=a.projects_permissions,"accept"===i?s[n][o].isAccepted=!0:s[n][o].isBanned=!0,t.next=11,y.w.set({projects_permissions:s});case 11:Yv.agent.provider.send({event:Hu,payload:{event:Hu,data:{project:o,action:i}}}),r({success:!0}),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),t.t0,Yv.agent.provider.send({event:Hu,payload:{event:Hu,data:{error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"}}}),r({success:!1,error:t.t0.message||t.t0.responseJSON||"Error, something went wrong"});case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()}}};function dm(t){return dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(t)}function ym(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ym=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==dm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function mm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vm(i,n,o,a,s,"next",t)}function s(t){vm(i,n,o,a,s,"throw",t)}a(void 0)}))}}var gm=function(){var t=mm(ym().mark((function t(e,r,n){return ym().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===pm.msg.editPermission.code?3:t.t0===pm.msg.deletePermission.code?6:9;break;case 3:return t.next=5,pm.msg.editPermission.handler(e.data,n);case 5:case 8:case 9:return t.abrupt("break",10);case 6:return t.next=8,pm.msg.deletePermission.handler(e.data,n);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();const bm={msgListener:{listener:{handler:gm},init:{handler:function(){var t=mm(ym().mark((function t(){return ym().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(gm),chrome.runtime.onMessageExternal.addListener(gm);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};function wm(t){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(t)}function Em(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Em=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==wm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function xm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Sm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xm(i,n,o,a,s,"next",t)}function s(t){xm(i,n,o,a,s,"throw",t)}a(void 0)}))}}var _m=function(){var t=Sm(Em().mark((function t(e,r,n){return Em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===$d.msg.getPermissions.code?3:6;break;case 3:return t.next=5,$d.msg.getPermissions.handler(n);case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();const Am={msgListener:{listener:{handler:_m},init:{handler:function(){var t=Sm(Em().mark((function t(){return Em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(_m),chrome.runtime.onMessageExternal.addListener(_m);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};const Tm={handler:function(){try{bm.msgListener.init.handler(),Am.msgListener.init.handler()}catch(t){}}};function Lm(t){return Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(t)}function km(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */km=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Lm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Im(t){return function(t){if(Array.isArray(t))return Om(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Om(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Om(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Om(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Nm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Pm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Nm(i,n,o,a,s,"next",t)}function s(t){Nm(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Cm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rm(n.key),n)}}function Dm(t,e,r){return(e=Rm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rm(t){var e=function(t,e){if("object"!=Lm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Lm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lm(e)?e:e+""}var Fm=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&Cm(t.prototype,e),r&&Cm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"set",value:(o=Pm(km().mark((function e(){var r,n,o=arguments;return km().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>0&&void 0!==o[0]?o[0]:[],o.length>1&&void 0!==o[1]&&!o[1]){e.next=6;break}e.t0=[],e.next=9;break;case 6:return e.next=8,t.get();case 8:e.t0=e.sent;case 9:return n=e.t0,e.next=12,y.w.setLocal(Dm({},"".concat(t.key),[].concat(Im(r),Im(n))));case 12:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"add",value:(n=Pm(km().mark((function e(r){var n;return km().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pull();case 2:return(n=e.sent).push(r),e.abrupt("return",t.set(n));case 5:case"end":return e.stop()}}),e)}))),function(t){return n.apply(this,arguments)})},{key:"pull",value:(r=Pm(km().mark((function e(){var r;return km().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get();case 3:return r=e.sent,e.next=6,t.set();case 6:return e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"get",value:(e=Pm(km().mark((function e(){return km().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.w.getLocal(Dm({},"".concat(t.key),[]));case 3:return e.t0="".concat(t.key),e.abrupt("return",e.sent[e.t0].filter((function(t){return!t.ignore})));case 7:return e.prev=7,e.t1=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})}]);var e,r,n,o}();function jm(){try{return chrome.runtime.getManifest().version}catch(t){return"n/a"}}function Bm(t){return Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(t)}function Mm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Bm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Bm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Gm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Um(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gm(Object(r),!0).forEach((function(e){Hm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Hm(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Bm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Vm(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){qm(i,n,o,a,s,"next",t)}function s(t){qm(i,n,o,a,s,"throw",t)}a(void 0)}))}}Dm(Fm,"key","sihAdStat");const Km={set:{code:Os.A.msg.BACKGROUND_AD_HIT_STORE,handler:function(){var t=Vm(Mm().mark((function t(e){var r,n=arguments;return Mm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:function(){},t.prev=1,t.next=4,Fm.add(Um(Um({},e),{},{sihVersion:jm(),createdAt:Date.now()}));case 4:r({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0,r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},send:{code:Os.A.alarm.BACKGROUND_AD_HIT_SEND,handler:function(){var t=Vm(Mm().mark((function t(){var e,r,n,o,i=arguments;return Mm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:function(){},t.next=3,Fm.pull();case 3:if((r=t.sent).length){t.next=6;break}return t.abrupt("return",e({success:1}));case 6:return t.prev=6,n="".concat(Bs.go,"/sih-stat/stat"),t.next=10,Bs.Ay.apiRequest({method:"POST",url:n,data:{hits:r}});case 10:return o=t.sent,t.abrupt("return",e({success:o.success}));case 14:return t.prev=14,t.t0=t.catch(6),t.t0,t.abrupt("return",e({success:!1}));case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(){return t.apply(this,arguments)}}()}};function Ym(t){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(t)}function Wm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ym(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ym(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function zm(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Xm=function(t){return-1===t.indexOf("<title>Steam Community :: Steam Badges</title>")};const $m={get:{code:Os.A.msg.BACKGROUND_BADGE_PROGRESS_GET_BADGES,handler:function(){var t,e=(t=Wm().mark((function t(e){var r,n,o,i,a,s,c=arguments;return Wm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appid,n=e.border,o=c.length>1&&void 0!==c[1]?c[1]:function(){},t.prev=2,i=n?"?border=".concat(n):"",a="".concat(Bs.sT,"/").concat(r).concat(i),t.next=7,Bs.Ay.sendRequest({method:"GET",url:a,headers:{"cache-control":"no-cache",Accept:"text/html","Content-Type":"text/html"},xhrFields:{withCredentials:!0}});case 7:return s=t.sent,t.abrupt("return",o({success:!0,data:!!Xm(s)&&s}));case 11:return t.prev=11,t.t0=t.catch(2),t.t0,t.abrupt("return",o({success:!1}));case 15:case"end":return t.stop()}}),t,null,[[2,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zm(i,n,o,a,s,"next",t)}function s(t){zm(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}};function Jm(t){return Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(t)}function Qm(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Jm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Jm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Jm(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Jm(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function tg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function eg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tg(i,n,o,a,s,"next",t)}function s(t){tg(i,n,o,a,s,"throw",t)}a(void 0)}))}}const rg={msg:{getSync:{code:"BACKGROUND_GET_SYNC_STORAGE",handler:function(){var t=eg(Zm().mark((function t(e,r){var n,o;return Zm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,t.prev=1,t.next=4,y.w.get("".concat(n));case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},setSync:{code:"BACKGROUND_SET_SYNC_STORAGE",handler:function(){var t=eg(Zm().mark((function t(e,r){var n,o;return Zm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,o=e.value,t.prev=1,t.next=4,y.w.set(Qm({},n,o));case 4:r({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getLocal:{code:"BACKGROUND_GET_LOCAL_STORAGE",handler:function(){var t=eg(Zm().mark((function t(e,r){var n,o;return Zm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,t.prev=1,t.next=4,y.w.getLocal("".concat(n));case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},setLocal:{code:"BACKGROUND_SET_LOCAL_STORAGE",handler:function(){var t=eg(Zm().mark((function t(e,r){var n,o;return Zm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.key,o=e.value,t.prev=1,t.next=4,y.w.setLocal(Qm({},n,o));case 4:r({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()}}};function ng(t){return ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(t)}function og(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */og=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ng(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ng(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ig(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var ag=function(){var t,e=(t=og().mark((function t(e,r,n){return og().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===rg.msg.getSync.code?3:t.t0===rg.msg.setSync.code?6:t.t0===rg.msg.getLocal.code?9:t.t0===rg.msg.setLocal.code?12:15;break;case 3:return t.next=5,rg.msg.getSync.handler(e.data,n);case 5:case 8:case 11:case 14:case 15:return t.abrupt("break",16);case 6:return t.next=8,rg.msg.setSync.handler(e.data,n);case 9:return t.next=11,rg.msg.getLocal.handler(e.data,n);case 12:return t.next=14,rg.msg.setLocal.handler(e.data,n);case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ig(i,n,o,a,s,"next",t)}function s(t){ig(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const sg={listener:{handler:ag},init:{handler:function(){chrome.runtime.onMessage.addListener(ag),chrome.runtime.onMessageExternal.addListener(ag)}}};var cg=function(){sg.init.handler()};const ug={handler:function(){try{cg()}catch(t){}}};function lg(t){return lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(t)}function hg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */hg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==lg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(lg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function fg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fg(i,n,o,a,s,"next",t)}function s(t){fg(i,n,o,a,s,"throw",t)}a(void 0)}))}}var dg=null,yg=function(){var t=pg(hg().mark((function t(){var e,r,n;return hg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kc.refreshSteamPowered();case 3:return e=t.sent,r=Ps.A.Profile.parse(e,["sessionId"]),n=r.sessionId,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.t0,t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),vg=function(){var t=pg(hg().mark((function t(e){var r,n,o,i;return hg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/",crossDomain:!0,xhrFields:{withCredentials:!0}});case 3:if(r=t.sent,n=Ps.A.Profile.parse(r,["sessionId"]),o=n.sessionId,dg=o){t.next=13;break}return t.next=9,yg();case 9:if(dg=t.sent){t.next=13;break}throw e({success:!1,error:"session is over"}),Error("Session is over");case 13:return t.next=15,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://store.steampowered.com/explore/generatenewdiscoveryqueue",data:{sessionid:dg,queuetype:0}});case 15:i=t.sent,e(i),t.next=31;break;case 19:if(t.prev=19,t.t0=t.catch(0),401!==t.t0.status){t.next=29;break}return t.next=24,yg();case 24:return dg=t.sent,t.next=27,vg(e);case 27:t.next=30;break;case 29:e(t.t0);case 30:t.t0;case 31:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();const mg={generateNewDiscoveryQueue:{code:Os.A.msg.BACKGROUND_GET_EVENT_CARDS,handler:function(){var t=pg(hg().mark((function t(e){return hg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vg(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},checkEventGame:{code:Os.A.msg.BACKGROUND_CHECK_EVENT_GAME,handler:function(){var t=pg(hg().mark((function t(e,r){var n,o;return hg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.appid_to_clear_from_queue,t.prev=1,dg){t.next=5;break}throw r({success:!1,error:"session is over"}),Error("Session is over");case 5:return t.next=7,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:"https://store.steampowered.com/app/10",data:{sessionid:dg,appid_to_clear_from_queue:n}});case 7:o=t.sent,r(o),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),r(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}};function gg(t){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(t)}function bg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function wg(t,e,r){return(e=Tg(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eg(t){return function(t){if(Array.isArray(t))return xg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return xg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xg(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Sg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _g(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sg(i,n,o,a,s,"next",t)}function s(t){Sg(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Ag(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tg(n.key),n)}}function Tg(t){var e=function(t,e){if("object"!=gg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gg(e)?e:e+""}var Lg=function(){return function(t,e,r){return e&&Ag(t.prototype,e),r&&Ag(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}),[{key:"set",value:(n=_g(bg().mark((function t(){var e,r,n=arguments;return bg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:[],r=n.length>1&&void 0!==n[1]&&!n[1]?this.get():[],t.next=5,y.w.setLocal(wg({},"".concat(this.name),[].concat(Eg(e),Eg(r))));case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"add",value:(r=_g(bg().mark((function t(e){var r;return bg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pull();case 2:return(r=t.sent).push(e),t.next=6,this.set(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"pull",value:(e=_g(bg().mark((function t(){var e;return bg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.get();case 3:return e=t.sent,t.next=6,this.set();case 6:return t.abrupt("return",e);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"get",value:(t=_g(bg().mark((function t(){return bg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal(wg({},"".concat(this.name),[]));case 3:return t.t0="".concat(this.name),t.abrupt("return",t.sent[t.t0].filter((function(t){return!t.ignore})));case 7:return t.prev=7,t.t1=t.catch(0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return t.apply(this,arguments)})}]);var t,e,r,n}();function kg(t){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(t)}function Ig(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Og(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Og(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Og(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ng(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ng=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Pg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Cg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pg(i,n,o,a,s,"next",t)}function s(t){Pg(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Dg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dg(Object(r),!0).forEach((function(e){Fg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fg(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=kg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jg=new Lg("sihEventReg"),Bg={"view-item":Os.A.stats.SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED,events:Os.A.stats.SIH_EVENTS_REGISTER_ENABLED},Mg=Object.values(Bg).reduce((function(t,e){return Rg(Rg({},t),{},Fg({},e,!1))}),{}),Gg={set:{code:Os.A.msg.BACKGROUND_EVENT_STORE,handler:function(){var t=Cg(Ng().mark((function t(e,r){var n,o;return Ng().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.next=3,y.w.get(Mg);case 3:if(o=t.sent,t.prev=4,!o[Bg[e.type]]){t.next=8;break}return t.next=8,jg.add({type:e.type,payload:Rg(Rg({},e.payload),{},{sihVersion:(0,Bs.lV)()})});case 8:n({success:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),t.t0,n({success:!1});case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,r){return t.apply(this,arguments)}}()},send:{code:Os.A.msg.BACKGROUND_EVENT_REGISTRATION,handler:function(){var t=Cg(Ng().mark((function t(e,r){var n,o,i;return Ng().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.next=3,jg.pull();case 3:if(o=t.sent,(i=Object.entries(o.reduce((function(t,e){var r=e.type,n=e.payload;return t[r]=t[r]||[],t[r].push(n),t}),{}))).length){t.next=7;break}return t.abrupt("return",n({success:1}));case 7:return t.prev=7,t.next=10,Promise.all(i.map((function(t){var e=Ig(t,2),r=e[0],n=e[1];return Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.f5,"/event-register/").concat(r),data:{events:n}})})));case 10:return t.abrupt("return",n({success:!0}));case 13:return t.prev=13,t.t0=t.catch(7),t.t0,t.abrupt("return",n({success:!1}));case 17:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e,r){return t.apply(this,arguments)}}()}};const Ug=Gg;function Hg(t){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(t)}function qg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Hg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Hg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Vg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vg(Object(r),!0).forEach((function(e){Yg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yg(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Hg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function zg(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Wg(i,n,o,a,s,"next",t)}function s(t){Wg(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Xg=new Lg("sihEventRegV2");const $g={msg:{setEvent:{code:Os.A.msg.BACKGROUND_SET_EVENT_REGISTRATION_V2,handler:function(){var t=zg(qg().mark((function t(e,r){var n;return qg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.prev=1,t.next=4,Xg.add(Kg(Kg({},e),{},{sihVersion:(0,Bs.lV)()}));case 4:n({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("EventRegistrationV2.set error:",t.t0),n({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{sendEventData:{code:Os.A.alarm.BACKGROUND_SEND_EVENT_REGISTRATION_V2,handler:function(){var t=zg(qg().mark((function t(){var e;return qg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xg.pull();case 2:if(e=t.sent,t.prev=3,!e.length){t.next=7;break}return t.next=7,Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.f5,"/event-register"),data:e});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error("EventRegistrationV2.send error:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}()}}};function Jg(t){return Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(t)}function Qg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Qg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Jg(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Jg(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Zg(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function tb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Zg(i,n,o,a,s,"next",t)}function s(t){Zg(i,n,o,a,s,"throw",t)}a(void 0)}))}}var eb=function(t,e,r){if(t.type===$g.msg.setEvent.code)$g.msg.setEvent.handler(t.data,r);return!0},rb=function(){chrome.alarms.create($g.alarm.sendEventData.code,{delayInMinutes:1,periodInMinutes:1})},nb=function(){var t=tb(Qg().mark((function t(e){return Qg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===$g.alarm.sendEventData.code?3:5;break;case 3:return $g.alarm.sendEventData.handler(),t.abrupt("break",6);case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ob=function(){var t=tb(Qg().mark((function t(){return Qg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:rb(),chrome.alarms.onAlarm.addListener(nb);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const ib={msgListener:{listener:{handler:eb},init:{handler:function(){chrome.runtime.onMessage.addListener(eb),chrome.runtime.onMessageExternal.addListener(eb)}}},alarmListener:{createAlarms:{handler:rb},listener:{handler:nb},init:{handler:ob}}};const ab={handler:function(){try{ib.alarmListener.init.handler(),ib.msgListener.init.handler()}catch(t){}}};function sb(t){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(t)}function cb(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pb(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function ub(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ub(Object(r),!0).forEach((function(e){hb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hb(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=sb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sb(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||pb(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pb(t,e){if(t){if("string"==typeof t)return db(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?db(t,e):void 0}}function db(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function yb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==sb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(sb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function mb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vb(i,n,o,a,s,"next",t)}function s(t){vb(i,n,o,a,s,"throw",t)}a(void 0)}))}}var gb={},bb=!1,wb=function(){var t=mb(yb().mark((function t(e,r){var n;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!r){t.next=11;break}return t.next=3,Sl.generateDynamicRuleId(r);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:e}]},t.t2={urlFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,Sl.setRule(n);case 9:t.next=12;break;case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Eb=function(){var t=mb(yb().mark((function t(e,r){var n,o,i,a,s,c,u,l,h;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,o=e.requestHeaders,i=void 0===o?{}:o,t.prev=1,Object.keys(i).length>0)for(a=0,s=Object.entries(i);a<s.length;a++)c=fb(s[a],2),u=c[0],l=c[1],gb[u]=l;return t.next=5,wb(gb.referer,r);case 5:return t.next=7,Bs.Ay.apiRequest(lb({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}},n));case 7:return h=t.sent,t.next=10,Sl.removeRule(r);case 10:return t.abrupt("return",h);case 13:return t.prev=13,t.t0=t.catch(1),t.next=17,Sl.removeRule(r);case 17:return console.error(t.t0),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}(),xb=function(){var t=mb(yb().mark((function t(e,r){var n,o,i,a;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,i={params:{method:"POST",url:"https://steamcommunity.com/market/createbuyorder/",data:n},requestHeaders:{referer:o.referer}},t.next=6,Eb(i,"https://steamcommunity.com/market/createbuyorder/");case 6:a=t.sent,r(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),Sb=function(){var t=mb(yb().mark((function t(e,r){var n,o,i,a;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,i={params:{method:"POST",url:"https://steamcommunity.com/market/cancelbuyorder/",data:n},requestHeaders:{referer:o.referer}},t.next=6,Eb(i,"https://steamcommunity.com/market/cancelbuyorder/");case 6:a=t.sent,r(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),_b=function(t){return new Promise((function(e){return setTimeout(e,t)}))};const Ab={msg:{createOrder:{code:Os.A.msg.BACKGROUND_CREATE_BUY_ORDER,handler:function(){var t=mb(yb().mark((function t(e,r){var n,o;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.next=3,xb({payload:n,requestHeaders:o},r);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},getOrderStatus:{code:Os.A.msg.BACKGROUND_GET_BUY_ORDER_STATUS,handler:function(){var t=mb(yb().mark((function t(e,r){var n,o,i,a;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.prev=1,i={params:{method:"GET",url:"https://steamcommunity.com/market/getbuyorderstatus/",data:n},requestHeaders:{referer:o.referer}},t.next=6,Eb(i,"https://steamcommunity.com/market/getbuyorderstatus/*");case 6:a=t.sent,r(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()},cancelOrder:{code:Os.A.msg.BACKGROUND_CANCEL_BUY_ORDER,handler:function(){var t=mb(yb().mark((function t(e,r){var n,o;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,o=e.requestHeaders,t.next=3,Sb({payload:n,requestHeaders:o},r);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},resubmitOrders:{code:Os.A.msg.BACKGROUND_RESUBMIT_BUY_ORDER,handler:function(){var t=mb(yb().mark((function t(e,r){var n,o,i;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,bb=!1,n=cb(e),t.prev=3,i=yb().mark((function t(){var e,r,n,i;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.value,r=e.payload,n=e.requestHeaders,i=!1,t.next=4,_b(500);case 4:if(bb){t.next=7;break}return t.next=7,Sb({payload:r,requestHeaders:n},(function(t){1===t.success&&(i=!0)}));case 7:return t.next=9,_b(2e3);case 9:if(!i||bb){t.next=12;break}return t.next=12,xb({payload:r,requestHeaders:n},function(){var t=mb(yb().mark((function t(e){var n,o,a,s;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.message){t.next=12;break}return t.next=3,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 3:return n=t.sent,o=n.COMPLETED_BUY_ORDERS_MARKET_ITEMS,r.isRemove=i,r.isSell=!0,o.push(r),t.next=10,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:o});case 10:t.next=21;break;case 12:return t.next=14,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 14:return a=t.sent,s=a.COMPLETED_BUY_ORDERS_MARKET_ITEMS,r.isRemove=i,r.isSell=!1,s.push(r),t.next=21,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:s});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})),n.s();case 6:if((o=n.n()).done){t.next=10;break}return t.delegateYield(i(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),n.e(t.t1);case 15:return t.prev=15,n.f(),t.finish(15);case 18:r(),t.next=24;break;case 21:t.prev=21,t.t2=t.catch(0),t.t2;case 24:case"end":return t.stop()}}),t,null,[[0,21],[3,12,15,18]])})));return function(e,r){return t.apply(this,arguments)}}()},getSuccessBuyOrdersCount:{code:Os.A.msg.BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS,handler:function(){var t=mb(yb().mark((function t(e){var r,n;return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 3:r=t.sent,n=r.COMPLETED_BUY_ORDERS_MARKET_ITEMS,e({COMPLETED_MARKET_ITEMS:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},stopRelisting:{code:Os.A.msg.BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS,handler:function(){var t=mb(yb().mark((function t(e){return yb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,bb=!0,t.next=4,y.w.setLocal({COMPLETED_BUY_ORDERS_MARKET_ITEMS:[]});case 4:e({success:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{}};function Tb(t){return Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(t)}function Lb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Tb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Tb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function kb(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Ib=function(){var t,e=(t=Lb().mark((function t(e,r,n){return Lb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Ab.msg.createOrder.code?3:t.t0===Ab.msg.getOrderStatus.code?6:t.t0===Ab.msg.cancelOrder.code?9:t.t0===Ab.msg.resubmitOrders.code?12:t.t0===Ab.msg.getSuccessBuyOrdersCount.code?15:t.t0===Ab.msg.stopRelisting.code?18:21;break;case 3:return t.next=5,Ab.msg.createOrder.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 21:return t.abrupt("break",22);case 6:return t.next=8,Ab.msg.getOrderStatus.handler(e.data,n);case 9:return t.next=11,Ab.msg.cancelOrder.handler(e.data,n);case 12:return t.next=14,Ab.msg.resubmitOrders.handler(e.data,n);case 15:return t.next=17,Ab.msg.getSuccessBuyOrdersCount.handler(n);case 18:return t.next=20,Ab.msg.stopRelisting.handler(n);case 22:return t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kb(i,n,o,a,s,"next",t)}function s(t){kb(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const Ob={listener:{handler:Ib},init:{handler:function(){chrome.runtime.onMessage.addListener(Ib),chrome.runtime.onMessageExternal.addListener(Ib)}}};function Nb(t){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(t)}function Pb(t){return function(t){if(Array.isArray(t))return Mb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bb(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Db(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cb(Object(r),!0).forEach((function(e){Rb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rb(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Nb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nb(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||Bb(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jb(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Bb(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Bb(t,e){if(t){if("string"==typeof t)return Mb(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mb(t,e):void 0}}function Mb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Gb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Gb=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Nb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Nb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ub(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Hb(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ub(i,n,o,a,s,"next",t)}function s(t){Ub(i,n,o,a,s,"throw",t)}a(void 0)}))}}var qb=!1,Vb=[],Kb=function(){var t=Hb(Gb().mark((function t(e){var r;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(e);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/market/"},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={urlFilter:e},r={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Yb=function(){var t=Hb(Gb().mark((function t(e){var r,n;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({USER_INVENTORY_URL:null});case 2:if(!(r=t.sent.USER_INVENTORY_URL)){t.next=14;break}return t.next=6,Sl.generateDynamicRuleId(e);case 6:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:r},{header:"Origin",operation:"set",value:"https://steamcommunity.com"}]},t.t2={urlFilter:e},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=12,Sl.setRule(n);case 12:t.next=15;break;case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wb=function(t){return new Promise((function(e){return setTimeout(e,t)}))},zb=function(){var t=Hb(Gb().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_,A,T;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({SELL_LISTING:[]});case 2:if(e=t.sent,(r=e.SELL_LISTING).length&&Vb.length){t.next=6;break}return t.abrupt("return");case 6:n=jb(Vb.entries()),t.prev=7,n.s();case 9:if((o=n.n()).done){t.next=56;break}i=Fb(o.value,2),a=i[0],s=i[1],c=0,u=Object.entries(s);case 12:if(!(c<u.length)){t.next=54;break}l=Fb(u[c],2),h=l[0],f=l[1],p=jb(f.entries()),t.prev=15,p.s();case 17:if((d=p.n()).done){t.next=43;break}v=Fb(d.value,2),m=v[0],g=v[1],b=0,w=Object.entries(g);case 20:if(!(b<w.length)){t.next=41;break}E=Fb(w[b],2),x=E[0],S=E[1],_=jb(S.entries()),t.prev=23,T=Gb().mark((function t(){var e,n,o,i;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Fb(A.value,2),n=e[0],o=e[1],(i=r.find((function(t){return t.assetid&&t.assetid===o.assetid})))&&!qb&&(Vb[a][h][m][x][n]=Db(Db({},o),i));case 3:case"end":return t.stop()}}),t)})),_.s();case 26:if((A=_.n()).done){t.next=30;break}return t.delegateYield(T(),"t0",28);case 28:t.next=26;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(23),_.e(t.t1);case 35:return t.prev=35,_.f(),t.finish(35);case 38:b++,t.next=20;break;case 41:t.next=17;break;case 43:t.next=48;break;case 45:t.prev=45,t.t2=t.catch(15),p.e(t.t2);case 48:return t.prev=48,p.f(),t.finish(48);case 51:c++,t.next=12;break;case 54:t.next=9;break;case 56:t.next=61;break;case 58:t.prev=58,t.t3=t.catch(7),n.e(t.t3);case 61:return t.prev=61,n.f(),t.finish(61);case 64:case"end":return t.stop()}}),t,null,[[7,58,61,64],[15,45,48,51],[23,32,35,38]])})));return function(){return t.apply(this,arguments)}}(),Xb=function(){var t=Hb(Gb().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,I,O,N,P;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.sessionid,n="https://steamcommunity.com/market/removelisting/*",o=jb(Vb.entries()),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=81;break}a=Fb(i.value,2),s=a[0],c=a[1],u=0,l=Object.entries(c);case 8:if(!(u<l.length)){t.next=79;break}h=Fb(l[u],2),f=h[0],p=h[1],d=jb(p.entries()),t.prev=11,d.s();case 13:if((v=d.n()).done){t.next=68;break}m=Fb(v.value,2),g=m[0],b=m[1],w=0,E=Object.entries(b);case 16:if(!(w<E.length)){t.next=66;break}x=Fb(E[w],2),S=x[0],_=x[1],A=jb(_.entries()),t.prev=19,A.s();case 21:if((T=A.n()).done){t.next=55;break}if(L=Fb(T.value,2),k=L[0],I=L[1],Vb.length||!qb){t.next=25;break}return t.abrupt("return");case 25:return t.prev=25,O=I.listingid,t.next=29,Wb(500);case 29:return t.next=31,Kb(n);case 31:return t.next=33,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"POST",url:"https://steamcommunity.com/market/removelisting/".concat(O),data:{sessionid:r}});case 33:return t.sent,t.next=36,Sl.removeRule(n);case 36:I.isRemove=!0,t.next=53;break;case 39:return t.prev=39,t.t0=t.catch(25),t.next=43,Sl.removeRule(n);case 43:return Vb[s][f][g][S].splice(k,1),Vb[s][f][g][S].length||Vb[s][f].splice(g,1),t.next=47,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 47:return N=t.sent,P=N.COMPLETED_SELL_MARKET_ITEMS,I.isRemove=!1,P.push(I),t.next=53,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:P});case 53:t.next=21;break;case 55:t.next=60;break;case 57:t.prev=57,t.t1=t.catch(19),A.e(t.t1);case 60:return t.prev=60,A.f(),t.finish(60);case 63:w++,t.next=16;break;case 66:t.next=13;break;case 68:t.next=73;break;case 70:t.prev=70,t.t2=t.catch(11),d.e(t.t2);case 73:return t.prev=73,d.f(),t.finish(73);case 76:u++,t.next=8;break;case 79:t.next=5;break;case 81:t.next=86;break;case 83:t.prev=83,t.t3=t.catch(3),o.e(t.t3);case 86:return t.prev=86,o.f(),t.finish(86);case 89:case"end":return t.stop()}}),t,null,[[3,83,86,89],[11,70,73,76],[19,57,60,63],[25,39]])})));return function(e){return t.apply(this,arguments)}}(),$b=function(){var t=Hb(Gb().mark((function t(e,r){var n,o,i,a,s,c;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=r.split("/"),o=Fb(n,2),i=o[0],a=o[1],t.next=4,Wb(3e3);case 4:return t.next=6,y.w.setLocal({CURRENT_PARSING_USER_URL:"https://steamcommunity.com/profiles/".concat(e,"/")});case 6:return t.next=8,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(e,"/").concat(i,"/").concat(a,"?l=english&count=2000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 8:return s=t.sent,c=s.assets,t.abrupt("return",c);case 13:return t.prev=13,t.t0=t.catch(0),t.t0,t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}(),Jb=function(){var t=Hb(Gb().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_,A,T;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionid,n=e.steamid,o="https://steamcommunity.com/market/sellitem/",t.next=4,y.w.setLocal({USER_INVENTORY_URL:"https://steamcommunity.com/profiles/".concat(n,"/inventory")});case 4:i=jb(Vb.entries()),t.prev=5,i.s();case 7:if((a=i.n()).done){t.next=61;break}s=Fb(a.value,2),s[0],c=s[1],u=0,l=Object.entries(c);case 10:if(!(u<l.length)){t.next=59;break}if(h=Fb(l[u],2),f=h[0],p=h[1],Vb.length&&p.length){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,$b(n,f);case 16:if((d=t.sent).length){t.next=19;break}return t.abrupt("return");case 19:v=jb(p.entries()),t.prev=20,v.s();case 22:if((m=v.n()).done){t.next=48;break}g=Fb(m.value,2),g[0],b=g[1],w=0,E=Object.entries(b);case 25:if(!(w<E.length)){t.next=46;break}x=Fb(E[w],2),x[0],S=x[1],_=jb(S.entries()),t.prev=28,T=Gb().mark((function t(){var e,n,i,a,s,c,u,l,h,f,p,v;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Fb(A.value,2),e[0],n=e[1],t.next=3,Wb(2e3);case 3:if(!((i=d.findIndex((function(t){return t.instanceid===n.instanceid&&t.classid===n.classid&&+t.amount==+n.amount})))>=0)){t.next=48;break}if(a=d[i],d.splice(i,1),!a||qb){t.next=48;break}return t.prev=8,t.next=11,y.w.getLocal({SELL_LISTING:[]});case 11:return s=t.sent,c=s.SELL_LISTING,u=c.findIndex((function(t){return t.assetid===n.assetid})),t.next=16,Yb(o);case 16:return t.next=18,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},method:"POST",url:"https://steamcommunity.com/market/sellitem/",data:{sessionid:r,appid:a.appid,contextid:a.contextid,assetid:a.assetid,amount:+c[u].amount||n.amount,price:n.price}});case 18:return l=t.sent,t.next=21,Sl.removeRule(o);case 21:if(!(u>=0)){t.next=33;break}return c[u].assetid=a.assetid,t.next=25,y.w.setLocal({SELL_LISTING:c});case 25:return t.next=27,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 27:return h=t.sent,f=h.COMPLETED_SELL_MARKET_ITEMS,n.isSell=l.success,f.push(n),t.next=33,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:f});case 33:t.next=48;break;case 35:return t.prev=35,t.t0=t.catch(8),t.t0,t.next=40,Sl.removeRule(o);case 40:return t.next=42,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 42:return p=t.sent,v=p.COMPLETED_SELL_MARKET_ITEMS,n.isSell=!1,v.push(n),t.next=48,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:v});case 48:case"end":return t.stop()}}),t,null,[[8,35]])})),_.s();case 31:if((A=_.n()).done){t.next=35;break}return t.delegateYield(T(),"t0",33);case 33:t.next=31;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(28),_.e(t.t1);case 40:return t.prev=40,_.f(),t.finish(40);case 43:w++,t.next=25;break;case 46:t.next=22;break;case 48:t.next=53;break;case 50:t.prev=50,t.t2=t.catch(20),v.e(t.t2);case 53:return t.prev=53,v.f(),t.finish(53);case 56:u++,t.next=10;break;case 59:t.next=7;break;case 61:t.next=66;break;case 63:t.prev=63,t.t3=t.catch(5),i.e(t.t3);case 66:return t.prev=66,i.f(),t.finish(66);case 69:case"end":return t.stop()}}),t,null,[[5,63,66,69],[20,50,53,56],[28,37,40,43]])})));return function(e){return t.apply(this,arguments)}}();const Qb={msg:{getEnabledResubmitOrders:{code:Os.A.msg.BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS,handler:function(){var t=Hb(Gb().mark((function t(e,r){return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.steamId;try{chrome.management.getSelf((function(t){"normal"===t.installType?r({success:!0}):r({success:!1})}))}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},saveItem:{code:Os.A.msg.BACKGROUND_SAVE_ITEM_FOR_SALE,handler:function(){var t=Hb(Gb().mark((function t(e){var r,n,o,i,a;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({SELL_LISTING:[]});case 3:if(r=t.sent,(n=r.SELL_LISTING).length){t.next=9;break}n.push.apply(n,Pb(e)),t.next=25;break;case 9:o=jb(e),t.prev=10,a=Gb().mark((function t(){var e;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.value,n.findIndex((function(t){return t.assetid===e.assetid}))<0&&n.push(e);case 3:case"end":return t.stop()}}),t)})),o.s();case 13:if((i=o.n()).done){t.next=17;break}return t.delegateYield(a(),"t0",15);case 15:t.next=13;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(10),o.e(t.t1);case 22:return t.prev=22,o.f(),t.finish(22);case 25:return t.next=27,y.w.setLocal({SELL_LISTING:n});case 27:t.next=32;break;case 29:t.prev=29,t.t2=t.catch(0),t.t2;case 32:case"end":return t.stop()}}),t,null,[[0,29],[10,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()},removeItem:{code:Os.A.msg.BACKGROUND_REMOVE_ITEM_FOR_SALE,handler:function(){var t=Hb(Gb().mark((function t(e){var r,n,o,i,a,s;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.assetids,t.prev=1,t.next=4,y.w.getLocal({SELL_LISTING:[]});case 4:if(n=t.sent,!(o=n.SELL_LISTING).length){t.next=25;break}i=jb(r),t.prev=8,s=Gb().mark((function t(){var e,r;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.value,(r=o.findIndex((function(t){return t.assetid===e})))>=0&&o.splice(r,1);case 3:case"end":return t.stop()}}),t)})),i.s();case 11:if((a=i.n()).done){t.next=15;break}return t.delegateYield(s(),"t0",13);case 13:t.next=11;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(8),i.e(t.t1);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return t.next=25,y.w.setLocal({SELL_LISTING:o});case 25:t.next=30;break;case 27:t.prev=27,t.t2=t.catch(1),t.t2;case 30:case"end":return t.stop()}}),t,null,[[1,27],[8,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},getSavedItems:{code:Os.A.msg.BACKGROUND_GET_SAVED_ITEMS_FOR_SALE,handler:function(){var t=Hb(Gb().mark((function t(e){var r,n;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({SELL_LISTING:[]});case 3:r=t.sent,n=r.SELL_LISTING,e(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},sellItem:{code:Os.A.msg.BACKGROUND_RESELL_ITEMS,handler:function(){var t=Hb(Gb().mark((function t(e,r){var n,o;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,qb=!1,n=e.userInfo,o=e.data,Vb=Pb(o),t.next=7,zb();case 7:return t.next=9,Xb(n);case 9:return t.next=11,Jb(n);case 11:r(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0,r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},stopReselling:{code:Os.A.msg.BACKGROUND_STOP_RESELL_ITEMS,handler:function(){var t=Hb(Gb().mark((function t(e){return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,qb=!0,Vb=[],t.next=5,y.w.setLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 5:e({success:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getSuccessSellCount:{code:Os.A.msg.BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS,handler:function(){var t=Hb(Gb().mark((function t(e){var r,n;return Gb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({COMPLETED_SELL_MARKET_ITEMS:[]});case 3:r=t.sent,n=r.COMPLETED_SELL_MARKET_ITEMS,e({COMPLETED_MARKET_ITEMS:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{}};function Zb(t){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(t)}function tw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Zb(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Zb(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ew(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var rw=function(){var t,e=(t=tw().mark((function t(e,r,n){return tw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Qb.msg.getEnabledResubmitOrders.code?3:t.t0===Qb.msg.saveItem.code?6:t.t0===Qb.msg.removeItem.code?9:t.t0===Qb.msg.getSavedItems.code?12:t.t0===Qb.msg.sellItem.code?15:t.t0===Qb.msg.stopReselling.code?18:t.t0===Qb.msg.getSuccessSellCount.code?21:24;break;case 3:return t.next=5,Qb.msg.getEnabledResubmitOrders.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 24:return t.abrupt("break",25);case 6:return t.next=8,Qb.msg.saveItem.handler(e.data);case 9:return t.next=11,Qb.msg.removeItem.handler(e.data);case 12:return t.next=14,Qb.msg.getSavedItems.handler(n);case 15:return t.next=17,Qb.msg.sellItem.handler(e.data,n);case 18:return t.next=20,Qb.msg.stopReselling.handler(n);case 21:return t.next=23,Qb.msg.getSuccessSellCount.handler(n);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ew(i,n,o,a,s,"next",t)}function s(t){ew(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const nw={listener:{handler:rw},init:{handler:function(){chrome.runtime.onMessage.addListener(rw),chrome.runtime.onMessageExternal.addListener(rw)}}};const ow={handler:function(){try{Ob.init.handler(),nw.init.handler()}catch(t){}}};function iw(t){return iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(t)}function aw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==iw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(iw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const cw={get:{code:Os.A.msg.BACKGROUND_GET_ONLINE_USERS_BY_APPID,handler:function(){var t,e=(t=aw().mark((function t(e,r){var n;return aw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appid,t.prev=1,t.t0=r,t.next=5,Bs.Ay.sendRequest({method:"GET",url:"".concat(Bs.IP,"/app/").concat(n,"/chart-data.json")});case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),t.t2;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sw(i,n,o,a,s,"next",t)}function s(t){sw(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};function uw(t){return uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(t)}function lw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==uw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(uw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function fw(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){hw(i,n,o,a,s,"next",t)}function s(t){hw(i,n,o,a,s,"throw",t)}a(void 0)}))}}function pw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vw(n.key),n)}}function dw(t,e,r){return e&&pw(t.prototype,e),r&&pw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yw(t,e,r){return(e=vw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vw(t){var e=function(t,e){if("object"!=uw(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=uw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uw(e)?e:e+""}var mw=dw((function t(e,r,n,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),yw(this,"openDB",fw(lw().mark((function t(){var e;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=indexedDB.open(i.dbName),t.abrupt("return",new Promise((function(t,r){e.onupgradeneeded=function(t){i.db=t.target.result,i.availableStoreNames.forEach((function(t){i.db.createObjectStore(t,{keyPath:i.keyPath,autoIncrement:!0}).transaction.oncomplete=function(t){}}))},e.onsuccess=function(e){i.db=e.target.result,t({success:!0,message:"Database ".concat(i.dbName," is opened")})},e.onerror=function(t){r(Error("Problem opening ".concat(i.dbName)))}})));case 5:throw t.prev=5,t.t0=t.catch(0),console.error("Error opening DB:",t.t0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))),yw(this,"insert",function(){var t=fw(lw().mark((function t(e){var r,n;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All add transactions complete"})},r.onerror=function(t){o(Error("Problem with add record"))},e.forEach((function(t){n.add(t.value,t.key)}))})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error inserting data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.insert(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),yw(this,"update",function(){var t=fw(lw().mark((function t(e){var r,n;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All put transactions complete"})},r.onerror=function(){o(Error("Problem with update record"))},e.forEach((function(t){n.put(t.value,t.key)}))})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error update data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.update(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),yw(this,"get",function(){var t=fw(lw().mark((function t(e){var r,n;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readonly"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,r){var o=n.get(e);o.onsuccess=function(e){e.target.result?t(e.target.result):r(Error("Not found key"))},o.onerror=function(t){r(Error("Error getting data from IndexedDB"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.get(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),yw(this,"getAll",fw(lw().mark((function t(){var e,r;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readonly"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,e){var n=r.getAll();n.onsuccess=function(r){r.target.result?t(r.target.result):e(Error("Some error"))},n.onerror=function(t){e(Error("Error getting data from IndexedDB"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.getAll();case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),yw(this,"getAllWithKeys",fw(lw().mark((function t(){var e,r;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readonly"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,e){var n=[],o=r.openCursor();o.onsuccess=function(e){var r=e.target.result;r?(n.push({key:r.key,value:r.value}),r.continue()):t(n)},o.onerror=function(t){e(Error("Error getting data from IndexedDB"))}})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error get data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.getAll();case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),yw(this,"delete",function(){var t=fw(lw().mark((function t(e){var r,n;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return r=i.db.transaction([i.storeName],"readwrite"),n=r.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,o){r.oncomplete=function(){t({success:!0,message:"All delete transactions complete"})},r.onerror=function(){o(Error("Problem with delete record"))},n.delete(e)})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error delete data:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.delete(e);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),yw(this,"clear",fw(lw().mark((function t(){var e,r;return lw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.db){t.next=3;break}throw Error("Database is not open");case 3:return e=i.db.transaction([i.storeName],"readwrite"),r=e.objectStore(i.storeName),t.abrupt("return",new Promise((function(t,n){e.oncomplete=function(){t({success:!0,message:"Clear transaction complete"})},e.onerror=function(){n(Error("Problem with clear store"))},r.clear()})));case 8:if(t.prev=8,t.t0=t.catch(0),console.error("Error clear store:",t.t0),"Database is not open"!==t.t0.message){t.next=17;break}return t.next=14,i.openDB();case 14:return t.next=16,i.delete(key);case 16:return t.abrupt("return",t.sent);case 17:throw t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,8]])})))),this.dbName=e,this.storeName=r,this.availableStoreNames=n,this.keyPath=o,this.db=null})),gw=r(8891);function bw(t){return bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(t)}function ww(t){return function(t){if(Array.isArray(t))return Ew(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ew(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ew(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bw(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(bw(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Sw(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _w(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sw(i,n,o,a,s,"next",t)}function s(t){Sw(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Aw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lw(n.key),n)}}function Tw(t,e,r){return(e=Lw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lw(t){var e=function(t,e){if("object"!=bw(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bw(e)?e:e+""}var kw=function(){return function(t,e,r){return e&&Aw(t.prototype,e),r&&Aw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Tw(this,"time",(function(t){return Math.floor(Date.now()/1e3)+(t||0)})),Tw(this,"hmacSha1",(function(t,e){return self.crypto.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]).then((function(t){return self.crypto.subtle.sign("HMAC",t,e)}))})),Tw(this,"generateAuthCode",function(){var t=_w(xw().mark((function t(r,n){var o;return xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.bufferizeSecret(r),!n){t.next=5;break}t.t0=n,t.next=8;break;case 5:return t.next=7,e.getTimeOffset();case 7:t.t0=t.sent.offset;case 8:return n=t.t0,(o=gw.hp.allocUnsafe(8)).writeUInt32BE(0,0),o.writeUInt32BE(Math.floor(e.time(n)/30),4),t.abrupt("return",e.hmacSha1(r,o).then((function(t){for(var e=15&(t=new Uint8Array(t))[19],r=t.slice(e,e+4),n=2147483647&new DataView(r.buffer).getUint32(0),o="23456789BCDFGHJKMNPQRTVWXY",i="",a=0;a<5;a++)i+=o.charAt(n%26),n/=26;return i})));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Tw(this,"generateConfirmationKey",function(){var t=_w(xw().mark((function t(e,r,n){var o,i,a,s,c,u,l,h,f,p;return xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=atob(e),i=Uint8Array.from(o,(function(t){return t.charCodeAt(0)})),a=8,n&&(a+=Math.min(n.length,32)),s=new Uint8Array(a),c=7;c>=0;c--)s[c]=255&r,r>>=8;return n&&(u=(new TextEncoder).encode(n),s.set(u,8)),t.next=9,crypto.subtle.importKey("raw",i,{name:"HMAC",hash:"SHA-1"},!1,["sign"]);case 9:return l=t.sent,t.next=12,crypto.subtle.sign("HMAC",l,s);case 12:return h=t.sent,f=new Uint8Array(h),p=btoa(String.fromCharCode.apply(String,ww(f))),t.abrupt("return",p);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),Tw(this,"getTimeOffset",_w(xw().mark((function t(){var r,n,o,i,a;return xw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Date.now(),t.next=4,Bs.Ay.apiRequest({url:"https://api.steampowered.com/ITwoFactorService/QueryTime/v1/",method:"POST"});case 4:return n=t.sent,o=n.response,i=Date.now(),a=o.server_time-e.time(),t.abrupt("return",{offset:a,diff:i-r});case 11:return t.prev=11,t.t0=t.catch(0),t.t0,t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))),Tw(this,"getDeviceID",(function(t){return"android:"+Crypto.createHash("sha1").update(t.toString()+"").digest("hex").replace(/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12}).*$/,"$1-$2-$3-$4-$5")}))}),[{key:"bufferizeSecret",value:function(t){return"string"==typeof t?t.match(/[0-9a-f]{40}/i)?gw.hp.from(t,"hex"):gw.hp.from(t,"base64"):t}}])}();const Iw=new kw;function Ow(t){return Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ow(t)}function Nw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cw(n.key),n)}}function Pw(t,e,r){return(e=Cw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cw(t){var e=function(t,e){if("object"!=Ow(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ow(e)?e:e+""}var Dw=function(){return function(t,e,r){return e&&Nw(t.prototype,e),r&&Nw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pw(this,"getPriceFromCurrency",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=e.getCurrency(+r),s=e.getCurrency(+n),c=o?ExchangeSteamRates[a.strCode]:ExchangeRates._rates[a.strCode],u=o?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&t?"USD"!=a.strCode&&(t*=c)<.03&&2===i&&(t=.03):s.strCode!=a.strCode&&t&&(t=t/u*c)<.03&&2===i&&(t=.03),2!==i&&t>.03&&(i=2),{price:t||0,code:a.strCode,symbol:a.strSymbol,text:"".concat(a.bSymbolIsPrefix?"".concat(a.strSymbol).concat(a.strSymbolAndNumberSeparator):"").concat(t?t.toFixed(i):0).concat(a.bSymbolIsPrefix?"":"".concat(a.strSymbolAndNumberSeparator).concat(a.strSymbol)),template:"".concat(a.bSymbolIsPrefix?"".concat(a.strSymbol).concat(a.strSymbolAndNumberSeparator):"","$price").concat(a.bSymbolIsPrefix?"":"".concat(a.strSymbolAndNumberSeparator).concat(a.strSymbol)),symbolPosition:a.bSymbolIsPrefix?"before":"after"}})),Pw(this,"getCurrency",(function(t){var r=null;for(var n in t=t||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,e.g_rgCurrencyData)if(e.g_rgCurrencyData[n].eCurrencyCode===+t){r=e.g_rgCurrencyData[n];break}return r})),Pw(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),Pw(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""}})}),[{key:"getCurrencyIdByCode",value:function(t){var e;return(null===(e=g_rgCurrencyData[t])||void 0===e?void 0:e.eCurrencyCode)||null}}])}();new Dw;var Rw,Fw;function jw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bw(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bw(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mw(t){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(t)}function Gw(t,e,r){return(e=Vw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vw(n.key),n)}}function qw(t,e,r){return e&&Hw(t.prototype,e),r&&Hw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vw(t){var e=function(t,e){if("object"!=Mw(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mw(e)?e:e+""}new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function Kw(t){t=t||window.location.href;var e,r,n=(r=(e=decodeURIComponent(e=t)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&{href:e,protocol:r[1],host:r[2],hostname:r[3],port:r[4],pathname:r[5],search:r[6],hash:r[7]};if(n.pathname.indexOf("market/listings/")>-1){var o=n.pathname.split("/");return{appId:o[3],marketHashName:o[4]+n.hash,location:n}}return{}}var Yw=qw((function t(){Uw(this,t)}));Rw=Yw,Gw(Yw,"SELL_LISTING",{}),Gw(Yw,"setItem",(function(t){if(t){var e={sessionid:g_sessionID,steamid:g_steamID},r="".concat(t.appid,"/").concat(t.contextid),n="".concat(t.market_hash_name,"/").concat(t.price);if(Object.keys(Rw.SELL_LISTING).length){var o=Rw.SELL_LISTING.data.findIndex((function(t){return Object.keys(t)[0]===r}));if(o>=0)if(Rw.SELL_LISTING.data[o][r].length){var i=Rw.SELL_LISTING.data[o][r].findIndex((function(t){return Object.keys(t)[0]===n}));if(i<0)Rw.SELL_LISTING.data[o][r].push(Gw({},n,[t]));else Rw.SELL_LISTING.data[o][r][i][n].findIndex((function(e){return e.assetid===t.assetid}))<0&&Rw.SELL_LISTING.data[o][r][i][n].push(t)}else Rw.SELL_LISTING.data[o][r].push(Gw({},n,[t]));else Rw.SELL_LISTING.data.push(Gw({},r,[Gw({},n,[t])]))}else Rw.SELL_LISTING={data:[Gw({},r,[Gw({},n,[t])])],userInfo:e}}})),Gw(Yw,"removeItem",(function(t){t&&Rw.SELL_LISTING&&Rw.SELL_LISTING.data&&Rw.SELL_LISTING.data.length&&Rw.SELL_LISTING.data.forEach((function(e,r){for(var n=function(){var e=jw(i[o],2),n=e[0];e[1].forEach((function(e,o){for(var i=0,a=Object.entries(e);i<a.length;i++){var s=jw(a[i],2),c=s[0],u=s[1].findIndex((function(e){return e.assetid===t}));u>=0&&(Rw.SELL_LISTING.data[r][n][o][c].splice(u,1),Rw.SELL_LISTING.data[r][n][o][c].length||(Rw.SELL_LISTING.data[r][n].splice(o,1),Rw.SELL_LISTING.data[r][n].length||Rw.SELL_LISTING.data.splice(r,1)))}}))},o=0,i=Object.entries(e);o<i.length;o++)n()}))})),Gw(Yw,"resellItems",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:Rw.SELL_LISTING},(function(e){t()}))}))}));var Ww=qw((function t(){Uw(this,t)}));Fw=Ww,Gw(Ww,"BUY_ORDERS",[]),Gw(Ww,"setItem",(function(t){t&&(Fw.BUY_ORDERS.length?-1===Fw.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t.payload.buy_orderid}))&&Fw.BUY_ORDERS.push(t):Fw.BUY_ORDERS.push(t))})),Gw(Ww,"removeItem",(function(t){if(t&&Fw.BUY_ORDERS.length){var e=Fw.BUY_ORDERS.findIndex((function(e){return e.payload.buy_orderid===t}));-1!==e&&Fw.BUY_ORDERS.splice(e,1)}})),Gw(Ww,"createBuyOrders",(function(){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:Fw.BUY_ORDERS},(function(e){t()}))}))}));var zw,Xw=function(t,e){try{e=e||"",localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}},$w=function(t){try{var e=localStorage.getItem(t)||null;return JSON.parse(e)}catch(t){return console.error(t),null}},Jw={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return $w(this._name)||{}},set:function(t){Xw(this._name,t)}},Qw={_name:"SIH_MARKETPLACES_CACHE",get:function(){return $w(this._name)||{}},set:function(t){Xw(this._name,t)}};function Zw(t){return Zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(t)}function tE(t){return function(t){if(Array.isArray(t))return eE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return eE(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eE(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oE(n.key),n)}}function nE(t,e,r){return(e=oE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oE(t){var e=function(t,e){if("object"!=Zw(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Zw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zw(e)?e:e+""}var iE=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),nE(this,"getLink",(function(e,r,n,o,i){return t._getLink(e,r,n,o,i)})),nE(this,"getPriceMarket",(function(t){var e=Jw.get(),r=!1,n=0,o=0,i=0,a=0,s=0,c=0;return t.data&&(i=t.data.price||0,a=t.data.count||0,t.data.locked&&(s=t.data.locked.price||0,c=t.data.locked.count||t.data.locked.locked||0)),e.isPriceLotsTradeLock?("A"===t.group&&(n=i,o=a),"B"===t.group&&(i?i>s&&s?(n=s,r=!0,o=c):(n=i,o=a):(n=s,o=c,r=!0)),"C"===t.group&&(n=s,o=c,r=!0)):"A"!==t.group&&"B"!==t.group||(n=i,o=a),{price:n,isLock:r,count:o}})),nE(this,"makeNewData",(function(){t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING})),nE(this,"loadMarkets",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(t._statusLoadMarkers=t._statusLoadMarkersEnum.NO_LOADING),t._statusLoadMarkers===t._statusLoadMarkersEnum.NO_LOADING){t._statusLoadMarkers=t._statusLoadMarkersEnum.LOADING;var n=null===e&&null===r?Kw():{appId:e,marketHashName:r};if(n.marketHashName=decodeURIComponent(n.marketHashName),n){var o=Qw.get(),i="".concat(n.appId,"_").concat(n.marketHashName);if(sih_app_account&&(window.marketCacheTime=3e4),o[i]&&Date.now()-o[i].time<window.marketCacheTime)return t._statusLoadMarkers=t._statusLoadMarkersEnum.SUCCESS,t._marketplace||(t._marketplace={}),void(t._marketplace.markets=o[i].data);var a=e&&r,s=t._getMarkets(n.appId,n.marketHashName,a),c={appId:n.appId,markets:s.map((function(t){return t.name})),items:[n.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:c},(function(e){e&&e.success&&e.items?(t._statusLoadMarkers=t._statusLoadMarkersEnum.SUCCESS,e.items&&e.items[n.marketHashName]&&e.items[n.marketHashName].csmoney&&(e.items[n.marketHashName].csmoney.csmoneyStore&&(e.items[n.marketHashName].csmoneyStore=e.items[n.marketHashName].csmoney.csmoneyStore),e.items[n.marketHashName].csmoney.csmoneyTrade&&(e.items[n.marketHashName].csmoneyTrade=e.items[n.marketHashName].csmoney.csmoneyTrade)),t._marketplace={},t._marketplace.markets=s.map((function(t){return t.data=e.items[n.marketHashName]&&e.items[n.marketHashName][t.name],t})).filter((function(t){return!(!t.data||!(t.data.price||t.data.locked&&t.data.locked.price))})),o[i]={},o[i].data=t._marketplace.markets,o[i].time=Date.now(),Qw.set(o)):t._statusLoadMarkers=t._statusLoadMarkersEnum.ERROR}))}}})),nE(this,"checkLoadMarkets",(function(){var r=[t._statusLoadMarkersEnum.SUCCESS,t._statusLoadMarkersEnum.ERROR].includes(t._statusLoadMarkers);if(r){var n=Jw.get();n.market&&e.getMarkets().filter((function(t){return t.isView})).forEach((function(t){var e=n.market[t.name];e&&(t.depositPercentage=e.depositPercentage||0,t.fixedDepositPercentage=e.fixedDepositPercentage||0)}))}return r})),nE(this,"getMarkets",(function(){return t._marketplace?Jw.get().isPriceLotsTradeLock?t._marketplace.markets:t._marketplace.markets.filter((function(t){return"A"===t.group||"B"===t.group&&(t.data||{}).price})):[]})),nE(this,"getMarketLowerPrice",(function(){var r=null;if(e.checkLoadMarkets()&&t._marketplace&&Array.isArray(t._marketplace.markets)&&t._marketplace.markets.length>0){var n=Jw.get(),o=function(t,e){return e.isServiceCommission?1+(t||0)/100:1},i=function(t,e){return e.isServiceCommission&&t||0},a=t.excludeBuyMarkets(e.getMarkets()).filter((function(t){return t.isView}));a.length>1?r=a.reduce((function(t,r){var a=e.getPriceMarket(t),s=e.getPriceMarket(r);return a.price*o(t.depositPercentage,n)+i(t.fixedDepositPercentage,n)<s.price*o(r.depositPercentage,n)+i(r.fixedDepositPercentage,n)?t:r})):1===a.length&&(r=a[0])}return r})),nE(this,"getOffersCount",(function(r){return t.excludeBuyMarkets(r).reduce((function(t,r){return t+e.getPriceMarket(r).count}),0)})),nE(this,"getMarketsForExternal",(function(){return t._markets.filter((function(t){return t.forExternalInjection}))})),nE(this,"getAllMarkets",(function(e){return e?t._markets.filter((function(t){return t.appIds.includes(e)})):t._markets}))}return function(t,e,r){return e&&rE(t.prototype,e),r&&rE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"_markets",get:function(){return[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"skinport",title:"Skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"tradeit",title:"Tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:1},{name:"tradeitDeposit",title:"Tradeit Deposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:1},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"swapgg",title:"Swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cs2go",title:"CS2GO",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0}]}},{key:"_getMarkets",value:function(e,r,n){var o,i=t._markets.filter((function(t){return t.isView&&t.appIds.includes(e)}));if(!window.sih_subscribe_ads){var a="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";i=["RU","BY"].includes(a)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?i.filter((function(t){if("dmarket"!==t.name&&"igxe"!==t.name)return t.name})):i.filter((function(t){return t.name})):["ZH","CN"].includes(a)?i.filter((function(t){return t.name})):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?i.filter((function(t){return"igxe"!==t.name})):i.filter((function(t){return t.name}))}i.forEach((function(o){o.link=t._getLink(o.name,e,r,n)}));var s=t._markets.filter((function(t){return!t.isView}));return(o=i).push.apply(o,tE(s)),i}},{key:"_getRandomInt",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},{key:"excludeBuyMarkets",value:function(t){var e=["csgocomBuy"];return t.filter((function(t){return!e.includes(t.name)}))}}])}();zw=iE,nE(iE,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),nE(iE,"_statusLoadMarkers",zw._statusLoadMarkersEnum.NO_LOADING),nE(iE,"_marketplace",null),nE(iE,"_getLink",(function(t,e,r,n,o){var i="https://t.sih-db.com/".concat(o?"external-panel":"15GzoA"),a="",s="";if("csgocom"===t||"csgocomBuy"===t){switch(e){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}a="".concat(i,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(r,"&sd=asc")),"&subid2=").concat(s).concat(n?"-side-menu":"")}if("csmoneyStore"===t&&(a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyStore").concat(n?"-side-menu":"")),"csmoneyTrade"===t&&(a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyTrade").concat(n?"-side-menu":"")),"skinport"===t){var c=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),u="";"570"===e?u="/dota2":"440"===e?u="/tf2":"252490"===e&&(u="/rust"),a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(u,"/market?search=").concat(c,"&sort=price&order=asc")),"&subid2=skinport").concat(n?"-side-menu":"")}if("bitskins"===t){var l="";switch(e){case"730":l="csgo";break;case"570":l="dota2";break;case"440":l="tf2"}a="".concat(i,"?subid1=").concat(encodeURIComponent("".concat(l,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(r,'"}}')),"&subid2=newBitskins").concat(n?"-side-menu":"")}if("bitskinsp2p"===t){var h=r.replace(/ /g,"+");a="".concat(i,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(h,'"}}')),"&subid2=p2p-bitskins").concat(n?"-side-menu":"")}if("skinbaron"===t){r=r.replace("Souvenir Package","");var f="";"730"===e?f="/csgo":"440"===e&&(f="/tf2");var p=encodeURIComponent("".concat(f,"?str=").concat(r,"&sort=CF"));a="".concat(i,"?subid1=").concat(p,"&subid2=skinbaron").concat(n?"-side-menu":"")}if("shadowpay"===t){var d=encodeURIComponent("?search=".concat(r));a="".concat(i,"?subid1=").concat(d,"&subid2=shadowpay").concat(n?"-side-menu":"")}if("waxpeer"===t){var y=r.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),v="";["252490"].includes(e)&&(v="rust/"),["440"].includes(e)&&(v="tf2/"),a="".concat(i,"?subid1=").concat(v).concat(y,"/item/&subid2=waxpeer").concat(n?"-side-menu":"")}if("dmarket"===t&&["570","730","252490","440"].includes(e)){var m=r.replace(/[™★]/g,""),g="";"730"===e&&(g="csgo-skins"),"570"===e&&(g="dota2-skins"),"252490"===e&&(g="rust-skins"),"440"===e&&(g="tf2-skins");var b=encodeURIComponent("/ingame-items/item-list/".concat(g,"?title=").concat(m));a="".concat(i,"?subid1=").concat(b,"&subid2=dmarket").concat(n?"-side-menu":"")}if("mannco"===t&&["440","730","570","252490"].includes(e)){var w="";if(r.indexOf("Unusual")>-1)w=encodeURIComponent("/market?e=".concat(r,"&f=ASC&appid=").concat(e));else{var E=r.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();w="/item/".concat(e,"-").concat(E)}a="".concat(i,"?subid1=").concat(w,"&subid2=manncostore").concat(n?"-side-menu":"")}if("tradeit"===t&&["730","440","570","252490"].includes(e)){var x="";"730"===e&&(x="csgo"),"440"===e&&(x="tf2"),"570"===e&&(x="dota2"),"252490"===e&&(x="rust");var S=encodeURIComponent("/".concat(x,"/store?search=").concat(r));a="".concat(i,"?subid1=").concat(S,"&subid2=tradeit").concat(n?"-side-menu":"")}if("tradeitDeposit"===t&&["730","440","570","252490"].includes(e)){var _="";"730"===e&&(_="csgo"),"440"===e&&(_="tf2"),"570"===e&&(_="dota2"),"252490"===e&&(_="rust");var A=encodeURIComponent("/".concat(_,"/trade?search=").concat(r));a="".concat(i,"?subid1=").concat(A,"&subid2=tradeit").concat(n?"-side-menu":"")}if("cstrade"===t&&["440","570","730","252490"].includes(e)&&(a="".concat(i,"?subid1=").concat(r,"&subid2=cstrade").concat(n?"-side-menu":"")),"lootfarm"===t&&["440","570","730","252490"].includes(e)){var T=encodeURIComponent("#skin=".concat(e,"_").concat(r));a="".concat(i,"?subid1=").concat(T,"&subid2=lootfarm").concat(n?"-side-menu":"")}if("swapgg"===t&&["440","570","730","252490"].includes(e)){var L=encodeURIComponent("/browse/".concat(e,"?search=").concat(r.replace("|"," ")));a="".concat(i,"?subid1=").concat(L,"&subid2=swapgg").concat(n?"-side-menu":"")}if("lisskins"===t&&["730","570","252490"].includes(e)){var k="";"730"===e&&(k="csgo"),"570"===e&&(k="dota2"),"252490"===e&&(k="rust");var I=encodeURIComponent("/".concat(k,"/?query=").concat(r));a="".concat(i,"?subid1=").concat(I,"&subid2=lisskins").concat(n?"-side-menu":"")}if("buff163"===t&&["730"].includes(e)){var O="";"730"===e&&(O="csgo");var N=encodeURIComponent("/market/".concat(O,"#tab=selling&page_num=1&search=").concat(r));a="".concat(i,"?subid1=").concat(N,"&subid2=buff163").concat(n?"-side-menu":"")}if("igxe"===t&&["730"].includes(e)){var P=r,C="";"730"===e&&(C="csgo");var D=encodeURIComponent("/market/".concat(C,"?keyword=").concat(P));a="".concat(i,"?subid1=").concat(D,"&subid2=igxe").concat(n?"-side-menu":"")}if("gamerpay"===t&&["730"].includes(e)){var R=encodeURIComponent("/buy?query=".concat(r));a="".concat(i,"?subid1=").concat(R,"&subid2=gamerpay").concat(n?"-side-menu":"")}if("skinsmonkey"===t&&["730"].includes(e)){var F=r,j=encodeURIComponent("appId=".concat(e,"&q=").concat(F));a="".concat(i,"?subid1=").concat(j,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinsmonkeycash"===t&&["730"].includes(e)){var B=r,M=encodeURIComponent("appId=".concat(e,"&q=").concat(B));a="".concat(i,"?subid1=").concat(M,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinout"===t&&["730"].includes(e)){var G=r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();a="".concat(i,"?subid1=").concat(G,"&subid2=skinout").concat(n?"-side-menu":"")}if("whitemarket"===t&&["730"].includes(e)){var U=r;a="".concat(i,"?subid1=").concat(U,"&subid2=whitemarket").concat(n?"-side-menu":"")}if("haloskins"===t&&["730"].includes(e)){var H=encodeURIComponent(r.replace(/&/,""));a="".concat(i,"?subid1=").concat(H,"&subid2=haloskins").concat(n?"-side-menu":"")}if("cs2go"===t&&["730"].includes(e)){var q=r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase(),V="".concat(e,"/").concat(q);a="".concat(i,"?subid1=").concat(V,"&subid2=cs2go").concat(n?"-side-menu":"")}if("rustskins"===t&&["252490"].includes(e)){var K="".concat(r);a="".concat(i,"?subid1=").concat(K,"&subid2=rustskins").concat(n?"-side-menu":"")}if("csdeal"===t&&["730","570","440","252490"].includes(e)){var Y="";"730"===e&&(Y="csgo"),"440"===e&&(Y="tf2"),"570"===e&&(Y="dota2"),"252490"===e&&(Y="rust");var W=encodeURIComponent(r.replace(/&/,"")),z="".concat(W,"&game=").concat(Y);a="".concat(i,"?subid1=").concat(z,"&subid2=cs.deals").concat(n?"-side-menu":"")}if("sihmarket"===t&&["730"].includes(e)){var X=encodeURIComponent(r);a="".concat(i,"?subid1=").concat(X,"&subid2=sih.app").concat(n?"-side-menu":"")}if("csmarket"===t&&["730"].includes(e)){var $=encodeURIComponent("".concat(r,"&sortBy=price&utm_source=sih&utm_medium=cpm&utm_campaign=first"));a="".concat(i,"?subid1=").concat($,"&subid2=csmarket").concat(n?"-side-menu":"")}if("steamLiveSell"===t&&["730"].includes(e)){var J=encodeURIComponent("".concat(r));a="".concat(i,"?subid1=").concat(J,"&subid2=steam").concat(n?"-side-menu":"")}return o&&(a="".concat(a,"&subid3=").concat(o)),a}));const aE=new iE,sE=JSON.parse('{"Q":{"waxpeer":"1","csgocom":"2","csgocomBuy":"3","csmoneyStore":"4","csmoneyTrade":"5","skinport":"6","bitskins":"7","shadowpay":"8","skinbaron":"9","dmarket":"10","mannco":"11","steamanalyst":"12","csgobackpack":"13","lootfarm":"14","tradeit":"15","tradeitDeposit":"16","steamlvlup":"17","cstrade":"18","swapgg":"19","sihanalyst":"20","buff163":"21","lisskins":"22","igxe":"23","gamerpay":"24","skinsmonkey":"25","skinsmonkeycash":"26","steamprices":"27","sihmarket":"28","sihDeposit":"29","skinout":"30","whitemarket":"31","haloskins":"32","rustskins":"33","csdeal":"34","csfloat":"35","globalTradingPrice":"36","csmarket":"37","steamLiveSell":"38"}}');var cE;function uE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uE(Object(r),!0).forEach((function(e){gE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return fE(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pE(t){return pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pE(t)}function dE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function yE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function vE(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yE(i,n,o,a,s,"next",t)}function s(t){yE(i,n,o,a,s,"throw",t)}a(void 0)}))}}function mE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bE(n.key),n)}}function gE(t,e,r){return(e=bE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bE(t){var e=function(t,e){if("object"!=pE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pE(e)?e:e+""}var wE=function(){return function(t,e,r){return e&&mE(t.prototype,e),r&&mE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gE(this,"getPrices",function(){var e=vE(dE().mark((function e(r){var n,o,i,a,s,c;return dE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._cachedItemsMap){e.next=4;break}return e.next=4,t.loadItems();case 4:return e.next=6,y.w.get({sih_app_jwt:{}});case 6:return n=e.sent,o=n.sih_app_jwt,i=chrome.runtime.getManifest(),a=i.version,s=t.transformPayloadToMinimize(r),e.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":(null==o?void 0:o.token)||"","x-sih-version":a},method:"POST",url:"".concat(Bs.C$,"/v3/live-prices/getPrices"),data:s});case 12:return c=e.sent,e.abrupt("return",t.transformToHumanData(r,c));case 16:return e.prev=16,e.t0=e.catch(0),console.error("Error fetching getPrices:",e.t0),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}())}),null,[{key:"loadItems",value:(t=vE(dE().mark((function t(){var e,r,n;return dE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=chrome.runtime.getURL("/assets/data/cached-key-items.json"),t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,this._cachedItemsMap=new Map(Object.entries(n.items));case 8:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}();cE=wE,gE(wE,"_onDeleteKeys",["p","pr","c","lp","lc"]),gE(wE,"_cachedItemsMap",void 0),gE(wE,"_marketCodesMap",new Map(Object.entries(sE.Q))),gE(wE,"mapServerInfoToHumanInfo",(function(t){var e=new Map(Array.from(cE._marketCodesMap.entries()).map((function(t){var e=hE(t,2),r=e[0];return[e[1],r]})));return Object.entries(t).reduce((function(t,r){var n=hE(r,2),o=n[0],i=n[1],a=e.get(o)||o,s=lE(lE(lE({},i),{},{price:i.p,count:i.c},i.pr&&{priceRub:i.pr}),i.lp&&{locked:{price:i.lp,count:i.lc}});return cE._onDeleteKeys.forEach((function(t){return delete s[t]})),t[a]=s,t}),{})})),gE(wE,"transformToHumanData",(function(t,e){if(!e.s)return{success:!1};var r=new Map(Array.from(cE._cachedItemsMap.entries()).map((function(t){var e=hE(t,2),r=e[0];return[e[1],r]})));return{success:!0,items:Object.entries(e.i).reduce((function(t,e){var n=hE(e,2),o=n[0],i=n[1];return t[r.get(o)||o]=cE.mapServerInfoToHumanInfo(i),t}),{})}})),gE(wE,"transformPayloadToMinimize",(function(t){var e=t.items.map((function(t){return cE._cachedItemsMap.get(t)||t})),r=aE.getAllMarkets(t.appId.toString()).map((function(t){return t.name}));return{appId:t.appId,items:e,markets:r.length!==t.markets.length?t.markets:["all"]}}));const EE=new wE;var xE=2,SE=3,_E=3,AE=4,TE=["mafiles","manifest","history"],LE={passKey:{},confirmations:{},pausedAccounts:{},authorization:{},notifications:{},clearAll:function(){LE.passKey={},LE.confirmations={},LE.pausedAccounts={},LE.authorization={},LE.notifications={}}};function kE(t){return kE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kE(t)}function IE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */IE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==kE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(kE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function OE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var NE=function(){var t=["iPhone 13 Pro","Samsung Galaxy S21","Google Pixel 6","OnePlus 9 Pro","Xiaomi Mi 11","Huawei P40 Pro","Sony Xperia 1 III","LG Wing","Motorola Moto G Power (2021)","Nokia 8.3 5G","Asus ROG Phone 5","Oppo Find X3 Pro","Realme GT","Vivo X60 Pro","Lenovo Legion Phone Duel 2","ZTE Axon 30 Ultra","BlackBerry Key2","Sony Xperia 10 III","Google Pixel 5a","OnePlus Nord N200 5G","Samsung Galaxy A32","Xiaomi Redmi Note 10 Pro","LG Velvet","Motorola Edge+","Huawei Mate 40 Pro","Apple iPhone 12","Samsung Galaxy Z Fold 3","Google Pixel 5","OnePlus 8T","Xiaomi Mi 10T Pro","Huawei P30 Pro","Sony Xperia 5 III","LG V60 ThinQ","Motorola Razr (2020)","Nokia 9 PureView","Asus Zenfone 8","Oppo Reno 6 Pro","Realme 8 Pro","Vivo V21 5G","Lenovo K13","ZTE Blade X1 5G"];return t[Math.floor(Math.random()*t.length)]},PE=function(){var t,e=(t=IE().mark((function t(e,r){var n;return IE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.reduce((function(t,e){return t+(e.price||0)}),0),t.next=3,fl.A.getPriceFromCurrency(n,r,1);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){OE(i,n,o,a,s,"next",t)}function s(t){OE(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),CE=function(t,e){var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0,i=r;o<i.length;o++){var a=i[o];if(!RE(t[a],e[a]))return!1}return!0},DE=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!RE(t[r],e[r]))return!1;return!0},RE=function(t,e){return Array.isArray(t)&&Array.isArray(e)?DE(t,e):FE(t)&&FE(e)?CE(t,e):t===e},FE=function(t){return null!==t&&"object"===kE(t)};function jE(t){return jE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jE(t)}function BE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BE=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jE(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jE(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ME(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function GE(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ME(i,n,o,a,s,"next",t)}function s(t){ME(i,n,o,a,s,"throw",t)}a(void 0)}))}}function UE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VE(n.key),n)}}function HE(t,e,r){return e&&UE(t.prototype,e),r&&UE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qE(t,e,r){return(e=VE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VE(t){var e=function(t,e){if("object"!=jE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jE(e)?e:e+""}var KE=HE((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qE(this,"getBackUpList",GE(BE().mark((function e(){var r,n,o;return BE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return r=e.sent,n=r.sihAppCoreToken,e.next=6,Bs.Ay.apiRequest({method:"GET",url:t.apiUrl,headers:{"X-Sih-Token":n}});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))),qE(this,"getBackUp",function(){var e=GE(BE().mark((function e(r){var n,o,i;return BE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return n=e.sent,o=n.sihAppCoreToken,e.next=6,Bs.Ay.apiRequest({method:"GET",url:"".concat(t.apiUrl,"/").concat(r),headers:{"X-Sih-Token":o}});case 6:return(i=e.sent)&&i.content&&(i.content=JSON.parse(decodeURIComponent(atob(i.content)))),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),qE(this,"makeBackUp",GE(BE().mark((function r(){var n,o,i,a,s,c,u,l,h;return BE().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new mw("SIH_SDA","mafiles",TE),o=new mw("SIH_SDA","manifest",TE),r.next=4,n.openDB();case 4:return r.next=6,o.openDB();case 6:return r.next=8,n.getAllWithKeys();case 8:return i=r.sent,r.prev=9,r.next=12,o.get("v1");case 12:a=r.sent,r.next=19;break;case 15:if(r.prev=15,r.t0=r.catch(9),"Not found key"!==r.t0.message||i.length){r.next=19;break}return r.abrupt("return");case 19:return s={fileName:"maFiles",content:btoa(encodeURIComponent(JSON.stringify(i)))},c={fileName:"manifest",content:btoa(encodeURIComponent(JSON.stringify(a)))},r.next=23,y.w.getLocal("sihAppCoreToken");case 23:return u=r.sent,l=u.sihAppCoreToken,r.next=27,Promise.all([e.removeBackUp("maFiles"),e.removeBackUp("manifest")]);case 27:if(i.length||a.entries.length){r.next=29;break}return r.abrupt("return");case 29:return(h=[]).push(Bs.Ay.apiRequest({method:"POST",url:t.apiUrl,data:s,headers:{"X-Sih-Token":l}})),h.push(Bs.Ay.apiRequest({method:"POST",url:t.apiUrl,data:c,headers:{"X-Sih-Token":l}})),r.abrupt("return",new Promise((function(t,e){Promise.all(h).then((function(r){r.filter((function(t){return t.success})).length===r.length?t():e()})).catch((function(){return e()}))})));case 33:case"end":return r.stop()}}),r,null,[[9,15]])})))),qE(this,"removeBackUp",function(){var e=GE(BE().mark((function e(r){var n,o;return BE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.w.getLocal("sihAppCoreToken");case 2:return n=e.sent,o=n.sihAppCoreToken,e.next=6,Bs.Ay.sendRequest({method:"DELETE",url:t.apiUrl,headers:{"X-Sih-Token":o,"Content-Type":"application/json"},body:JSON.stringify({fileName:r})});case 6:if(!e.sent.success){e.next=11;break}return e.abrupt("return",{success:!0});case 11:return e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));qE(KE,"apiUrl","https://core.sih.app/sih/backups");const YE=new KE;var WE=r(1888),zE=r.n(WE);function XE(t){return XE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XE(t)}function $E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QE(n.key),n)}}function JE(t,e,r){return(e=QE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QE(t){var e=function(t,e){if("object"!=XE(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=XE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XE(e)?e:e+""}var ZE=function(){return function(t,e,r){return e&&$E(t.prototype,e),r&&$E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"getRandomSalt",value:function(){var t=zE().lib.WordArray.random(this.SALT_LENGTH);return zE().enc.Base64.stringify(t)}},{key:"getInitializationVector",value:function(){var t=zE().lib.WordArray.random(this.IV_LENGTH);return zE().enc.Base64.stringify(t)}},{key:"getEncryptionKey",value:function(t,e){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");var r=zE().enc.Base64.parse(e);return zE().PBKDF2(t,r,{keySize:this.KEY_SIZE_BYTES/4,iterations:this.PBKDF2_ITERATIONS})}},{key:"decryptData",value:function(t,e,r,n){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");if(!r)throw Error("Initialization Vector is empty");if(!n)throw Error("Encrypted data is empty");var o=this.getEncryptionKey(t,e),i=zE().enc.Base64.parse(r),a=zE().enc.Base64.parse(n);return zE().AES.decrypt({ciphertext:a},o,{iv:i,padding:zE().pad.Pkcs7,mode:zE().mode.CBC}).toString(zE().enc.Utf8)||null}},{key:"encryptData",value:function(t,e,r,n){if(!t)throw Error("Password is empty");if(!e)throw Error("Salt is empty");if(!r)throw Error("Initialization Vector is empty");if(!n)throw Error("Plaintext data is empty");var o=this.getEncryptionKey(t,e),i=zE().enc.Base64.parse(r),a=zE().AES.encrypt(n,o,{iv:i,padding:zE().pad.Pkcs7,mode:zE().mode.CBC});return zE().enc.Base64.stringify(a.ciphertext)}}])}();JE(ZE,"PBKDF2_ITERATIONS",5e4),JE(ZE,"SALT_LENGTH",8),JE(ZE,"KEY_SIZE_BYTES",32),JE(ZE,"IV_LENGTH",16);const tx=ZE;function ex(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function rx(t,e){return t&e}function nx(t,e){return t|e}function ox(t,e){return t^e}function ix(t,e){return t&~e}function ax(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e}function sx(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var cx,ux="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function lx(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=ux.charAt(r>>6)+ux.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=ux.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=ux.charAt(r>>2)+ux.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function hx(t){var e,r="",n=0,o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var i=ux.indexOf(t.charAt(e));i<0||(0==n?(r+=ex(i>>2),o=3&i,n=1):1==n?(r+=ex(o<<2|i>>4),o=15&i,n=2):2==n?(r+=ex(o),r+=ex(i>>2),o=3&i,n=3):(r+=ex(o<<2|i>>4),r+=ex(15&i),n=0))}return 1==n&&(r+=ex(o<<2)),r}var fx,px=function(t){var e;if(void 0===cx){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(cx={},e=0;e<16;++e)cx[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)cx[r.charAt(e)]=e;for(e=0;e<8;++e)cx[n.charAt(e)]=-1}var o=[],i=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=cx[s])){if(void 0===s)throw Error("Illegal character at offset "+e);i|=s,++a>=2?(o[o.length]=i,i=0,a=0):i<<=4}}if(a)throw Error("Hex encoding incomplete: 4 bits missing");return o},dx={decode:function(t){var e;if(void 0===fx){var r="= \f\n\r\t \u2028\u2029";for(fx=Object.create(null),e=0;e<64;++e)fx["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(fx["-"]=62,fx._=63,e=0;e<9;++e)fx[r.charAt(e)]=-1}var n=[],o=0,i=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=fx[a])){if(void 0===a)throw Error("Illegal character at offset "+e);o|=a,++i>=4?(n[n.length]=o>>16,n[n.length]=o>>8&255,n[n.length]=255&o,o=0,i=0):o<<=6}}switch(i){case 1:throw Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=o>>10;break;case 3:n[n.length]=o>>16,n[n.length]=o>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=dx.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw Error("RegExp out of sync");t=e[2]}return dx.decode(t)}},yx=1e13,vx=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,n,o=this.buf,i=o.length;for(r=0;r<i;++r)(n=o[r]*t+e)<yx?e=0:n-=(e=0|n/yx)*yx,o[r]=n;e>0&&(o[r]=e)},t.prototype.sub=function(t){var e,r,n=this.buf,o=n.length;for(e=0;e<o;++e)(r=n[e]-t)<0?(r+=yx,t=1):t=0,n[e]=r;for(;0===n[n.length-1];)n.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),n=e.length-2;n>=0;--n)r+=(""+(yx+e[n])).substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*yx+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),mx=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,gx=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function bx(t,e){return t.length>e&&(t=t.substring(0,e)+"…"),t}var wx,Ex=function(){function t(e,r){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw Error("Requesting byte offset ".concat(t," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,r){for(var n="",o=t;o<e;++o)if(n+=this.hexByte(this.get(o)),!0!==r)switch(15&o){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.isASCII=function(t,e){for(var r=t;r<e;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var r="",n=t;n<e;++n)r+=String.fromCharCode(this.get(n));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",n=t;n<e;){var o=this.get(n++);r+=String.fromCharCode(o<128?o:o>191&&o<224?(31&o)<<6|63&this.get(n++):(15&o)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.parseStringBMP=function(t,e){for(var r,n,o="",i=t;i<e;)r=this.get(i++),n=this.get(i++),o+=String.fromCharCode(r<<8|n);return o},t.prototype.parseTime=function(t,e,r){var n=this.parseStringISO(t,e),o=(r?mx:gx).exec(n);return o?(r&&(o[1]=+o[1],o[1]+=+o[1]<70?2e3:1900),n=o[1]+"-"+o[2]+"-"+o[3]+" "+o[4],o[5]&&(n+=":"+o[5],o[6]&&(n+=":"+o[6],o[7]&&(n+="."+o[7]))),o[8]&&(n+=" UTC","Z"!=o[8]&&(n+=o[8],o[9]&&(n+=":"+o[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){for(var r,n=this.get(t),o=n>127,i=o?255:0,a="";n==i&&++t<e;)n=this.get(t);if(0===(r=e-t))return o?-1:0;if(r>4){for(a=n,r<<=3;!(128&(+a^i));)a=+a<<1,--r;a="("+r+" bit)\n"}o&&(n-=256);for(var s=new vx(n),c=t+1;c<e;++c)s.mulAdd(256,this.get(c));return a+s.toString()},t.prototype.parseBitString=function(t,e,r){for(var n=this.get(t),o="("+((e-t-1<<3)-n)+" bit)\n",i="",a=t+1;a<e;++a){for(var s=this.get(a),c=a==e-1?n:0,u=7;u>=c;--u)i+=s>>u&1?"1":"0";if(i.length>r)return o+bx(i,r)}return o+i},t.prototype.parseOctetString=function(t,e,r){if(this.isASCII(t,e))return bx(this.parseStringISO(t,e),r);var n=e-t,o="("+n+" byte)\n";n>(r/=2)&&(e=t+r);for(var i=t;i<e;++i)o+=this.hexByte(this.get(i));return n>r&&(o+="…"),o},t.prototype.parseOID=function(t,e,r){for(var n="",o=new vx,i=0,a=t;a<e;++a){var s=this.get(a);if(o.mulAdd(128,127&s),i+=7,!(128&s)){if(""===n)if((o=o.simplify())instanceof vx)o.sub(80),n="2."+o.toString();else{var c=o<80?o<40?0:1:2;n=c+"."+(o-40*c)}else n+="."+o.toString();if(n.length>r)return bx(n,r);o=new vx,i=0}}return i>0&&(n+=".incomplete"),n},t}(),xx=function(){function t(t,e,r,n,o){if(!(n instanceof Sx))throw Error("Invalid tag value.");this.stream=t,this.header=e,this.length=r,this.tag=n,this.sub=o}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+r,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);case 6:return this.stream.parseOID(e,e+r,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return bx(this.stream.parseStringUTF(e,e+r),t);case 18:case 19:case 20:case 21:case 22:case 26:return bx(this.stream.parseStringISO(e,e+r),t);case 30:return bx(this.stream.parseStringBMP(e,e+r),t);case 23:case 24:return this.stream.parseTime(e,e+r,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var r=0,n=this.sub.length;r<n;++r)e+=this.sub[r].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>6)throw Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===r)return null;e=0;for(var n=0;n<r;++n)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,r=2*this.length;return t.substr(e,r)},t.decode=function(e){var r;r=e instanceof Ex?e:new Ex(e,0);var n=new Ex(r),o=new Sx(r),i=t.decodeLength(r),a=r.pos,s=a-n.pos,c=null,u=function(){var e=[];if(null!==i){for(var n=a+i;r.pos<n;)e[e.length]=t.decode(r);if(r.pos!=n)throw Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var o=t.decode(r);if(o.tag.isEOC())break;e[e.length]=o}i=a-r.pos}catch(t){throw Error("Exception while decoding undefined length content: "+t)}return e};if(o.tagConstructed)c=u();else if(o.isUniversal()&&(3==o.tagNumber||4==o.tagNumber))try{if(3==o.tagNumber&&0!=r.get())throw Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw Error("EOC is not supposed to be actual content.")}catch(t){c=null}if(null===c){if(null===i)throw Error("We can't skip over an invalid tag with undefined length at offset "+a);r.pos=a+Math.abs(i)}return new t(n,s,i,o,c)},t}(),Sx=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=!!(32&e),this.tagNumber=31&e,31==this.tagNumber){var r=new vx;do{e=t.get(),r.mulAdd(128,127&e)}while(128&e);this.tagNumber=r.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),_x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ax=(1<<26)/_x[_x.length-1],Tx=function(){function t(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(o=!0,i=ex(r));a>=0;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=ex(r));return o?i:"0"},t.prototype.negate=function(){var e=Nx();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Mx(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var r=Nx();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new kx(e):new Ix(e),this.exp(t,r)},t.prototype.clone=function(){var t=Nx();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,o=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[o++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),128&r&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(e[o++]=r);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=Nx();return this.bitwiseTo(t,rx,e),e},t.prototype.or=function(t){var e=Nx();return this.bitwiseTo(t,nx,e),e},t.prototype.xor=function(t){var e=Nx();return this.bitwiseTo(t,ox,e),e},t.prototype.andNot=function(t){var e=Nx();return this.bitwiseTo(t,ix,e),e},t.prototype.not=function(){for(var t=Nx(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=Nx();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=Nx();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+ax(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=sx(this[r]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:!!(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,nx)},t.prototype.clearBit=function(t){return this.changeBit(t,ix)},t.prototype.flipBit=function(t){return this.changeBit(t,ox)},t.prototype.add=function(t){var e=Nx();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=Nx();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=Nx();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=Nx();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=Nx();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=Nx(),r=Nx();return this.divRemTo(t,e,r),[e,r]},t.prototype.modPow=function(t,e){var r,n,o=t.bitLength(),i=Bx(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new kx(e):e.isEven()?new Ox(e):new Ix(e);var a=[],s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=Nx();for(n.sqrTo(a[1],l);s<=u;)a[s]=Nx(),n.mulTo(l,a[s-2],a[s]),s+=2}var h,f,p=t.t-1,d=!0,y=Nx();for(o=Mx(t[p])-1;p>=0;){for(o>=c?h=t[p]>>o-c&u:(h=(t[p]&(1<<o+1)-1)<<c-o,p>0&&(h|=t[p-1]>>this.DB+o-c)),s=r;!(1&h);)h>>=1,--s;if((o-=s)<0&&(o+=this.DB,--p),d)a[h].copyTo(i),d=!1;else{for(;s>1;)n.sqrTo(i,y),n.sqrTo(y,i),s-=2;s>0?n.sqrTo(i,y):(f=i,i=y,y=f),n.mulTo(y,a[h],i)}for(;p>=0&&!(t[p]&1<<o);)n.sqrTo(i,y),f=i,i=y,y=f,--o<0&&(o=this.DB-1,--p)}return n.revert(i)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;for(var n=e.clone(),o=this.clone(),i=Bx(1),a=Bx(0),s=Bx(0),c=Bx(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),r?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(o)>=0?(n.subTo(o,n),r&&i.subTo(s,i),a.subTo(c,a)):(o.subTo(n,o),r&&s.subTo(i,s),c.subTo(a,c))}return 0!=o.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new Lx)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(o<i&&(i=o),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},t.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=_x[_x.length-1]){for(e=0;e<_x.length;++e)if(r[0]==_x[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<_x.length;){for(var n=_x[e],o=e+1;o<_x.length&&n<Ax;)n*=_x[o++];for(n=r.modInt(n);e<o;)if(n%_x[e++]==0)return!1}return r.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;for(var o=e.length,i=!1,a=0;--o>=0;){var s=8==n?255&+e[o]:jx(e,o);s<0?"-"==e.charAt(o)&&(i=!0):(i=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&128&+e[0]&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,o=(1<<n)-1,i=Math.floor(t/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)e[s+i+1]=this[s]>>n|a,a=(this[s]&o)<<r;for(s=i-1;s>=0;--s)e[s]=0;e[i]=a,e.t=this.t+i+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&i)<<o,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},t.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),o=e.abs(),i=n.t;for(r.t=i+o.t;--i>=0;)r[i]=0;for(i=0;i<o.t;++i)r[i+n.t]=n.am(0,o[i],r,i,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,r,n){var o=e.abs();if(!(o.t<=0)){var i=this.abs();if(i.t<o.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Nx());var a=Nx(),s=this.s,c=e.s,u=this.DB-Mx(o[o.t-1]);u>0?(o.lShiftTo(u,a),i.lShiftTo(u,n)):(o.copyTo(a),i.copyTo(n));var l=a.t,h=a[l-1];if(0!=h){var f=h*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),p=this.FV/f,d=(1<<this.F1)/f,y=1<<this.F2,v=n.t,m=v-l,g=null==r?Nx():r;for(a.dlShiftTo(m,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),t.ONE.dlShiftTo(l,g),g.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--m>=0;){var b=n[--v]==h?this.DM:Math.floor(n[v]*p+(n[v-1]+y)*d);if((n[v]+=a.am(0,b,n,m,0,l))<b)for(a.dlShiftTo(m,g),n.subTo(g,n);n[v]<--b;)n.subTo(g,n)}null!=r&&(n.drShiftTo(l,r),s!=c&&t.ZERO.subTo(r,r)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&t.ZERO.subTo(n,n)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var n=Nx(),o=Nx(),i=r.convert(this),a=Mx(e)-1;for(i.copyTo(n);--a>=0;)if(r.sqrTo(n,o),(e&1<<a)>0)r.mulTo(o,i,n);else{var s=n;n=o,o=s}return r.revert(n)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Bx(r),o=Nx(),i=Nx(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(t).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(t)+a},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),o=Math.pow(r,n),i=!1,a=0,s=0,c=0;c<e.length;++c){var u=jx(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(s=r*s+u,++a>=n&&(this.dMultiply(o),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(r,a)),this.dAddOffset(s,0)),i&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),nx,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var o=[],i=7&e;o.length=1+(e>>3),r.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},t.prototype.bitwiseTo=function(t,e,r){var n,o,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(o=t.s&this.DM,n=i;n<this.t;++n)r[n]=e(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<t.t;++n)r[n]=e(o,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var o=r.t-this.t;n<o;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()},t.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},t.prototype.millerRabin=function(e){var r=this.subtract(t.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var o=r.shiftRight(n);(e=e+1>>1)>_x.length&&(e=_x.length);for(var i=Nx(),a=0;a<e;++a){i.fromInt(_x[Math.floor(Math.random()*_x.length)]);var s=i.modPow(o,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(r)){for(var c=1;c++<n&&0!=s.compareTo(r);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(r))return!1}}return!0},t.prototype.square=function(){var t=Nx();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var r=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(r.compareTo(n)<0){var o=r;r=n,n=o}var i=r.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)e(r);else{i<a&&(a=i),a>0&&(r.rShiftTo(a,r),n.rShiftTo(a,n));var s=function(){(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(s,0):(a>0&&n.lShiftTo(a,n),setTimeout((function(){e(n)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,r,n,o){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),nx,this),this.isEven()&&this.dAddOffset(1,0);var i=this,a=function(){i.dAddOffset(2,0),i.bitLength()>e&&i.subTo(t.ONE.shiftLeft(e-1),i),i.isProbablePrime(r)?setTimeout((function(){o()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var s=[],c=7&e;s.length=1+(e>>3),r.nextBytes(s),c>0?s[0]&=(1<<c)-1:s[0]=0,this.fromString(s,256)}},t}(),Lx=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),kx=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),Ix=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=Nx();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Tx.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=Nx();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),Ox=function(){function t(t){this.m=t,this.r2=Nx(),this.q3=Nx(),Tx.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Nx();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function Nx(){return new Tx(null)}function Px(t,e){return new Tx(t,e)}var Cx="undefined"!=typeof navigator;Cx&&"Microsoft Internet Explorer"==navigator.appName?(Tx.prototype.am=function(t,e,r,n,o,i){for(var a=32767&e,s=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;o=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&o))>>>30)+(l>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},wx=30):Cx&&"Netscape"!=navigator.appName?(Tx.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var a=e*this[t++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},wx=26):(Tx.prototype.am=function(t,e,r,n,o,i){for(var a=16383&e,s=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;o=((c=a*c+((16383&l)<<14)+r[n]+o)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return o},wx=28),Tx.prototype.DB=wx,Tx.prototype.DM=(1<<wx)-1,Tx.prototype.DV=1<<wx;Tx.prototype.FV=Math.pow(2,52),Tx.prototype.F1=52-wx,Tx.prototype.F2=2*wx-52;var Dx,Rx,Fx=[];for(Dx=48,Rx=0;Rx<=9;++Rx)Fx[Dx++]=Rx;for(Dx=97,Rx=10;Rx<36;++Rx)Fx[Dx++]=Rx;for(Dx=65,Rx=10;Rx<36;++Rx)Fx[Dx++]=Rx;function jx(t,e){var r=Fx[t.charCodeAt(e)];return null==r?-1:r}function Bx(t){var e=Nx();return e.fromInt(t),e}function Mx(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}Tx.ZERO=Bx(0),Tx.ONE=Bx(1);var Gx=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var Ux,Hx,qx=null;if(null==qx){qx=[],Hx=0;var Vx=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var Kx=new Uint32Array(256);for(window.crypto.getRandomValues(Kx),Vx=0;Vx<Kx.length;++Vx)qx[Hx++]=255&Kx[Vx]}var Yx=0,Wx=function(t){if((Yx=Yx||0)>=256||Hx>=256)window.removeEventListener?window.removeEventListener("mousemove",Wx,!1):window.detachEvent&&window.detachEvent("onmousemove",Wx);else try{var e=t.x+t.y;qx[Hx++]=255&e,Yx+=1}catch(t){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",Wx,!1):window.attachEvent&&window.attachEvent("onmousemove",Wx))}function zx(){if(null==Ux){for(Ux=new Gx;Hx<256;){var t=Math.floor(65536*Math.random());qx[Hx++]=255&t}for(Ux.init(qx),Hx=0;Hx<qx.length;++Hx)qx[Hx]=0;Hx=0}return Ux.next()}var Xx=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=zx()},t}();var $x=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Px(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,r=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var i=new Xx,a=[];e>2;){for(a[0]=0;0==a[0];)i.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new Tx(r)}(t,e);if(null==r)return null;var n=this.doPublic(r);if(null==n)return null;for(var o=n.toString(16),i=o.length,a=0;a<2*e-i;a++)o="0"+o;return o},t.prototype.setPrivate=function(t,e,r){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Px(t,16),this.e=parseInt(e,16),this.d=Px(r,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,r,n,o,i,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Px(t,16),this.e=parseInt(e,16),this.d=Px(r,16),this.p=Px(n,16),this.q=Px(o,16),this.dmp1=Px(i,16),this.dmq1=Px(a,16),this.coeff=Px(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var r=new Xx,n=t>>1;this.e=parseInt(e,16);for(var o=new Tx(e,16);;){for(;this.p=new Tx(t-n,1,r),0!=this.p.subtract(Tx.ONE).gcd(o).compareTo(Tx.ONE)||!this.p.isProbablePrime(10););for(;this.q=new Tx(n,1,r),0!=this.q.subtract(Tx.ONE).gcd(o).compareTo(Tx.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}var a=this.p.subtract(Tx.ONE),s=this.q.subtract(Tx.ONE),c=a.multiply(s);if(0==c.gcd(o).compareTo(Tx.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=Px(t,16),r=this.doPrivate(e);return null==r?null:function(t,e){var r=t.toByteArray(),n=0;for(;n<r.length&&0==r[n];)++n;if(r.length-n!=e-1||2!=r[n])return null;++n;for(;0!=r[n];)if(++n>=r.length)return null;var o="";for(;++n<r.length;){var i=255&r[n];i<128?o+=String.fromCharCode(i):i>191&&i<224?(o+=String.fromCharCode((31&i)<<6|63&r[n+1]),++n):(o+=String.fromCharCode((15&i)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return o}(r,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,r){var n=new Xx,o=t>>1;this.e=parseInt(e,16);var i=new Tx(e,16),a=this,s=function(){var e=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var e=a.p.subtract(Tx.ONE),n=a.q.subtract(Tx.ONE),o=e.multiply(n);0==o.gcd(i).compareTo(Tx.ONE)?(a.n=a.p.multiply(a.q),a.d=i.modInverse(o),a.dmp1=a.d.mod(e),a.dmq1=a.d.mod(n),a.coeff=a.q.modInverse(a.p),setTimeout((function(){r()}),0)):setTimeout(s,0)},c=function(){a.q=Nx(),a.q.fromNumberAsync(o,1,n,(function(){a.q.subtract(Tx.ONE).gcda(i,(function(t){0==t.compareTo(Tx.ONE)&&a.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)}))}))},u=function(){a.p=Nx(),a.p.fromNumberAsync(t-o,1,n,(function(){a.p.subtract(Tx.ONE).gcda(i,(function(t){0==t.compareTo(Tx.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(s,0)},t.prototype.sign=function(t,e,r){var n=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var r=e-t.length-6,n="",o=0;o<r;o+=2)n+="ff";return Px("0001"+n+"00"+t,16)}((Jx[r]||"")+e(t).toString(),this.n.bitLength()/4);if(null==n)return null;var o=this.doPrivate(n);if(null==o)return null;var i=o.toString(16);return 1&i.length?"0"+i:i},t.prototype.verify=function(t,e,r){var n=Px(e,16),o=this.doPublic(n);return null==o?null:function(t){for(var e in Jx)if(Jx.hasOwnProperty(e)){var r=Jx[e],n=r.length;if(t.substr(0,n)==r)return t.substr(n)}return t}(o.toString(16).replace(/^1f+00/,""))==r(t).toString()},t}();var Jx={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
var Qx={};Qx.lang={extend:function(t,e,r){if(!e||!t)throw Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),r){var o;for(o in r)t.prototype[o]=r[o];var i=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(i=function(t,e){for(o=0;o<a.length;o+=1){var r=a[o],n=e[r];"function"==typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(t){}i(t.prototype,r)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var Zx={};void 0!==Zx.asn1&&Zx.asn1||(Zx.asn1={}),Zx.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",o=0;o<r;o++)n+="f";e=new Tx(n,16).xor(t).add(Tx.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=Zx.asn1,r=e.DERBoolean,n=e.DERInteger,o=e.DERBitString,i=e.DEROctetString,a=e.DERNull,s=e.DERObjectIdentifier,c=e.DEREnumerated,u=e.DERUTF8String,l=e.DERNumericString,h=e.DERPrintableString,f=e.DERTeletexString,p=e.DERIA5String,d=e.DERUTCTime,y=e.DERGeneralizedTime,v=e.DERSequence,m=e.DERSet,g=e.DERTaggedObject,b=e.ASN1Util.newObject,w=Object.keys(t);if(1!=w.length)throw"key of param shall be only one.";var E=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(t[E]);if("int"==E)return new n(t[E]);if("bitstr"==E)return new o(t[E]);if("octstr"==E)return new i(t[E]);if("null"==E)return new a(t[E]);if("oid"==E)return new s(t[E]);if("enum"==E)return new c(t[E]);if("utf8str"==E)return new u(t[E]);if("numstr"==E)return new l(t[E]);if("prnstr"==E)return new h(t[E]);if("telstr"==E)return new f(t[E]);if("ia5str"==E)return new p(t[E]);if("utctime"==E)return new d(t[E]);if("gentime"==E)return new y(t[E]);if("seq"==E){for(var x=t[E],S=[],_=0;_<x.length;_++){var A=b(x[_]);S.push(A)}return new v({array:S})}if("set"==E){for(x=t[E],S=[],_=0;_<x.length;_++){A=b(x[_]);S.push(A)}return new m({array:S})}if("tag"==E){var T=t[E];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var L=b(T[2]);return new g({tag:T[0],explicit:T[1],obj:L})}var k={};if(void 0!==T.explicit&&(k.explicit=T.explicit),void 0!==T.tag&&(k.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return k.obj=b(T.obj),new g(k)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Zx.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),o=2;o<t.length;o+=2){var i=("00000000"+parseInt(t.substr(o,2),16).toString(2)).slice(-8);if(n+=i.substr(1,7),"0"==i.substr(0,1))e=e+"."+new Tx(n,2).toString(10),n=""}return e},Zx.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new Tx(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},Zx.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Zx.asn1.DERAbstractString=function(t){Zx.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},Qx.lang.extend(Zx.asn1.DERAbstractString,Zx.asn1.ASN1Object),Zx.asn1.DERAbstractTime=function(t){Zx.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,o=this.localDateToUTC(t),i=o.getFullYear()+"";"utc"==e&&(i=i.substr(2,2));var a=i+n(o.getMonth()+1+"",2)+n(o.getDate()+"",2)+n(o.getHours()+"",2)+n(o.getMinutes()+"",2)+n(o.getSeconds()+"",2);if(!0===r){var s=o.getMilliseconds();if(0!=s){var c=n(s+"",3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,r,n,o,i){var a=new Date(Date.UTC(t,e-1,r,n,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Qx.lang.extend(Zx.asn1.DERAbstractTime,Zx.asn1.ASN1Object),Zx.asn1.DERAbstractStructured=function(t){Zx.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=[],void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},Qx.lang.extend(Zx.asn1.DERAbstractStructured,Zx.asn1.ASN1Object),Zx.asn1.DERBoolean=function(){Zx.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Qx.lang.extend(Zx.asn1.DERBoolean,Zx.asn1.ASN1Object),Zx.asn1.DERInteger=function(t){Zx.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Zx.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Tx(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Qx.lang.extend(Zx.asn1.DERInteger,Zx.asn1.ASN1Object),Zx.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Zx.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}Zx.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var o=t.substr(r,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),n+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},Qx.lang.extend(Zx.asn1.DERBitString,Zx.asn1.ASN1Object),Zx.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Zx.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}Zx.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Qx.lang.extend(Zx.asn1.DEROctetString,Zx.asn1.DERAbstractString),Zx.asn1.DERNull=function(){Zx.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Qx.lang.extend(Zx.asn1.DERNull,Zx.asn1.ASN1Object),Zx.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new Tx(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};Zx.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=Zx.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},Qx.lang.extend(Zx.asn1.DERObjectIdentifier,Zx.asn1.ASN1Object),Zx.asn1.DEREnumerated=function(t){Zx.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Zx.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Tx(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Qx.lang.extend(Zx.asn1.DEREnumerated,Zx.asn1.ASN1Object),Zx.asn1.DERUTF8String=function(t){Zx.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Qx.lang.extend(Zx.asn1.DERUTF8String,Zx.asn1.DERAbstractString),Zx.asn1.DERNumericString=function(t){Zx.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Qx.lang.extend(Zx.asn1.DERNumericString,Zx.asn1.DERAbstractString),Zx.asn1.DERPrintableString=function(t){Zx.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Qx.lang.extend(Zx.asn1.DERPrintableString,Zx.asn1.DERAbstractString),Zx.asn1.DERTeletexString=function(t){Zx.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Qx.lang.extend(Zx.asn1.DERTeletexString,Zx.asn1.DERAbstractString),Zx.asn1.DERIA5String=function(t){Zx.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Qx.lang.extend(Zx.asn1.DERIA5String,Zx.asn1.DERAbstractString),Zx.asn1.DERUTCTime=function(t){Zx.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},Qx.lang.extend(Zx.asn1.DERUTCTime,Zx.asn1.DERAbstractTime),Zx.asn1.DERGeneralizedTime=function(t){Zx.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},Qx.lang.extend(Zx.asn1.DERGeneralizedTime,Zx.asn1.DERAbstractTime),Zx.asn1.DERSequence=function(t){Zx.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},Qx.lang.extend(Zx.asn1.DERSequence,Zx.asn1.DERAbstractStructured),Zx.asn1.DERSet=function(t){Zx.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=[],e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Qx.lang.extend(Zx.asn1.DERSet,Zx.asn1.DERAbstractStructured),Zx.asn1.DERTaggedObject=function(t){Zx.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Qx.lang.extend(Zx.asn1.DERTaggedObject,Zx.asn1.ASN1Object);var tS,eS,rS=(tS=function(t,e){return tS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},tS(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function r(){this.constructor=t}tS(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),nS=function(t){function e(r){var n=t.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(e.hasPrivateKeyProperty(r)||e.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return rS(e,t),e.prototype.parseKey=function(t){try{var e=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?px(t):dx.unarmor(t),o=xx.decode(n);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){e=o.sub[1].getHexStringValue(),this.n=Px(e,16),r=o.sub[2].getHexStringValue(),this.e=parseInt(r,16);var i=o.sub[3].getHexStringValue();this.d=Px(i,16);var a=o.sub[4].getHexStringValue();this.p=Px(a,16);var s=o.sub[5].getHexStringValue();this.q=Px(s,16);var c=o.sub[6].getHexStringValue();this.dmp1=Px(c,16);var u=o.sub[7].getHexStringValue();this.dmq1=Px(u,16);var l=o.sub[8].getHexStringValue();this.coeff=Px(l,16)}else{if(2!==o.sub.length)return!1;if(o.sub[0].sub){var h=o.sub[1].sub[0];e=h.sub[0].getHexStringValue(),this.n=Px(e,16),r=h.sub[1].getHexStringValue(),this.e=parseInt(r,16)}else e=o.sub[0].getHexStringValue(),this.n=Px(e,16),r=o.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new Zx.asn1.DERInteger({int:0}),new Zx.asn1.DERInteger({bigint:this.n}),new Zx.asn1.DERInteger({int:this.e}),new Zx.asn1.DERInteger({bigint:this.d}),new Zx.asn1.DERInteger({bigint:this.p}),new Zx.asn1.DERInteger({bigint:this.q}),new Zx.asn1.DERInteger({bigint:this.dmp1}),new Zx.asn1.DERInteger({bigint:this.dmq1}),new Zx.asn1.DERInteger({bigint:this.coeff})]};return new Zx.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return lx(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new Zx.asn1.DERSequence({array:[new Zx.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Zx.asn1.DERNull]}),e=new Zx.asn1.DERSequence({array:[new Zx.asn1.DERInteger({bigint:this.n}),new Zx.asn1.DERInteger({int:this.e})]}),r=new Zx.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new Zx.asn1.DERSequence({array:[t,r]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return lx(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var r="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(r,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}($x),oS="undefined"!=typeof process?null===(eS=process.env)||void 0===eS?void 0:eS.npm_package_version:void 0,iS=function(){function t(t){void 0===t&&(t={}),t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key,this.key=new nS(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(hx(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return lx(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,r){try{return lx(this.getKey().sign(t,e,r))}catch(t){return!1}},t.prototype.verify=function(t,e,r){try{return this.getKey().verify(t,hx(e),r)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new nS,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=oS,t}();const aS=iS;var sS=r(2169),cS=r.n(sS),uS=r(4759);function lS(t){return lS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lS(t)}function hS(t){return function(t){if(Array.isArray(t))return fS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fS(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==lS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(lS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function dS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function yS(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dS(i,n,o,a,s,"next",t)}function s(t){dS(i,n,o,a,s,"throw",t)}a(void 0)}))}}function vS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bS(n.key),n)}}function mS(t,e,r){return e&&vS(t.prototype,e),r&&vS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gS(t,e,r){return(e=bS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bS(t){var e=function(t,e){if("object"!=lS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=lS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lS(e)?e:e+""}var wS=mS((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gS(this,"registerMobileDevice",function(){var t=yS(pS().mark((function t(e){var r,n,o;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.AccessToken,n=e.deviceId,o=e.deviceModel,t.abrupt("return",Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IMobileDeviceService/RegisterMobileDevice/v1/?access_token=".concat(r,"&deviceid=").concat(n,"&language=english&push_enabled=1&app_version=3.6.3&os_version=25&device_model=").concat(o,"&twofactor_device_identifier=0")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"addAuthenticator",function(){var t=yS(pS().mark((function t(e){var r,n,o;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.AccessToken,n=e.SteamID,o=e.deviceId,t.abrupt("return",Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/AddAuthenticator/v1/?access_token=".concat(r,"&steamid=").concat(n,"&authenticator_type=1&device_identifier=").concat(o,"&sms_phone_id=2")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"finalizeAddAuthenticator",function(){var t=yS(pS().mark((function t(e){var r,n,o,i,a,s;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.accessToken,n=e.activationCode,o=e.secret,i=e.steamId,t.next=3,Iw.generateAuthCode(o);case 3:return a=t.sent,s=(new Date).getTime(),t.abrupt("return",Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/FinalizeAddAuthenticator/v1/?access_token=".concat(r,"&steamid=").concat(i,"&authenticator_code=").concat(a,"&authenticator_time=").concat(s,"&activation_code=").concat(n)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"getRSAKey",function(){var t=yS(pS().mark((function t(e){var r;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/IAuthenticationService/GetPasswordRSAPublicKey/v1/?account_name=".concat(e)});case 2:return r=t.sent,t.abrupt("return",r.response);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"generatePemFromModExp",(function(t,e){var r=new uS.sD;return r.setPublic(t,e),uS.ym.getPEM(r)})),gS(this,"encryptPassword",(function(t,r,n){var o=e.generatePemFromModExp(r,n),i=new aS;return i.setPublicKey(o),i.encrypt(t)})),gS(this,"startSessionWithCredentials",function(){var t=yS(pS().mark((function t(r){var n,o,i,a,s,c,u,l,h,f;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.username,o=r.password,t.next=3,e.getRSAKey(n);case 3:return i=t.sent,a=e.encryptPassword(o,i.publickey_mod,i.publickey_exp),s="https://api.steampowered.com/IAuthenticationService/*",t.next=8,Sl.generateDynamicRuleId(s);case 8:for(h in t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"user-agent",operation:"set",value:"okhttp/3.12.12"},{header:"Cookie",operation:"set",value:"mobileClient=android; mobileClientVersion=777777 3.0.0"}]},t.t2={urlFilter:s},c={id:t.t0,priority:1,action:t.t1,condition:t.t2},u=new URLSearchParams({account_name:n,encrypted_password:a,encryption_timestamp:i.timestamp,remember_login:!0,persistence:1,website_id:"Mobile"}),l={device_friendly_name:NE(),platform_type:3,os_type:-500,gaming_device_type:528})u.append(h,l[h]);return t.prev=15,t.next=18,Sl.setRule(c);case 18:return t.next=20,Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/BeginAuthSessionViaCredentials/v1/?".concat(u.toString())});case 20:return f=t.sent,t.next=23,Sl.removeRule(s);case 23:return t.abrupt("return",f.response);case 26:return t.prev=26,t.t3=t.catch(15),t.next=30,Sl.removeRule(s);case 30:throw Error(t.t3);case 31:case"end":return t.stop()}}),t,null,[[15,26]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"updateAuthSessionWithSteamGuardCode",function(){var t=yS(pS().mark((function t(e){var r,n,o,i,a;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.client_id,n=e.steam_id,o=e.code,i=e.code_type,a=new URLSearchParams({client_id:r,steamid:n,code:o,code_type:void 0===i?2:i}),t.next=4,Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/UpdateAuthSessionWithSteamGuardCode/v1/?".concat(a.toString())});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"pollLoginStatus",function(){var t=yS(pS().mark((function t(e){var r,n,o,i;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.client_id,n=e.request_id,o=new URLSearchParams({client_id:r,request_id:n}),t.next=4,Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/PollAuthSessionStatus/v1/?".concat(o.toString())});case 4:return i=t.sent,t.abrupt("return",i.response);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"importAccount",function(){var t=yS(pS().mark((function t(r){var n,o,i,a,s,c,u,l;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.steamId,!r.passkey||!r.manifest){t.next=12;break}if((a=cS().parse(r.manifest)).entries.forEach((function(t){t.steamid=t.steamid.toString()})),o=a.entries.find((function(t){return t.steamid.toString()===i})),s=tx.decryptData(r.passkey,o.encryption_salt,o.encryption_iv,r.mafile)){t.next=8;break}throw Error("Failed decryption");case 8:(n=cS().parse(s)).Session.SteamID=n.Session.SteamID.toString(),t.next=21;break;case 12:t.prev=12,(n=cS().parse(r.mafile)).Session.SteamID=n.Session.SteamID.toString(),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(12),Error("Incorrect maFile");case 20:o={encryption_iv:null,encryption_salt:null,filename:"".concat(n.Session.SteamID,".maFile"),steamid:n.Session.SteamID};case 21:return t.next=23,e.insertMafileInDB(n,r.currentPassKey);case 23:return c=t.sent,u=c.iv,l=c.salt,o.encryption_iv=u,o.encryption_salt=l,t.next=30,e.updateManifestInDB(o);case 30:case"end":return t.stop()}}),t,null,[[12,17]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"removeAccount",function(){var t=yS(pS().mark((function t(e){var r,n,o,i;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new mw("SIH_SDA","mafiles",TE),n=new mw("SIH_SDA","manifest",TE),t.next=4,n.openDB();case 4:return t.next=6,n.get("v1");case 6:return(o=t.sent).entries=o.entries.filter((function(t){return t.steamid!==e})),t.next=10,n.update([{key:"v1",value:o}]);case 10:return t.next=12,r.openDB();case 12:return t.next=14,r.delete(e);case 14:if(!o.encrypted){t.next=22;break}return t.next=17,y.w.get("enabledBackupSDA");case 17:if(i=t.sent,!i.enabledBackupSDA){t.next=22;break}return t.next=22,YE.makeBackUp();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"deactivateAuthenticator",function(){var t=yS(pS().mark((function t(e){var r,n,o,i,a,s;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.revocation_code,n=e.accessToken,o=e.refreshToken,i=e.steamId,!NS.isTokenExpired(n)){t.next=5;break}return t.next=4,NS.refreshAccessToken(o,i);case 4:n=t.sent;case 5:return a=new URLSearchParams({access_token:n,revocation_code:r,revocation_reason:1,steamguard_scheme:1}),t.next=8,Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/ITwoFactorService/RemoveAuthenticator/v1/?".concat(a.toString())});case 8:return s=t.sent,t.abrupt("return",s.response);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"insertMafileInDB",function(){var e=yS(pS().mark((function e(r,n){var o,i,a,s,c=arguments;return pS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>2&&void 0!==c[2]&&c[2],i=r.Session.SteamID,a=new mw("SIH_SDA","mafiles",TE),e.next=5,a.openDB();case 5:return e.prev=5,e.next=8,a.get(i);case 8:if(!(s=e.sent)||!o){e.next=17;break}return e.next=12,a.delete(i);case 12:return e.next=14,t.checkEncryptionAndInsertMaFileInDB(r,n,i,a);case 14:case 26:return e.abrupt("return",e.sent);case 17:if(!s){e.next=19;break}throw Error("This account already imported");case 19:e.next=30;break;case 21:if(e.prev=21,e.t0=e.catch(5),"Not found key"!==e.t0.message){e.next=29;break}return e.next=26,t.checkEncryptionAndInsertMaFileInDB(r,n,i,a);case 29:throw Error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,r){return e.apply(this,arguments)}}()),gS(this,"updateManifestInDB",function(){var t=yS(pS().mark((function t(e){var r,n,o,i,a,s,c,u=arguments;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]&&u[1],n=new mw("SIH_SDA","manifest",TE),t.next=4,n.openDB();case 4:return t.prev=4,t.next=7,n.get("v1");case 7:if(!(o=t.sent)){t.next=29;break}if(-1===(i=o.entries.findIndex((function(t){return t.steamid===e.steamid})))){t.next=18;break}if(!r){t.next=15;break}o.entries[i]=e,t.next=16;break;case 15:throw Error("This account already imported");case 16:t.next=19;break;case 18:o.entries.push(e);case 19:return t.next=21,n.update([{key:"v1",value:o}]);case 21:if(!o.encrypted){t.next=29;break}return t.next=24,y.w.get("enabledBackupSDA");case 24:if(a=t.sent,!a.enabledBackupSDA){t.next=29;break}return t.next=29,YE.makeBackUp();case 29:t.next=48;break;case 31:if(t.prev=31,t.t0=t.catch(4),"Not found key"!==t.t0.message){t.next=47;break}return s={encrypted:!1,first_run:!1,entries:[e],periodic_checking:!1,periodic_checking_interval:60,periodic_checking_checkall:!1,auto_confirm_market_transactions:!1,auto_confirm_trades:!1},t.next=37,n.insert([{key:"v1",value:s}]);case 37:if(!s.encrypted){t.next=45;break}return t.next=40,y.w.get("enabledBackupSDA");case 40:if(c=t.sent,!c.enabledBackupSDA){t.next=45;break}return t.next=45,YE.makeBackUp();case 45:t.next=48;break;case 47:throw Error(t.t0);case 48:case"end":return t.stop()}}),t,null,[[4,31]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"getSDASettings",yS(pS().mark((function t(){var e,r;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new mw("SIH_SDA","manifest",TE),t.next=3,e.openDB();case 3:return t.prev=3,t.next=6,e.get("v1");case 6:if(!(r=t.sent)){t.next=9;break}return t.abrupt("return",{enable_notification:r.periodic_checking,wait_delay_sec:r.periodic_checking_interval,wait_all_accounts:r.periodic_checking_checkall,market_autoconfirm:r.auto_confirm_market_transactions,trades_autoconfirm:r.auto_confirm_trades});case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(3),Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))),gS(this,"updateSDASettings",function(){var t=yS(pS().mark((function t(e){var r,n,o;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new mw("SIH_SDA","manifest",TE),t.next=3,r.openDB();case 3:return t.prev=3,t.next=6,r.get("v1");case 6:if(!(n=t.sent)){t.next=23;break}return n.periodic_checking=e.enable_notification,n.periodic_checking_interval=e.wait_delay_sec,n.periodic_checking_checkall=e.wait_all_accounts,n.auto_confirm_market_transactions=e.market_autoconfirm,n.auto_confirm_trades=e.trades_autoconfirm,t.next=15,r.update([{key:"v1",value:n}]);case 15:if(!n.encrypted){t.next=23;break}return t.next=18,y.w.get("enabledBackupSDA");case 18:if(o=t.sent,!o.enabledBackupSDA){t.next=23;break}return t.next=23,YE.makeBackUp();case 23:t.next=28;break;case 25:throw t.prev=25,t.t0=t.catch(3),Error(t.t0);case 28:case"end":return t.stop()}}),t,null,[[3,25]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"setupEncryption",function(){var e=yS(pS().mark((function e(r){var n,o,i,a,s,c,u,l,h,f;return pS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new mw("SIH_SDA","manifest",TE),o=new mw("SIH_SDA","mafiles",TE),e.next=4,n.openDB();case 4:return e.next=6,o.openDB();case 6:return e.prev=6,e.next=9,n.get("v1");case 9:return i=e.sent,e.next=12,o.getAll();case 12:a=e.sent,s=0;case 14:if(!(s<a.length)){e.next=26;break}return c=a[s],e.next=18,t.updateMaFileEncryption(r,c,i.entries);case 18:u=e.sent,l=u.entries,h=u.encrypted,i.entries=l,i.encrypted=h;case 23:s++,e.next=14;break;case 26:return e.next=28,n.update([{key:"v1",value:i}]);case 28:if(LE.passKey={value:r,time:Date.now()},!i.encrypted){e.next=37;break}return e.next=32,y.w.get("enabledBackupSDA");case 32:if(f=e.sent,!f.enabledBackupSDA){e.next=37;break}return e.next=37,YE.makeBackUp();case 37:e.next=42;break;case 39:throw e.prev=39,e.t0=e.catch(6),Error(e.t0);case 42:case"end":return e.stop()}}),e,null,[[6,39]])})));return function(t){return e.apply(this,arguments)}}()),gS(this,"updateEncryption",function(){var r=yS(pS().mark((function r(n){var o,i,a,s,c,u,l,h,f,p,d,v;return pS().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.currentPass,i=n.newPass,r.prev=1,r.next=4,e.getSDAAccounts(o);case 4:return a=r.sent,s=new mw("SIH_SDA","manifest",TE),c=new mw("SIH_SDA","mafiles",TE),r.next=9,s.openDB();case 9:return r.next=11,c.openDB();case 11:return r.next=13,s.get("v1");case 13:u=r.sent,l=0;case 15:if(!(l<a.length)){r.next=27;break}return h=a[l],r.next=19,t.updateMaFileEncryption(i,h,u.entries);case 19:f=r.sent,p=f.entries,d=f.encrypted,u.entries=p,u.encrypted=d;case 24:l++,r.next=15;break;case 27:return r.next=29,s.update([{key:"v1",value:u}]);case 29:if(LE.passKey={value:i,time:Date.now()},!u.encrypted){r.next=38;break}return r.next=33,y.w.get("enabledBackupSDA");case 33:if(v=r.sent,!v.enabledBackupSDA){r.next=38;break}return r.next=38,YE.makeBackUp();case 38:r.next=43;break;case 40:throw r.prev=40,r.t0=r.catch(1),Error(r.t0);case 43:case"end":return r.stop()}}),r,null,[[1,40]])})));return function(t){return r.apply(this,arguments)}}()),gS(this,"isEncryptedMaFiles",yS(pS().mark((function t(){var e,r,n;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new mw("SIH_SDA","manifest",TE),t.next=3,e.openDB();case 3:return t.prev=3,t.next=6,e.get("v1");case 6:if(!(r=t.sent)){t.next=26;break}if(!r.encrypted){t.next=25;break}return n=new mw("SIH_SDA","mafiles",TE),t.next=12,n.openDB();case 12:return t.next=14,n.getAllWithKeys();case 14:if(!t.sent.length){t.next=19;break}return t.abrupt("return",r.encrypted);case 19:return r.encrypted=!1,t.next=22,e.update([{key:"v1",value:r}]);case 22:case 25:return t.abrupt("return",r.encrypted);case 23:t.next=26;break;case 26:t.next=31;break;case 28:throw t.prev=28,t.t0=t.catch(3),Error(t.t0);case 31:case"end":return t.stop()}}),t,null,[[3,28]])})))),gS(this,"getSDAAccounts",function(){var t=yS(pS().mark((function t(e){var r,n,o,i,a;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new mw("SIH_SDA","mafiles",TE),n=new mw("SIH_SDA","manifest",TE),t.next=4,r.openDB();case 4:return t.next=6,n.openDB();case 6:if(o=[],!e){t.next=17;break}return t.next=10,r.getAllWithKeys();case 10:return i=t.sent,t.next=13,n.get("v1");case 13:a=t.sent,i.forEach((function(t){var r=t.key,n=t.value,i=a.entries.find((function(t){return t.steamid.toString()===r})),s=tx.decryptData(e,i.encryption_salt,i.encryption_iv,n);if(!s)throw Error("Failed decryption");o.push(JSON.parse(s))})),t.next=25;break;case 17:return t.t0=o.push,t.t1=o,t.t2=hS,t.next=22,r.getAll();case 22:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4);case 25:return t.abrupt("return",o);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"getEncryptionParams",function(){var t=yS(pS().mark((function t(e){var r,n,o;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new mw("SIH_SDA","manifest",TE),t.next=3,r.openDB();case 3:return t.next=5,r.get("v1");case 5:return n=t.sent,o=n.entries.find((function(t){return t.steamid.toString()===e})),t.abrupt("return",{salt:o.encryption_salt,iv:o.encryption_iv});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),gS(this,"reLoginAccount",function(){var t=yS(pS().mark((function t(r){var n,o,i,a,s,c,u,l;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.shared_secret,o=r.client_id,i=r.steam_id,a=r.request_id,s=r.passKey,t.prev=1,t.next=4,Iw.generateAuthCode(n);case 4:return c=t.sent,t.next=7,e.updateAuthSessionWithSteamGuardCode({client_id:o,steam_id:i,code:c,code_type:3});case 7:return t.next=9,e.pollLoginStatus({client_id:o,request_id:a});case 9:if(!(u=t.sent).refresh_token||!u.access_token){t.next=16;break}return l={AccessToken:u.access_token,RefreshToken:u.refresh_token,SessionID:NS.generateSessionID(),SteamID:i},t.next=14,NS.updateSessionInDB(s,l);case 14:t.next=17;break;case 16:throw Error("Auth error");case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(1),Error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"getManifestFromDB",yS(pS().mark((function t(){var e;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new mw("SIH_SDA","manifest",TE),t.next=4,e.openDB();case 4:return t.next=6,e.get("v1");case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),gS(this,"getMaFileFromDB",function(){var t=yS(pS().mark((function t(e){var r;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new mw("SIH_SDA","mafiles",TE),t.next=4,r.openDB();case 4:return t.next=6,r.get(e);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),gS(this,"getAllMaFiles",yS(pS().mark((function t(){var e;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new mw("SIH_SDA","mafiles",TE),t.next=4,e.openDB();case 4:return t.next=6,e.getAllWithKeys();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))))}));gS(wS,"updateMaFileEncryption",function(){var t=yS(pS().mark((function t(e,r,n){var o,i,a,s,c,u;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new mw("SIH_SDA","mafiles",TE),i=!!e,t.next=4,o.openDB();case 4:return a=i?tx.getRandomSalt():null,s=i?tx.getInitializationVector():null,c=i?tx.encryptData(e,a,s,JSON.stringify(r)):r,n.forEach((function(t){t.steamid===r.Session.SteamID&&(t.encryption_iv=s,t.encryption_salt=a)})),t.next=10,o.update([{key:r.Session.SteamID,value:c}]);case 10:if(!i){t.next=18;break}return t.next=13,y.w.get("enabledBackupSDA");case 13:if(u=t.sent,!u.enabledBackupSDA){t.next=18;break}return t.next=18,YE.makeBackUp();case 18:return t.abrupt("return",{entries:n,encrypted:i});case 19:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),gS(wS,"checkEncryptionAndInsertMaFileInDB",function(){var t=yS(pS().mark((function t(e,r,n,o){var i,a,s,c;return pS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=17;break}return i=tx.getRandomSalt(),a=tx.getInitializationVector(),s=tx.encryptData(r,i,a,JSON.stringify(e)),t.next=7,o.insert([{key:n,value:s}]);case 7:return t.next=9,y.w.get("enabledBackupSDA");case 9:if(c=t.sent,!c.enabledBackupSDA){t.next=14;break}return t.next=14,YE.makeBackUp();case 14:return t.abrupt("return",{salt:i,iv:a});case 17:return t.next=19,o.insert([{key:n,value:e}]);case 19:return t.abrupt("return",{salt:null,iv:null});case 20:t.next=25;break;case 22:throw t.prev=22,t.t0=t.catch(0),Error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,r,n,o){return t.apply(this,arguments)}}());const ES=new wS;function xS(t){return xS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xS(t)}function SS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */SS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==xS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(xS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _S(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function AS(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_S(i,n,o,a,s,"next",t)}function s(t){_S(i,n,o,a,s,"throw",t)}a(void 0)}))}}function TS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IS(n.key),n)}}function LS(t,e,r){return e&&TS(t.prototype,e),r&&TS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kS(t,e,r){return(e=IS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IS(t){var e=function(t,e){if("object"!=xS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xS(e)?e:e+""}var OS=LS((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),kS(this,"isTokenExpired",(function(t){if(!t)return!0;var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");e.length%4!=0&&(e+="=".repeat(4-e.length%4));var r=atob(e),n=JSON.parse(r);return Math.floor(Date.now()/1e3)>n.exp})),kS(this,"refreshAccessToken",function(){var t=AS(SS().mark((function t(e,r){var n,o,i;return SS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new URLSearchParams({refresh_token:e,steamid:r}),t.next=4,Bs.Ay.apiRequest({method:"POST",url:"https://api.steampowered.com/IAuthenticationService/GenerateAccessTokenForApp/v1/?".concat(n.toString())});case 4:return o=t.sent,i=o.response,t.abrupt("return",i.access_token);case 9:throw t.prev=9,t.t0=t.catch(0),Error("Failed to refresh token: "+t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()),kS(this,"getSteamLoginSecure",(function(t,e){return t+"%7C%7C"+e})),kS(this,"generateSessionID",(function(){return t.getRandomHexNumber(32)})),kS(this,"forceRefreshSession",function(){var t=AS(SS().mark((function t(r,n,o){var i,a;return SS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.refreshAccessToken(r,n);case 3:if(i=t.sent){t.next=6;break}throw Error("Wrong refreshToken");case 6:return a={AccessToken:i,RefreshToken:r,SessionID:e.generateSessionID(),SteamID:n},t.next=9,e.updateSessionInDB(o,a);case 9:return t.abrupt("return",a);case 12:if(t.prev=12,t.t0=t.catch(0),"Wrong refreshToken"!==t.t0.message){t.next=18;break}throw Error("Wrong refreshToken");case 18:throw Error("Failed to refresh session: "+t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r,n){return t.apply(this,arguments)}}()),kS(this,"updateSessionInDB",function(){var t=AS(SS().mark((function t(e,r){var n,o,i,a,s,c,u,l;return SS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ES.getSDAAccounts(e);case 2:return n=t.sent,(o=n.find((function(t){return t.Session.SteamID===r.SteamID}))).Session=r,i=new mw("SIH_SDA","mafiles",TE),t.next=8,i.openDB();case 8:if(!e){t.next=26;break}return t.next=11,ES.getEncryptionParams(r.SteamID);case 11:return a=t.sent,s=a.salt,c=a.iv,u=tx.encryptData(e,s,c,JSON.stringify(o)),t.next=17,i.update([{key:r.SteamID,value:u}]);case 17:return t.next=19,y.w.get("enabledBackupSDA");case 19:if(l=t.sent,!l.enabledBackupSDA){t.next=24;break}return t.next=24,YE.makeBackUp();case 24:t.next=28;break;case 26:return t.next=28,i.update([{key:r.SteamID,value:o}]);case 28:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}));kS(OS,"getRandomHexNumber",(function(t){var e=new Uint8Array(Math.ceil(t/2));self.crypto.getRandomValues(e);var r=Array.from(e).map((function(t){return t.toString(16).padStart(2,"0")})).join("").toUpperCase();return t%2==0?r:r.slice(0,-1)+Math.floor(16*Math.random()).toString(16).toUpperCase()}));const NS=new OS;var PS;function CS(t){return CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(t)}function DS(t){return function(t){if(Array.isArray(t))return jS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||FS(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RS(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=FS(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function FS(t,e){if(t){if("string"==typeof t)return jS(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jS(t,e):void 0}}function jS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function BS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==CS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(CS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function MS(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function GS(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){MS(i,n,o,a,s,"next",t)}function s(t){MS(i,n,o,a,s,"throw",t)}a(void 0)}))}}function US(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VS(n.key),n)}}function HS(t,e,r){return e&&US(t.prototype,e),r&&US(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qS(t,e,r){return(e=VS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VS(t){var e=function(t,e){if("object"!=CS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=CS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CS(e)?e:e+""}var KS=HS((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qS(this,"getConfirmationList",function(){var e=GS(BS().mark((function e(r,n){var o,i,a;return BS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={tag:"conf",deviceID:r.device_id,steamID:r.Session.SteamID,identitySecret:r.identity_secret,time:n},e.t0="https://steamcommunity.com/mobileconf/getlist?",e.next=5,t.generateConfirmationURL(o);case 5:return e.t1=e.sent,i=e.t0+e.t1,e.prev=7,e.next=10,t.updateHeadersMobileConf(r.Session.SteamID,r.Session.AccessToken);case 10:return e.next=12,Bs.Ay.apiRequest({url:i,method:"POST"});case 12:return a=e.sent,e.next=15,Sl.removeRule(t.urlFilter);case 15:return e.abrupt("return",a);case 18:return e.prev=18,e.t2=e.catch(7),e.next=22,Sl.removeRule(t.urlFilter);case 22:throw Error(e.t2);case 23:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t,r){return e.apply(this,arguments)}}()),qS(this,"sendConfirmation",function(){var e=GS(BS().mark((function e(r,n,o,i){var a,s,c,u;return BS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={tag:"allow"===n?"accept":"reject",deviceID:o.device_id,steamID:o.Session.SteamID,identitySecret:o.identity_secret,time:i},e.next=4,t.generateConfirmationURL(a);case 4:return s=e.sent,c="https://steamcommunity.com/mobileconf/ajaxop?op=".concat(n,"&").concat(s,"&cid=").concat(r.id,"&ck=").concat(r.nonce),e.prev=6,e.next=9,t.updateHeadersMobileConf(o.Session.SteamID,o.Session.AccessToken);case 9:return e.next=11,Bs.Ay.apiRequest({url:c,method:"GET"});case 11:return u=e.sent,e.next=14,Sl.removeRule(t.urlFilter);case 14:return e.abrupt("return",u);case 17:return e.prev=17,e.t0=e.catch(6),e.next=21,Sl.removeRule(t.urlFilter);case 21:throw Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),qS(this,"sendMultiConfirmation",function(){var e=GS(BS().mark((function e(r,n,o,i){var a,s,c,u;return BS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="allow"===n?"accept":"reject",e.t0=o.device_id,e.t1=o.Session.SteamID,e.next=5,Iw.generateConfirmationKey(o.identity_secret,i,a);case 5:return e.t2=e.sent,e.t3=i,e.t4=a,e.t5=n,e.t6=[],e.t7=[],s={p:e.t0,a:e.t1,k:e.t2,t:e.t3,m:"react",tag:e.t4,op:e.t5,cid:e.t6,ck:e.t7},r.forEach((function(t){s.cid.push(t.id),s.ck.push(t.nonce)})),c="https://steamcommunity.com/mobileconf/multiajaxop",e.prev=14,e.next=17,t.updateHeadersMobileConf(o.Session.SteamID,o.Session.AccessToken);case 17:return e.next=19,Bs.Ay.apiRequest({url:c,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:s});case 19:return u=e.sent,e.next=22,Sl.removeRule(t.urlFilter);case 22:return e.abrupt("return",u);case 25:return e.prev=25,e.t8=e.catch(14),e.next=29,Sl.removeRule(t.urlFilter);case 29:throw Error(e.t8);case 30:case"end":return e.stop()}}),e,null,[[14,25]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),qS(this,"alarmConfChecker",GS(BS().mark((function t(){var r,n,o,i,a,s,c;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.getManifestFromDB();case 3:if((r=t.sent).entries.length){t.next=6;break}return t.abrupt("return");case 6:if(!r.encrypted||LE.passKey.value){t.next=8;break}return t.abrupt("return");case 8:if(!r.periodic_checking_checkall){t.next=37;break}return t.next=11,ES.getSDAAccounts(r.encrypted?LE.passKey.value:"");case 11:if((n=t.sent).length){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,Iw.getTimeOffset();case 16:o=t.sent,i=o.offset,a=RS(n),t.prev=19,c=BS().mark((function t(){var n,o,a,c,u,l,h,f,p,d;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.value,o=n.Session.SteamID,a=n.Session.AccessToken,c=n.Session.RefreshToken,!LE.pausedAccounts[o]){t.next=6;break}return t.abrupt("return",0);case 6:if(!NS.isTokenExpired(c)){t.next=10;break}return t.abrupt("return",0);case 10:if(!NS.isTokenExpired(a)){t.next=20;break}return t.prev=11,t.next=14,NS.forceRefreshSession(c,o,LE.passKey.value);case 14:n.Session=t.sent,t.next=20;break;case 17:return t.prev=17,t.t0=t.catch(11),t.abrupt("return",0);case 20:return u=Iw.time(i),t.next=23,e.getConfirmationList(n,u);case 23:if(l=t.sent,h=l.conf,(f=l.success)&&(h.length&&r.periodic_checking&&h.forEach((function(t){var e={type:"basic",title:"Steam inventory helper",message:t.headline,iconUrl:t.icon,buttons:[{title:"".concat(i18next.t("controls:accept"))},{title:"".concat(i18next.t("controls:reject"))}]};switch(t.type){case xE:e.message="".concat(i18next.t("controls:tradeConfirmationFrom")," ").concat(t.headline);break;case SE:var r=t.headline.replace("Selling for","");e.message="".concat(i18next.t("controls:marketConfirmation")," ").concat(r)}var o="SDA_NOTIFICATION_".concat(t.id);LE.notifications[o]={conf:t,account:n},chrome.notifications.create(o,e)})),LE.confirmations[o]=h),f&&h.length){t.next=29;break}return t.abrupt("return",0);case 29:if(p=[],d=[],h.forEach((function(t){switch(t.type){case xE:p.push(t);break;case SE:d.push(t)}})),!r.auto_confirm_trades||!p.length){t.next=36;break}return t.next=35,e.sendMultiConfirmation(p,"allow",n,u);case 35:e.setInHistory(o,u,"allow",p);case 36:if(!r.auto_confirm_market_transactions||!d.length){t.next=40;break}return t.next=39,e.sendMultiConfirmation(d,"allow",n,u);case 39:e.setInHistory(o,u,"allow",d);case 40:case"end":return t.stop()}}),t,null,[[11,17]])})),a.s();case 22:if((s=a.n()).done){t.next=29;break}return t.delegateYield(c(),"t0",24);case 24:if(0!==t.t0){t.next=27;break}return t.abrupt("continue",27);case 27:t.next=22;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(19),a.e(t.t1);case 34:return t.prev=34,a.f(),t.finish(34);case 37:chrome.alarms.get("SDA_CHECK_CONFIRMATION",(function(t){var e=r.periodic_checking_interval/60;t.periodInMinutes!==e&&chrome.alarms.clear("SDA_CHECK_CONFIRMATION",(function(t){t&&chrome.alarms.create("SDA_CHECK_CONFIRMATION",{periodInMinutes:e,delayInMinutes:e})}))})),t.next=43;break;case 40:t.prev=40,t.t2=t.catch(0),"Error: Not found key"!==t.t2.message&&t.t2;case 43:case"end":return t.stop()}}),t,null,[[0,40],[19,31,34,37]])})))),qS(this,"getHistory",function(){var t=GS(BS().mark((function t(e){var r;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new mw("SIH_SDA","history",TE),t.next=4,r.openDB();case 4:return t.next=6,r.get(e);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(0),"Not found key"!==t.t0.message){t.next=15;break}return t.abrupt("return",[]);case 15:throw Error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),qS(this,"setInHistory",function(){var t=GS(BS().mark((function t(e,r,n,o){var i,a,s,c;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new mw("SIH_SDA","history",TE),t.next=3,i.openDB();case 3:return a=50,s=o.map((function(t){return{headline:t.headline,creation_time:t.creation_time,icon:t.icon,complete_time:r,type:t.type,status:n}})),t.prev=5,t.next=8,i.get(e);case 8:return(c=t.sent).unshift.apply(c,DS(s)),c.length>a&&c.splice(a),t.next=13,i.update([{key:e,value:c}]);case 13:case 21:t.next=24;break;case 15:if(t.prev=15,t.t0=t.catch(5),"Not found key"!==t.t0.message){t.next=23;break}return s.length>a&&s.splice(a),t.next=21,i.update([{key:e,value:s}]);case 23:throw Error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e,r,n,o){return t.apply(this,arguments)}}())}));PS=KS,qS(KS,"urlFilter","https://steamcommunity.com/mobileconf/*"),qS(KS,"generateConfirmationURL",function(){var t=GS(BS().mark((function t(e){var r,n,o,i,a,s,c;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tag,n=void 0===r?"conf":r,o=e.deviceID,i=e.steamID,a=e.time,s=e.identitySecret,t.t0=URLSearchParams,t.t1=o,t.t2=i,t.next=6,Iw.generateConfirmationKey(s,a,n);case 6:return t.t3=t.sent,t.t4=a,t.t5=n,t.t6={p:t.t1,a:t.t2,k:t.t3,t:t.t4,m:"react",tag:t.t5},c=new t.t0(t.t6),t.abrupt("return",c.toString());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),qS(KS,"updateHeadersMobileConf",function(){var t=GS(BS().mark((function t(e,r){var n;return BS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(PS.urlFilter);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:"sessionid=".concat(NS.generateSessionID(),"; steamLoginSecure=").concat(NS.getSteamLoginSecure(e,r),"; mobileClient=android; mobileClientVersion=777777 3.6.1;")},{header:"Origin",operation:"set",value:"https://steamcommunity.com"},{header:"Referer",operation:"set",value:"https://steamcommunity.com"},{header:"user-agent",operation:"set",value:"okhttp/3.12.12"},{header:"accept-language",operation:"set",value:"en-US"}]},t.t2={urlFilter:PS.urlFilter},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const YS=new KS;function WS(t){return WS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WS(t)}function zS(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$S(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function XS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||$S(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $S(t,e){if(t){if("string"==typeof t)return JS(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JS(t,e):void 0}}function JS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function QS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */QS=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==WS(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(WS(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ZS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function t_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ZS(Object(r),!0).forEach((function(e){e_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function e_(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=WS(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=WS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function n_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){r_(i,n,o,a,s,"next",t)}function s(t){r_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var o_="core.sih.app";const i_={msg:{addAuthenticator:{code:"BACKGROUND_ADD_AUTHENTICATOR",handler:function(){var t=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.SteamID,o=e.AccessToken,t.prev=1,i="android:"+crypto.randomUUID(),a=NE(),t.next=6,ES.registerMobileDevice({AccessToken:o,deviceId:i,deviceModel:a});case 6:return t.next=8,ES.addAuthenticator({AccessToken:o,SteamID:n,deviceId:i});case 8:s=t.sent,c=s.response,u={response:c,deviceId:i},LE.authorization=t_(t_({},LE.authorization),{},{time:Date.now(),step_3:u}),r(u),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),t.t0,r(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},finalizeTwoFactor:{code:"BACKGROUND_FINALIZE_TWO_FACTOR",handler:function(){var t=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u,l,h;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.activationCode,o=e.mafile,i=e.passKey,t.prev=1,a={accessToken:o.Session.AccessToken,secret:o.shared_secret,steamId:o.Session.SteamID,activationCode:n},t.next=5,ES.finalizeAddAuthenticator(a);case 5:if(!(s=t.sent).response.success){t.next=16;break}return t.next=9,ES.insertMafileInDB(o,i,!0);case 9:return c=t.sent,u=c.salt,l=c.iv,h={encryption_iv:l,encryption_salt:u,filename:"".concat(o.Session.SteamID,".maFile"),steamid:o.Session.SteamID},t.next=15,ES.updateManifestInDB(h,!0);case 15:LE.authorization={};case 16:r(s.response),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamDetailAccount:{code:"BACKGROUND_GET_STEAM_DETAILS",handler:function(){var t=n_(QS().mark((function t(e){var r,n,o;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"GET",url:"https://api.steampowered.com/ITwoFactorService/QueryStatus/v1"});case 3:r=t.sent,(n={}).canTrade=!0,o=r.is_twofactor_enabled&&r.timestamp_twofactor_enabled&&Math.floor(Date.now()/1e3)-r.timestamp_twofactor_enabled>=604800,r.is_steamguard_enabled?!r.timestamp_steamguard_enabled||Math.floor(Date.now()/1e3)-r.timestamp_steamguard_enabled<1296e3?n.canTrade=!1:o||r.session_data&&r.session_data[0]&&r.session_data[0].timestamp_machine_steamguard_enabled&&!(Math.floor(Date.now()/1e3)-r.session_data[0].timestamp_machine_steamguard_enabled<604800)||(n.canTrade=!1):n.canTrade=!1,n.isSteamGuardEnabled=!!r.is_steamguard_enabled,n.timestampSteamGuardEnabled=r.timestamp_steamguard_enabled?new Date(1e3*r.timestamp_steamguard_enabled):null,n.timestampMachineSteamGuardEnabled=r.session_data&&r.session_data[0]&&r.session_data[0].timestamp_machine_steamguard_enabled?new Date(1e3*r.session_data[0].timestamp_machine_steamguard_enabled):null,n.isTwoFactorEnabled=!!r.is_twofactor_enabled,n.timestampTwoFactorEnabled=r.timestamp_twofactor_enabled?new Date(1e3*r.timestamp_twofactor_enabled):null,n.isPhoneVerified=!!r.is_phone_verified,e(n),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),t.t0,e(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},importAccount:{code:"BACKGROUND_SDA_IMPORT_ACCOUNT",handler:function(){var t=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.importAccount(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r({success:!1,message:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()},startSessionWithCredentials:{code:"BACKGROUND_START_SESSION_WITH_CREDENTIALS",handler:function(){var t=n_(QS().mark((function t(e,r){var n,o;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.startSessionWithCredentials(e);case 3:n=t.sent,(o=n.allowed_confirmations)&&o.length&&(o.find((function(t){return t.confirmation_type===_E||t.confirmation_type===AE}))||(LE.authorization={time:Date.now(),step_1:n})),r(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0,r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},submitSteamGuardCode:{code:"BACKGROUND_SUBMIT_STEAM_GUARD_CODE",handler:function(){var t=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.updateAuthSessionWithSteamGuardCode(e);case 3:r(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()},pollLoginStatus:{code:"BACKGROUND_POLL_LOGIN_STATUS",handler:function(){var t=n_(QS().mark((function t(e,r){var n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.pollLoginStatus(e);case 3:(n=t.sent).refresh_token&&n.access_token&&(LE.authorization=t_(t_({},LE.authorization),{},{time:Date.now(),step_2:n})),r(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0,r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getSDAAccounts:{code:"BACKGROUND_GET_SDA_ACCOUNTS",handler:function(){var t=n_(QS().mark((function t(e,r){var n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.getSDAAccounts(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamTotp:{code:"BACKGROUND_GET_STEAM_TOTP",handler:function(){var t=n_(QS().mark((function t(e,r){var n,o,i;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.secret,o=e.offset,t.prev=1,t.next=4,Iw.generateAuthCode(n,o);case 4:i=t.sent,r(i),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getSteamTimeOffset:{code:"BACKGROUND_GET_STEAM_TIME_OFFSET",handler:function(){var t=n_(QS().mark((function t(e){var r,n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Iw.getTimeOffset();case 3:r=t.sent,n=r.offset,e(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0,e(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},removeFromManifest:{code:"BACKGROUND_REMOVE_FROM_MANIFEST",handler:(O_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.removeAccount(e.steamId);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return O_.apply(this,arguments)})},deactivateAuthenticator:{code:"BACKGROUND_DEACTIVATE_AUTHENTICATOR",handler:(I_=n_(QS().mark((function t(e,r){var n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.deactivateAuthenticator(e);case 3:if(!(n=t.sent).success){t.next=8;break}return t.next=7,ES.removeAccount(e.steamId);case 7:r({success:!0});case 8:r(n),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t,e){return I_.apply(this,arguments)})},getSDASettings:{code:"BACKGROUND_GET_SDA_SETTINGS",handler:(k_=n_(QS().mark((function t(e){var r;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.getSDASettings();case 3:r=t.sent,e({success:!0,settings:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return k_.apply(this,arguments)})},updateSDASettings:{code:"BACKGROUND_UPDATE_SDA_SETTINGS",handler:(L_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.updateSDASettings(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return L_.apply(this,arguments)})},setupEncryption:{code:"BACKGROUND_SETUP_ENCRYPTION",handler:(T_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.setupEncryption(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return T_.apply(this,arguments)})},updateEncryption:{code:"BACKGROUND_UPDATE_ENCRYPTION",handler:(A_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.updateEncryption(e);case 3:r({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t,e){return A_.apply(this,arguments)})},isEncryptedMaFiles:{code:"BACKGROUND_IS_ENCRYPTED_MAFILES",handler:(__=n_(QS().mark((function t(e){var r,n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={},n=6e5,t.next=5,ES.isEncryptedMaFiles();case 5:r.isEncrypted=t.sent,0!==Object.keys(LE.passKey).length&&Date.now()-LE.passKey.time<=n&&(r.passKey=LE.passKey.value),e(r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e({isEncrypted:!1}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(t){return __.apply(this,arguments)})},getConfirmations:{code:"BACKGROUND_GET_CONFIRMATIONS",handler:(S_=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u,l;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=(n=e).Session.AccessToken,i=n.Session.RefreshToken,a=n.Session.SteamID,!NS.isTokenExpired(i)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!NS.isTokenExpired(o)){t.next=19;break}return t.prev=10,t.next=13,NS.forceRefreshSession(i,a,LE.passKey.value);case 13:n.Session=t.sent,t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(10),Error(t.t0);case 19:return t.next=21,Iw.getTimeOffset();case 21:return s=t.sent,c=s.offset,u=Iw.time(c),t.next=26,YS.getConfirmationList(n,u);case 26:l=t.sent,r(l),t.next=34;break;case 30:t.prev=30,t.t1=t.catch(0),t.t1,r({success:!1,error:t.t1.message});case 34:case"end":return t.stop()}}),t,null,[[0,30],[10,16]])}))),function(t,e){return S_.apply(this,arguments)})},sendConfirmation:{code:"BACKGROUND_SEND_CONFIRMATIONS",handler:(x_=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.account,o=e.conf,i=e.type,t.prev=1,a=n.Session.AccessToken,s=n.Session.RefreshToken,c=n.Session.SteamID,!NS.isTokenExpired(s)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!NS.isTokenExpired(a)){t.next=19;break}return t.prev=10,t.next=13,NS.forceRefreshSession(s,c,LE.passKey.value);case 13:n.Session=t.sent,t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(10),Error(t.t0);case 19:return t.next=21,Iw.getTimeOffset();case 21:return u=t.sent,l=u.offset,h=Iw.time(l),t.next=26,YS.sendConfirmation(o,i,n,h);case 26:f=t.sent,YS.setInHistory(c,h,i,[o]),r(f),t.next=35;break;case 31:t.prev=31,t.t1=t.catch(1),t.t1,r({success:!1,error:t.t1.message});case 35:case"end":return t.stop()}}),t,null,[[1,31],[10,16]])}))),function(t,e){return x_.apply(this,arguments)})},sendMultiConfirmation:{code:"BACKGROUND_SEND_MULTI_CONFIRMATIONS",handler:(E_=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.account,o=e.confs,i=e.type,t.prev=1,a=n.Session.AccessToken,s=n.Session.RefreshToken,c=n.Session.SteamID,!NS.isTokenExpired(s)){t.next=9;break}throw Error("Expired refreshToken");case 9:if(!NS.isTokenExpired(a)){t.next=19;break}return t.prev=10,t.next=13,NS.forceRefreshSession(s,c,LE.passKey.value);case 13:n.Session=t.sent,t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(10),Error(t.t0);case 19:return t.next=21,Iw.getTimeOffset();case 21:return u=t.sent,l=u.offset,h=Iw.time(l),t.next=26,YS.sendMultiConfirmation(o,i,n,h);case 26:f=t.sent,YS.setInHistory(c,h,i,o),r(f),t.next=35;break;case 31:t.prev=31,t.t1=t.catch(1),t.t1,r({success:!1,error:t.t1.message});case 35:case"end":return t.stop()}}),t,null,[[1,31],[10,16]])}))),function(t,e){return E_.apply(this,arguments)})},forceSessionUpdate:{code:"BACKGROUND_SDA_FORCE_SESSION_UPDATE",handler:(w_=n_(QS().mark((function t(e,r){var n,o,i,a;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.refreshToken,o=e.SteamID,i=e.passkey,t.prev=1,t.next=4,NS.forceRefreshSession(n,o,i);case 4:return t.next=6,ES.getSDAAccounts(i);case 6:a=t.sent,r({success:!0,accounts:a}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r({success:!1}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(t,e){return w_.apply(this,arguments)})},reLoginAccount:{code:"BACKGROUND_RELOGIN_ACCOUNT",handler:(b_=n_(QS().mark((function t(e,r){var n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.reLoginAccount(e);case 3:return t.next=5,ES.getSDAAccounts(e.passKey);case 5:n=t.sent,r({success:!0,accounts:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r({success:!1}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t,e){return b_.apply(this,arguments)})},getTradeInfo:{code:"BACKGROUND_SDA_GET_TRADE_INFO",handler:(g_=n_(QS().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,o=e.offerId,t.prev=1,t.next=4,Ul.getTradeInfoByOfferId(n,o);case 4:return i=t.sent,a=i.offer,s=i.descriptions,t.next=8,y.w.get({sih_app_jwt:{},currency:1});case 8:(c=t.sent).sih_app_jwt,u=c.currency,chrome.runtime.getManifest().version,l=[],h=s.reduce((function(t,e){var r=e.appid,n=e.market_hash_name;return t[r]||(t[r]=new Set),t[r].add(n),t}),{}),f=QS().mark((function t(e){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.push(new Promise(function(){var t=n_(QS().mark((function t(r,n){var o,i;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={appId:e,currency:1,items:Array.from(h[e]),markets:["steamLiveSell"]},t.prev=1,t.next=4,EE.getPrices(o);case 4:i=t.sent,r(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n();case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})),t.t0=QS().keys(h);case 16:if((t.t1=t.t0()).done){t.next=21;break}return p=t.t1.value,t.delegateYield(f(p),"t2",19);case 19:t.next=16;break;case 21:Promise.allSettled(l).then(function(){var t=n_(QS().mark((function t(e){var n,o,c,l,h,f,p,d;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},o=!1,e.forEach((function(t){var e=t.value,r=t.status;if(e&&e.success&&e.items)for(var i=0,a=Object.entries(e.items);i<a.length;i++){var s=XS(a[i],2),c=s[0],u=s[1];u.steamLiveSell&&"number"==typeof u.steamLiveSell.price&&(n[c]=u.steamLiveSell.price)}else"rejected"===r&&(o=!0)})),s.forEach((function(t){n[t.market_hash_name]&&(t.price=n[t.market_hash_name])})),c=a.items_to_give?a.items_to_give.map((function(t){return s.find((function(e){return t.classid===e.classid&&t.instanceid===e.instanceid}))})):[],l=a.items_to_receive?a.items_to_receive.map((function(t){return s.find((function(e){return t.classid===e.classid&&t.instanceid===e.instanceid}))})):[],i.itemsToGive=c,i.itemsToReceive=l,i.needAuth=o,o){t.next=20;break}return t.next=12,PE(c,u);case 12:return h=t.sent,f=h.text,t.next=16,PE(l,u);case 16:p=t.sent,d=p.text,i.priceToGive=f,i.priceToReceive=d;case 20:r(t_({success:!0},i));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){r({success:!1})})),t.next=28;break;case 24:t.prev=24,t.t3=t.catch(1),r({success:!1}),t.t3;case 28:case"end":return t.stop()}}),t,null,[[1,24]])}))),function(t,e){return g_.apply(this,arguments)})},verifyEncryptionKey:{code:"BACKGROUND_VERIFY_ENCRYPTION",handler:(m_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.getSDAAccounts(e);case 3:t.sent.length?(LE.passKey={value:e,time:Date.now()},r({success:!0})):r({success:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return m_.apply(this,arguments)})},getSDAStorage:{code:"BACKGROUND_SDA_STORAGE_GET",handler:(v_=n_(QS().mark((function t(e,r){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r(LE[e])}catch(t){}case 1:case"end":return t.stop()}}),t)}))),function(t,e){return v_.apply(this,arguments)})},setSDAStorage:{code:"BACKGROUND_SDA_STORAGE_SET",handler:(y_=n_(QS().mark((function t(e,r){var n,o;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.key,o=e.value;try{LE[n]=o,r()}catch(t){}case 2:case"end":return t.stop()}}),t)}))),function(t,e){return y_.apply(this,arguments)})},getConfirmationHistory:{code:"BACKGROUND_SDA_GET_HISTORY",handler:(d_=n_(QS().mark((function t(e,r){var n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,YS.getHistory(e);case 3:n=t.sent,r({success:!0,history:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t,e){return d_.apply(this,arguments)})},sdaExportData:{code:"BACKGROUND_SDA_EXPORT_DATA",handler:(p_=n_(QS().mark((function t(e,r){var n,o,i;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamId,t.prev=1,t.next=4,ES.getMaFileFromDB(n);case 4:return o=t.sent,t.next=7,ES.getManifestFromDB();case 7:(i=t.sent).encrypted?r({success:!0,maFile:o,manifest:JSON.stringify(i)}):r({success:!0,maFile:JSON.stringify(o)}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),t.t0,r({success:!1});case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),function(t,e){return p_.apply(this,arguments)})},sdaCheckAuth:{code:"BACKGROUND_SDA_CHECK_AUTH",handler:(f_=n_(QS().mark((function t(e){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.cookies.getAll({domain:o_},function(){var t=n_(QS().mark((function t(r){var n,o,i,a,s,c,u;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",r.forEach((function(t){"sih.login"===t.name&&(n=t.value)})),!n){t.next=42;break}return o="https://core.sih.app/get/token",t.next=6,Sl.generateDynamicRuleId(o);case 6:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:"sih.login=".concat(n)}]},t.t2={urlFilter:o},i={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=12,Sl.setRule(i);case 12:return a="",t.prev=13,t.next=16,Bs.Ay.apiRequest({method:"GET",url:"https://core.sih.app/get/token"});case 16:return s=t.sent,c=s.token,t.next=20,Sl.removeRule(o);case 20:a=c,t.next=28;break;case 23:return t.prev=23,t.t3=t.catch(13),t.next=27,Sl.removeRule(o);case 27:e({success:!1});case 28:return t.prev=28,t.next=31,Bs.Ay.sendRequest({headers:{"x-sih-token":a},method:"GET",url:"https://core.sih.app/sih/user"});case 31:return u=t.sent,t.next=34,y.w.setLocal({sihAppCoreToken:a});case 34:e(t_(t_({},u),{},{token:a})),t.next=40;break;case 37:t.prev=37,t.t4=t.catch(28),e({success:!1});case 40:t.next=43;break;case 42:e({success:!1});case 43:case"end":return t.stop()}}),t,null,[[13,23],[28,37]])})));return function(e){return t.apply(this,arguments)}}())}catch(t){e({success:!1})}case 1:case"end":return t.stop()}}),t)}))),function(t){return f_.apply(this,arguments)})},sdaCheckBackUp:{code:"BACKGROUND_SDA_CHECK_BACKUP",handler:(h_=n_(QS().mark((function t(e){var r,n,o,i,a,s,c,u,l;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,YE.getBackUpList();case 3:if(!(r=t.sent).success){t.next=35;break}if(n=r.backups.find((function(t){return"maFiles"===t.fileName})),o=r.backups.find((function(t){return"manifest"===t.fileName})),n&&o){t.next=10;break}return e({success:!0,message:"No backup"}),t.abrupt("return");case 10:return t.next=12,YE.getBackUp(n.id);case 12:return i=t.sent,t.next=15,YE.getBackUp(o.id);case 15:return a=t.sent,s=[],c={},t.prev=18,t.next=21,ES.getAllMaFiles();case 21:return s=t.sent,t.next=24,ES.getManifestFromDB();case 24:c=t.sent,t.next=30;break;case 27:t.prev=27,t.t0=t.catch(18),t.t0;case 30:u=DE(s,i.content),l=CE(c,a.content),e({success:!0,isEqualMaFiles:u,isEqualManifest:l,createdTime:n.createdAt,maFiles:i.content,manifest:a.content}),t.next=36;break;case 35:e({success:!1});case 36:t.next=42;break;case 38:t.prev=38,t.t1=t.catch(0),t.t1,e({success:!1});case 42:case"end":return t.stop()}}),t,null,[[0,38],[18,27]])}))),function(t){return h_.apply(this,arguments)})},makeBackUp:{code:"BACKGROUND_SDA_MAKE_BACKUP",handler:(l_=n_(QS().mark((function t(e){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,YE.makeBackUp();case 3:e({success:!0}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0,e({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(t){return l_.apply(this,arguments)})},updateLocalByCloud:{code:"BACKGROUND_UPDATE_LOCAL_DB_BY_CLOUD",handler:(u_=n_(QS().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,YE.getBackUpList();case 3:if(!(r=t.sent).success){t.next=46;break}return n=r.backups.find((function(t){return"maFiles"===t.fileName})),o=r.backups.find((function(t){return"manifest"===t.fileName})),t.next=9,YE.getBackUp(n.id);case 9:return i=t.sent,t.next=12,YE.getBackUp(o.id);case 12:return a=t.sent,s=new mw("SIH_SDA","manifest",TE),c=new mw("SIH_SDA","mafiles",TE),t.next=17,s.openDB();case 17:return t.next=19,c.openDB();case 19:return t.next=21,s.clear();case 21:return t.next=23,c.clear();case 23:return t.next=25,s.insert([{key:"v1",value:a.content}]);case 25:u=zS(i.content),t.prev=26,u.s();case 28:if((l=u.n()).done){t.next=34;break}return h=l.value,f=h.key,p=h.value,t.next=32,c.insert([{key:f,value:p}]);case 32:t.next=28;break;case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(26),u.e(t.t0);case 39:return t.prev=39,u.f(),t.finish(39);case 42:LE.clearAll(),e({success:!0}),t.next=47;break;case 46:e({success:!1});case 47:t.next=53;break;case 49:t.prev=49,t.t1=t.catch(0),t.t1,e({success:!1});case 53:case"end":return t.stop()}}),t,null,[[0,49],[26,36,39,42]])}))),function(t){return u_.apply(this,arguments)})},sdaExportAllDB:{code:"BACKGROUND_SDA_EXPORT_ALL_DB",handler:(c_=n_(QS().mark((function t(e){var r,n;return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ES.getAllMaFiles();case 3:return r=t.sent,t.next=6,ES.getManifestFromDB();case 6:n=t.sent,e({success:!0,maFilesLocal:r,manifestLocal:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0,e({success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(t){return c_.apply(this,arguments)})},clearCloudData:{code:"BACKGROUND_SDA_CLEAR_CLOUD_DATA",handler:(s_=n_(QS().mark((function t(e){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,YE.removeBackUp("maFiles");case 3:return t.next=5,YE.removeBackUp("manifest");case 5:e({success:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0,e({success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(t){return s_.apply(this,arguments)})}},alarm:{confirmationChecker:{code:"SDA_CHECK_CONFIRMATION",handler:(a_=n_(QS().mark((function t(){return QS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Us.G4.onLoad();case 3:YS.alarmConfChecker(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return a_.apply(this,arguments)})}}};var a_,s_,c_,u_,l_,h_,f_,p_,d_,y_,v_,m_,g_,b_,w_,E_,x_,S_,__,A_,T_,L_,k_,I_,O_;function N_(t){return N_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N_(t)}function P_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==N_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(N_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function C_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function D_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){C_(i,n,o,a,s,"next",t)}function s(t){C_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var R_=function(){var t=D_(P_().mark((function t(e,r,n){return P_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===i_.msg.addAuthenticator.code?3:t.t0===i_.msg.finalizeTwoFactor.code?6:t.t0===i_.msg.importAccount.code?9:t.t0===i_.msg.startSessionWithCredentials.code?12:t.t0===i_.msg.submitSteamGuardCode.code?15:t.t0===i_.msg.pollLoginStatus.code?18:t.t0===i_.msg.getSDAAccounts.code?21:t.t0===i_.msg.getSteamTotp.code?24:t.t0===i_.msg.getSteamTimeOffset.code?27:t.t0===i_.msg.removeFromManifest.code?30:t.t0===i_.msg.deactivateAuthenticator.code?33:t.t0===i_.msg.getSDASettings.code?36:t.t0===i_.msg.updateSDASettings.code?39:t.t0===i_.msg.setupEncryption.code?42:t.t0===i_.msg.updateEncryption.code?45:t.t0===i_.msg.isEncryptedMaFiles.code?48:t.t0===i_.msg.getConfirmations.code?51:t.t0===i_.msg.sendConfirmation.code?54:t.t0===i_.msg.sendMultiConfirmation.code?57:t.t0===i_.msg.forceSessionUpdate.code?60:t.t0===i_.msg.reLoginAccount.code?63:t.t0===i_.msg.getTradeInfo.code?66:t.t0===i_.msg.verifyEncryptionKey.code?69:t.t0===i_.msg.getSDAStorage.code?72:t.t0===i_.msg.setSDAStorage.code?75:t.t0===i_.msg.getConfirmationHistory.code?78:t.t0===i_.msg.sdaExportData.code?81:t.t0===i_.msg.sdaCheckAuth.code?84:t.t0===i_.msg.sdaCheckBackUp.code?87:t.t0===i_.msg.makeBackUp.code?90:t.t0===i_.msg.updateLocalByCloud.code?93:t.t0===i_.msg.sdaExportAllDB.code?96:t.t0===i_.msg.clearCloudData.code?99:102;break;case 3:return t.next=5,i_.msg.addAuthenticator.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:case 41:case 44:case 47:case 50:case 53:case 56:case 59:case 62:case 65:case 68:case 71:case 74:case 77:case 80:case 83:case 86:case 89:case 92:case 95:case 98:case 101:return t.abrupt("break",102);case 6:return t.next=8,i_.msg.finalizeTwoFactor.handler(e.data,n);case 9:return t.next=11,i_.msg.importAccount.handler(e.data,n);case 12:return t.next=14,i_.msg.startSessionWithCredentials.handler(e.data,n);case 15:return t.next=17,i_.msg.submitSteamGuardCode.handler(e.data,n);case 18:return t.next=20,i_.msg.pollLoginStatus.handler(e.data,n);case 21:return t.next=23,i_.msg.getSDAAccounts.handler(e.data,n);case 24:return t.next=26,i_.msg.getSteamTotp.handler(e.data,n);case 27:return t.next=29,i_.msg.getSteamTimeOffset.handler(n);case 30:return t.next=32,i_.msg.removeFromManifest.handler(e.data,n);case 33:return t.next=35,i_.msg.deactivateAuthenticator.handler(e.data,n);case 36:return t.next=38,i_.msg.getSDASettings.handler(n);case 39:return t.next=41,i_.msg.updateSDASettings.handler(e.data,n);case 42:return t.next=44,i_.msg.setupEncryption.handler(e.data,n);case 45:return t.next=47,i_.msg.updateEncryption.handler(e.data,n);case 48:return t.next=50,i_.msg.isEncryptedMaFiles.handler(n);case 51:return t.next=53,i_.msg.getConfirmations.handler(e.data,n);case 54:return t.next=56,i_.msg.sendConfirmation.handler(e.data,n);case 57:return t.next=59,i_.msg.sendMultiConfirmation.handler(e.data,n);case 60:return t.next=62,i_.msg.forceSessionUpdate.handler(e.data,n);case 63:return t.next=65,i_.msg.reLoginAccount.handler(e.data,n);case 66:return t.next=68,i_.msg.getTradeInfo.handler(e.data,n);case 69:return t.next=71,i_.msg.verifyEncryptionKey.handler(e.data,n);case 72:return t.next=74,i_.msg.getSDAStorage.handler(e.data,n);case 75:return t.next=77,i_.msg.setSDAStorage.handler(e.data,n);case 78:return t.next=80,i_.msg.getConfirmationHistory.handler(e.data,n);case 81:return t.next=83,i_.msg.sdaExportData.handler(e.data,n);case 84:return t.next=86,i_.msg.sdaCheckAuth.handler(n);case 87:return t.next=89,i_.msg.sdaCheckBackUp.handler(n);case 90:return t.next=92,i_.msg.makeBackUp.handler(n);case 93:return t.next=95,i_.msg.updateLocalByCloud.handler(n);case 96:return t.next=98,i_.msg.sdaExportAllDB.handler(n);case 99:return t.next=101,i_.msg.clearCloudData.handler(n);case 102:return t.abrupt("return",!0);case 103:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),F_=function(t){if(t.name===i_.alarm.confirmationChecker.code)i_.alarm.confirmationChecker.handler()},j_=function(){chrome.alarms.create(i_.alarm.confirmationChecker.code,{delayInMinutes:1,periodInMinutes:1})};const B_={msgListener:{listener:{handler:R_},init:{handler:function(){var t=D_(P_().mark((function t(){return P_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(R_),chrome.runtime.onMessageExternal.addListener(R_);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},alarmListener:{createAlarms:{handler:j_},listener:{handler:F_},init:{handler:function(){j_(),chrome.alarms.onAlarm.addListener(F_)}}}};const M_={handler:function(){try{B_.msgListener.init.handler(),B_.alarmListener.init.handler()}catch(t){}}};function G_(t){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G_(t)}function U_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */U_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==G_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(G_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function H_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var q_=function(){var t,e=(t=U_().mark((function t(e,r,n){return U_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===dy.msg.getUserSihApp.code?3:t.t0===dy.msg.getUserProfileInfo.code?6:t.t0===dy.msg.setEmail.code?9:t.t0===dy.msg.deleteEmail.code?12:t.t0===dy.msg.enterPassword.code?15:t.t0===dy.msg.updateTradeLink.code?18:t.t0===dy.msg.getSihAppLog.code?21:t.t0===dy.msg.readSihAppLog.code?24:t.t0===dy.msg.getAutoLoadFloats.code?27:t.t0===dy.msg.pingSihApp.code?30:33;break;case 3:return t.next=5,dy.msg.getUserSihApp.handler(n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 33:return t.abrupt("break",34);case 6:return t.next=8,dy.msg.getUserProfileInfo.handler(n);case 9:return t.next=11,dy.msg.setEmail.handler(e.data,n);case 12:return t.next=14,dy.msg.deleteEmail.handler(n);case 15:return t.next=17,dy.msg.enterPassword.handler(e.data,n);case 18:return t.next=20,dy.msg.updateTradeLink.handler(e.data,n);case 21:return t.next=23,dy.msg.getSihAppLog.handler(n);case 24:return t.next=26,dy.msg.readSihAppLog.handler(n);case 27:return t.next=29,dy.msg.getAutoLoadFloats.handler(n);case 30:return t.next=32,dy.msg.pingSihApp.handler(n);case 34:return t.abrupt("return",!0);case 35:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){H_(i,n,o,a,s,"next",t)}function s(t){H_(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const V_={listener:{handler:q_},init:{handler:function(){chrome.runtime.onMessage.addListener(q_),chrome.runtime.onMessageExternal.addListener(q_)}}};function K_(t){return K_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(t)}function Y_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Y_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==K_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(K_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function W_(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=K_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z_(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function X_(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){z_(i,n,o,a,s,"next",t)}function s(t){z_(i,n,o,a,s,"throw",t)}a(void 0)}))}}var $_,J_=function(){var t=X_(Y_().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:if(e=t.sent,e.userInfo.authorization){t.next=8;break}return t.next=8,ic.updateDataStorageLog({success:!1,error:"Not found steam account"});case 8:return t.next=10,y.w.get({sih_app_market_toggle:!1});case 10:if(r=t.sent,r.sih_app_market_toggle){t.next=15;break}return t.next=15,om.updateState(!0);case 15:return t.next=17,Sc.findLastItemByDateOrderInStackBuy();case 17:if(n=t.sent,o=n.itemData,i=n.key,!o||!i){t.next=80;break}return a=W_({},i,[{createdAt:o.createdAt,statusCode:o.statusCode}]),t.next=24,ic.getUserAuth();case 24:return t.next=26,y.w.getLocal("sihAppUserProfile");case 26:if(s=t.sent,!(c=s.sihAppUserProfile).success||c.tfaNeed){t.next=78;break}return t.next=31,Sc.startCreatingPurchaseRequest(o,i);case 31:return t.next=33,y.w.getLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 33:if(u=t.sent,!((l=u.CURRENT_COUNT_BUY_ITERATION_ITEM)<10)){t.next=70;break}return l++,t.next=39,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:l});case 39:if(!(c.user.balance/1e3>=o.price&&o.createdAt!==$_)){t.next=64;break}return $_=o.createdAt,t.next=43,Sc.buyItem(o);case 43:if(!(h=t.sent).success){t.next=53;break}return t.next=47,Sc.deleteItemFromStackBuy(i,o.createdAt);case 47:return t.sent,t.next=50,Sc.getOrders();case 50:setTimeout(X_(Y_().mark((function t(){return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J_();case 2:case"end":return t.stop()}}),t)}))),5500),t.next=62;break;case 53:return t.next=55,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 55:return t.next=57,Sc.changeStatusItemInStackBuy(a);case 57:return t.sent,h.freshPrice&&setTimeout(X_(Y_().mark((function t(){return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J_();case 2:case"end":return t.stop()}}),t)}))),5500),Object.assign(h,{itemData:o}),t.next=62,ic.updateDataStorageLog(h);case 62:t.next=68;break;case 64:if(f=+Math.abs(c.user.balance/1e3-o.price).toFixed(2),1!==l){t.next=68;break}return t.next=68,ic.updateDataStorageLog({success:!1,error:"Not enough balance",needToAdd:f,itemData:o});case 68:t.next=76;break;case 70:return t.next=72,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 72:return t.next=74,Sc.changeStatusItemInStackBuy(a);case 74:return t.next=76,ic.updateDataStorageLog({success:!1,error:"Time for refills is up",itemData:o});case 76:t.next=80;break;case 78:return t.next=80,ic.updateDataStorageLog({success:!1,error:"2FA is enabled for this account"});case 80:t.next=85;break;case 82:t.prev=82,t.t0=t.catch(0),t.t0;case 85:case"end":return t.stop()}}),t,null,[[0,82]])})));return function(){return t.apply(this,arguments)}}();const Q_={msg:{getLinkForInvoice:{code:Os.A.msg.BACKGROUND_CREATE_INVOICE,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return n=t.sent,(o=n.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,authorization:!1}),t.next=8,Sc.createInvoice(e.amount,e.method);case 8:i=t.sent,r(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},buyItem:{code:Os.A.msg.BACKGROUND_BUY_ITEM_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return n=t.sent,(o=n.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,authorization:!1}),t.next=8,Sc.buyItem(e);case 8:i=t.sent,r(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},cancelOrder:{code:Os.A.msg.BACKGROUND_CANCEL_ORDER_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i,a;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.orderId,t.prev=1,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:return o=t.sent,(i=o.sihAppUserProfile)&&0!==Object.keys(i).length||r({success:!1,authorization:!1}),t.next=9,Sc.cancelOrder(n);case 9:a=t.sent,r(a),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemOrderLocal:{code:Os.A.msg.BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i,a;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.orderId,t.prev=1,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:return o=t.sent,(i=o.sihAppUserProfile)&&0!==Object.keys(i).length||r({success:!1,authorization:!1}),t.next=9,Sc.updateItemOrderLocal(n);case 9:a=t.sent,r(a),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()},setToStack:{code:Os.A.msg.BACKGROUND_SET_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.setItemToStackBuy(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteFromStack:{code:Os.A.msg.BACKGROUND_DELETE_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.hashName,o=e.createdAt,t.prev=1,t.next=4,Sc.deleteItemFromStackBuy(n,o);case 4:i=t.sent,r(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteLastFromStack:{code:Os.A.msg.BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i,a,s;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.hashName,o=e.statusCode,i=e.countDelete,a=e.itemId,t.prev=1,t.next=4,Sc.deleteItemsFromBuyStackByCreatedAt(n,o,i,a);case 4:s=t.sent,r(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getItemArrayByHashName:{code:Os.A.msg.BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.hashName,t.prev=1,!n){t.next=9;break}return t.next=5,Sc.getItemArrayFromStackByName(n);case 5:o=t.sent,r(o),t.next=10;break;case 9:r({success:!1,error:"Invalid name"});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()},getAllItemArray:{code:Os.A.msg.BACKGROUND_GET_ALL_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e){var r;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getAllStackBuy();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},changeItemStatus:{code:Os.A.msg.BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return n=t.sent,(o=n.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,error:"Not found profile sih app"}),e&&Object.keys(e).length||r({success:!1,error:"Invalid data"}),t.next=9,Sc.changeStatusItemInStackBuy(e);case 9:i=t.sent,r(i),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemsPriceInBuyStack:{code:Os.A.msg.BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.items){t.next=6;break}return t.next=4,Sc.updateAllPricesInAllStackBuy(e.items);case 4:n=t.sent,r(n);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getOrdersHistory:{code:Os.A.msg.BACKGROUND_GET_ORDERS_HISTORY_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i,a,s,c;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.isLocal,o=e.page,i=e.number,t.prev=1,t.next=4,y.w.getLocal("sihAppUserProfile");case 4:return a=t.sent,(s=a.sihAppUserProfile)&&0!==Object.keys(s).length||r({success:!1,authorization:!1}),t.next=9,Sc.getOrders(n,o,i);case 9:c=t.sent,r(c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()},updateItemCheckbox:{code:Os.A.msg.BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e,r){var n,o,i;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return n=t.sent,(o=n.sihAppUserProfile)&&0!==Object.keys(o).length||r({success:!1,authorization:!1}),t.next=8,Sc.updateItemsCheckbox(e);case 8:i=t.sent,r(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},setDefaultCountBuyIteration:{code:Os.A.msg.BACKGROUND_SET_DEFAULT_BUY_COUNT,handler:function(){var t=X_(Y_().mark((function t(e){var r,n;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:if(r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length||e({success:!1,authorization:!1}),!n.success||n.tfaNeed){t.next=10;break}return t.next=9,y.w.setLocal({CURRENT_COUNT_BUY_ITERATION_ITEM:0});case 9:e({success:!0});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getTopSales:{code:Os.A.msg.BACKGROUND_GET_TOP_SALES,handler:function(){var t=X_(Y_().mark((function t(e,r){var n;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sc.getTopSales(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},createBuyOrder:{code:Os.A.msg.BACKGROUND_CREATE_BUY_ORDER_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(e){var r,n;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:return r=t.sent,(n=r.sihAppUserProfile)&&0!==Object.keys(n).length||e({success:!1,authorization:!1}),t.next=8,J_();case 8:e({success:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{createBuyOrder:{code:Os.A.alarm.BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(){return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J_();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},updateOrdersHistory:{code:Os.A.alarm.BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP,handler:function(){var t=X_(Y_().mark((function t(){var e,r,n,o,i,a,s,c;return Y_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:return e=t.sent,r=e.userInfo,t.next=7,y.w.getLocal("sihAppUserProfile");case 7:return n=t.sent,o=n.sihAppUserProfile,t.next=11,y.w.getLocal({sihAppOrdersHistory:{}});case 11:if(i=t.sent,a=i.sihAppOrdersHistory,r.authorization){t.next=15;break}return t.abrupt("return",{success:!1,error:"Not found steam account"});case 15:if(o&&0!==Object.keys(o).length){t.next=17;break}return t.abrupt("return",{success:!1,error:"Not found profile sih app"});case 17:if(Object.keys(a).length){t.next=19;break}return t.abrupt("return",{success:!1,error:"Empty history list"});case 19:if(!a.success||a.tfaNeed){t.next=30;break}if(!a.orders.data.length){t.next=28;break}if(s=["new","created","processing","sent"],c=!1,a.orders.data.forEach((function(t){s.includes(t.status)&&(c=!0)})),!c){t.next=28;break}return t.next=27,Sc.getOrders();case 27:return t.abrupt("return",t.sent);case 28:t.next=31;break;case 30:return t.abrupt("return",{success:!1,error:"2FA is enabled for this account"});case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),t.t0;case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}()}}};function Z_(t){return Z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z_(t)}function tA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Z_(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Z_(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function eA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var rA=function(){var t,e=(t=tA().mark((function t(e,r,n){return tA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Q_.msg.getLinkForInvoice.code?3:t.t0===Q_.msg.buyItem.code?6:t.t0===Q_.msg.cancelOrder.code?9:t.t0===Q_.msg.updateItemOrderLocal.code?12:t.t0===Q_.msg.setToStack.code?15:t.t0===Q_.msg.getItemArrayByHashName.code?18:t.t0===Q_.msg.getAllItemArray.code?21:t.t0===Q_.msg.deleteFromStack.code?24:t.t0===Q_.msg.deleteLastFromStack.code?27:t.t0===Q_.msg.changeItemStatus.code?30:t.t0===Q_.msg.updateItemsPriceInBuyStack.code?33:t.t0===Q_.msg.getOrdersHistory.code?36:t.t0===Q_.msg.getTopSales.code?39:t.t0===Q_.msg.updateItemCheckbox.code?42:t.t0===Q_.msg.setDefaultCountBuyIteration.code?45:t.t0===Q_.msg.createBuyOrder.code?48:51;break;case 3:return t.next=5,Q_.msg.getLinkForInvoice.handler(e.data,n);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:case 41:case 44:case 47:case 50:case 51:return t.abrupt("break",52);case 6:return t.next=8,Q_.msg.buyItem.handler(e.data,n);case 9:return t.next=11,Q_.msg.cancelOrder.handler(e.data,n);case 12:return t.next=14,Q_.msg.updateItemOrderLocal.handler(e.data,n);case 15:return t.next=17,Q_.msg.setToStack.handler(e.data,n);case 18:return t.next=20,Q_.msg.getItemArrayByHashName.handler(e.data,n);case 21:return t.next=23,Q_.msg.getAllItemArray.handler(n);case 24:return t.next=26,Q_.msg.deleteFromStack.handler(e.data,n);case 27:return t.next=29,Q_.msg.deleteLastFromStack.handler(e.data,n);case 30:return t.next=32,Q_.msg.changeItemStatus.handler(e.data,n);case 33:return t.next=35,Q_.msg.updateItemsPriceInBuyStack.handler(e.data,n);case 36:return t.next=38,Q_.msg.getOrdersHistory.handler(e.data,n);case 39:return t.next=41,Q_.msg.getTopSales.handler(e.data,n);case 42:return t.next=44,Q_.msg.updateItemCheckbox.handler(e.data,n);case 45:return t.next=47,Q_.msg.setDefaultCountBuyIteration.handler(n);case 48:return t.next=50,Q_.msg.createBuyOrder.handler(n);case 52:return t.abrupt("return",!0);case 53:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){eA(i,n,o,a,s,"next",t)}function s(t){eA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const nA={listener:{handler:rA},init:{handler:function(){chrome.runtime.onMessage.addListener(rA),chrome.runtime.onMessageExternal.addListener(rA)}}};function oA(t){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oA(t)}function iA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */iA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==oA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(oA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function aA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function sA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){aA(i,n,o,a,s,"next",t)}function s(t){aA(i,n,o,a,s,"throw",t)}a(void 0)}))}}function cA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hA(n.key),n)}}function uA(t,e,r){return e&&cA(t.prototype,e),r&&cA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lA(t,e,r){return(e=hA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hA(t){var e=function(t,e){if("object"!=oA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oA(e)?e:e+""}const fA=new(uA((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lA(this,"getLinkForSubscribe",function(){var t=sA(iA().mark((function t(r){var n,o,i,a,s,c;return iA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return n=t.sent,o=n.sih_app_token,t.next=7,y.w.getLocal("sihAppUserProfile");case 7:return i=t.sent,a=i.sihAppUserProfile,t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":o},method:"POST",url:"".concat(e.sihAppUrl,"/sih/balance/subscribe/").concat(r),data:{plan_id:r},crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:if(!(s=t.sent).success){t.next=16;break}return t.abrupt("return",{success:!0,url:s.url,email:null!==a.user.email?a.user.email:null});case 16:return t.abrupt("return",{success:!1});case 17:t.next=26;break;case 19:return t.prev=19,t.t0=t.catch(0),t.t0,c=Error(),t.next=25,e.errorHandler(t.t0.message||t.t0.responseText,c.stack,"getLinkForSubscribe");case 25:return t.abrupt("return",JSON.parse(t.t0.message));case 26:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()),lA(this,"getPaymentMethodsAndPlans",sA(iA().mark((function t(){var r,n,o;return iA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:return r=t.sent,n=r.sih_app_token,t.next=7,Bs.Ay.sendRequest({headers:{"x-sih-token":n},method:"GET",url:"".concat(e.sihAppUrl,"/sih/invoice"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),t.t0,o=Error(),t.next=16,e.errorHandler(t.t0.message||t.t0.responseText,o.stack,"getPaymentMethodsAndPlans");case 16:return t.abrupt("return",JSON.parse(t.t0.message)||JSON.parse(t.t0.responseText));case 17:case"end":return t.stop()}}),t,null,[[0,10]])})))),this.sihAppUrl=ic.sihAppUrl,this.errorHandler=ic.errorHandler})));function pA(t){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pA(t)}function dA(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return yA(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function yA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function gA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mA(i,n,o,a,s,"next",t)}function s(t){mA(i,n,o,a,s,"throw",t)}a(void 0)}))}}var bA=function(){var t=gA(vA().mark((function t(){var e,r,n;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:if(e=t.sent,!(r=e.sihAppUserProfile)||r.tfaNeed){t.next=18;break}return t.next=8,fA.getPaymentMethodsAndPlans();case 8:if(n=t.sent){t.next=11;break}return t.abrupt("return",[]);case 11:if(!n.plans){t.next=14;break}return t.next=14,y.w.setLocal({subscribeAdsPlans:n.plans["SIH without ads"].plans||[]});case 14:if(!n.methods){t.next=17;break}return t.next=17,y.w.setLocal({subscribeAdsMethods:n.methods||[]});case 17:return t.abrupt("return",{subscribeAdsPlans:n.plans["SIH without ads"].plans||[],subscribeAdsMethods:n.methods});case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),t.t0;case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}();const wA={msg:{getLinkForSubscribe:{code:Os.A.msg.BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE,handler:function(){var t=gA(vA().mark((function t(e,r){var n,o,i;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:if(n=t.sent,(o=n.sihAppUserProfile)||r({success:!1,authorization:!1}),!o.success||!o.tfaNeed){t.next=10;break}r({success:!1,error:"Enter password"}),t.next=14;break;case 10:return t.next=12,fA.getLinkForSubscribe(e.id);case 12:i=t.sent,r(i);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()},checkSubscribeForBlockAds:{code:Os.A.msg.BACKGROUND_CHECK_SUBSCRIBE_ADS,handler:function(){var t=gA(vA().mark((function t(e){var r,n,o,i;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("sihAppUserProfile");case 3:if(r=t.sent,n=r.sihAppUserProfile)if(n.subscribes&&n.subscribes.length>0){o=dA(n.subscribes);try{for(o.s();!(i=o.n()).done;)"adfree"===i.value.for_what?e({success:!0}):e({success:!1})}catch(t){o.e(t)}finally{o.f()}}else e({success:!1});else e({success:!1});t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getSubscribeAdsPlans:{code:Os.A.msg.BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP,handler:function(){var t=gA(vA().mark((function t(e){var r,n,o,i;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("subscribeAdsPlans");case 3:if(r=t.sent,n=r.subscribeAdsPlans){t.next=13;break}return t.next=8,bA();case 8:o=t.sent,i=o.subscribeAdsPlans,e(i),t.next=14;break;case 13:e(n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},getSubscribeAdsMethods:{code:Os.A.msg.BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP,handler:function(){var t=gA(vA().mark((function t(e){var r,n,o,i;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("subscribeAdsMethods");case 3:if(r=t.sent,n=r.subscribeAdsMethods){t.next=13;break}return t.next=8,bA();case 8:o=t.sent,i=o.subscribeAdsMethods,e(i),t.next=14;break;case 13:e(n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}},alarm:{updateSubscribeAdsPlansAndMethods:{code:Os.A.alarm.UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS,handler:function(){var t=gA(vA().mark((function t(){return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bA();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};function EA(t){return EA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EA(t)}function xA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==EA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(EA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function SA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var _A=function(){var t,e=(t=xA().mark((function t(e,r,n){return xA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===wA.msg.getLinkForSubscribe.code?3:t.t0===wA.msg.checkSubscribeForBlockAds.code?6:t.t0===wA.msg.getSubscribeAdsPlans.code?9:t.t0===wA.msg.getSubscribeAdsMethods.code?12:15;break;case 3:return t.next=5,wA.msg.getLinkForSubscribe.handler(e.data,n);case 5:case 8:case 11:case 14:case 15:return t.abrupt("break",16);case 6:return t.next=8,wA.msg.checkSubscribeForBlockAds.handler(n);case 9:return t.next=11,wA.msg.getSubscribeAdsPlans.handler(n);case 12:return t.next=14,wA.msg.getSubscribeAdsMethods.handler(n);case 16:return t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){SA(i,n,o,a,s,"next",t)}function s(t){SA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const AA={listener:{handler:_A},init:{handler:function(){chrome.runtime.onMessage.addListener(_A),chrome.runtime.onMessageExternal.addListener(_A)}}};const TA={handler:function(){try{V_.init.handler(),AA.init.handler(),nA.init.handler()}catch(t){}}};function LA(t){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LA(t)}function kA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==LA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(LA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function IA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const OA={get:{code:Os.A.msg.BACKGROUND_GET_SIH_PRICES,handler:function(){var t,e=(t=kA().mark((function t(e,r){return kA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.j7,"/prices"),data:e});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),t.t2;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){IA(i,n,o,a,s,"next",t)}function s(t){IA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};function NA(t){return NA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NA(t)}function PA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */PA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==NA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(NA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function CA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function DA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){CA(i,n,o,a,s,"next",t)}function s(t){CA(i,n,o,a,s,"throw",t)}a(void 0)}))}}const RA={set:{code:Os.A.msg.BACKGROUND_SET_USER_STEAM_PRICE,handler:function(){var t=DA(PA().mark((function t(e){var r,n,o,i,a,s,c,u,l,h;return PA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({userSteamPrice:{}});case 2:if(r=t.sent.userSteamPrice,n=e.app_id,o=e.hash_name,i=e.prices,a=e.buy_price,s=e.steamSoldData,c=e.orders,u={app_id:n,updatedAt:Date.now(),hash_name:o,prices:i,buy_price:a,sold:s,orders:c},0!==Object.keys(r).length){t.next=13;break}return r.items=[],r.items.push(u),r.steamId=e.steamid,t.next=11,y.w.setLocal({userSteamPrice:r});case 11:t.next=19;break;case 13:for(l=!0,h=0;h<r.items.length;h++)r.items[h].hash_name===e.hash_name&&(l=!1,e.prices.length>1?r.items[h]=u:(r.items[h].updatedAt=Date.now(),r.items[h].prices[0].price=e.prices[0].price));return l&&r.items.push(u),r.steamId=e.steamid,t.next=19,y.w.setLocal({userSteamPrice:r});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},send:{code:Os.A.msg.BACKGROUND_SEND_USER_STEAM_PRICE,handler:function(){var t=DA(PA().mark((function t(){var e,r,n,o,i,a,s;return PA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=1e3,t.next=4,y.w.getLocal({userSteamPrice:{}});case 4:return r=t.sent.userSteamPrice,t.next=7,y.w.getLocal({userSteamPriceDelay:{}});case 7:if(n=t.sent,o=n.userSteamPriceDelay,r&&r.items&&0!==r.items.length&&r.items.length>e&&(r.items=r.items.sort((function(t,e){return e.updatedAt-t.updatedAt})),r.items.length=e),i=0!==Object.keys(o).length?60*+o.delay*1e3:0,!(0!==Object.keys(r).length&&Date.now()-(o.date?o.date:0)>=i)){t.next=23;break}return t.next=14,Bs.Ay.apiRequest({method:"POST",url:"https://items.steaminventoryhelper.com/prices/v2/update",data:r});case 14:return a=t.sent,t.next=17,y.w.setLocal({userSteamPrice:{}});case 17:if(!a.data.delay){t.next=20;break}return t.next=20,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:a.data.delay}});case 20:if(!a.success||a.data.delay){t.next=23;break}return t.next=23,y.w.setLocal({userSteamPriceDelay:{}});case 23:t.next=38;break;case 25:return t.prev=25,t.t0=t.catch(0),t.next=29,y.w.setLocal({userSteamPrice:{}});case 29:if(!t.t0.data||!t.t0.data.delay){t.next=35;break}return s=JSON.parse(t.t0.data.delay),t.next=33,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:s}});case 33:t.next=37;break;case 35:return t.next=37,y.w.setLocal({userSteamPriceDelay:{date:Date.now(),delay:60}});case 37:t.t0;case 38:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(){return t.apply(this,arguments)}}()}};function FA(t){return FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FA(t)}function jA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==FA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(FA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function BA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function MA(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){BA(i,n,o,a,s,"next",t)}function s(t){BA(i,n,o,a,s,"throw",t)}a(void 0)}))}}var GA=function(){var t=MA(jA().mark((function t(e){var r;return jA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get([e]);case 2:return r=t.sent,t.abrupt("return",r[e]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),UA={sendInstall:{code:Os.A.msg.BACKGROUND_REGISTER_SIH_REFERRER,handler:function(){var t=MA(jA().mark((function t(e,r){var n,o;return jA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="function"==typeof r?r:function(){},t.prev=1,o=(Array.isArray(e)?e:[e]).filter((function(t){return!!t})),y.w.setByName({name:Os.A.stats.SIH_REFERRER,value:o}),t.next=6,Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.f5,"/referrer-register/install"),data:{referrers:o}});case 6:n({success:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0,n({success:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},sendDelete:{code:Os.A.msg.BACKGROUND_REGISTER_SIH_REFERRER_DELETE,handler:function(){var t=MA(jA().mark((function t(e){var r,n;return jA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="function"==typeof e?e:function(){},t.prev=1,t.next=4,GA(Os.A.stats.SIH_REFERRER);case 4:return n=t.sent,t.next=7,Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.f5,"/referrer-register/delete"),data:{referrers:n}});case 7:r({success:!0}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0,r({success:!1});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}};const HA=UA;function qA(t){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qA(t)}function VA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */VA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==qA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(qA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function KA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function YA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?KA(Object(r),!0).forEach((function(e){WA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function WA(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=qA(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qA(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var XA={get:{code:Os.A.msg.BACKGROUND_SIH_SETTINGS,handler:function(){var t,e=(t=VA().mark((function t(){var e,r;return VA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.f5,"/sih-settings/all")});case 3:if((e=t.sent)&&e.success&&e.data&&e.data.length){t.next=6;break}return t.abrupt("return");case 6:r=e.data.reduce((function(t,e){var r=e.name,n=e.value;return YA(YA({},t),{},WA({},r,n))}),{}),y.w.set(r),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zA(i,n,o,a,s,"next",t)}function s(t){zA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()}};const $A=XA;function JA(t){return JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JA(t)}function QA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */QA=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==JA(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(JA(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ZA(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const tT={msg:{getAvailableItemPayIds:{code:Os.A.msg.BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS,handler:function(){var t,e=(t=QA().mark((function t(e){var r,n;return QA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({AVAILABLE_ITEM_PAY_IDS:[]});case 3:r=t.sent,n=r.AVAILABLE_ITEM_PAY_IDS,e(Array.isArray(n)?n:[]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ZA(i,n,o,a,s,"next",t)}function s(t){ZA(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()}},alarm:{}};function eT(t){return eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eT(t)}function rT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var oT=function(){var t,e=(t=rT().mark((function t(e,r,n){return rT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===tT.msg.getAvailableItemPayIds.code?3:6;break;case 3:return t.next=5,tT.msg.getAvailableItemPayIds.handler(n);case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nT(i,n,o,a,s,"next",t)}function s(t){nT(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();const iT={listener:{handler:oT},init:{handler:function(){chrome.runtime.onMessage.addListener(oT),chrome.runtime.onMessageExternal.addListener(oT)}}};const aT={handler:function(){try{iT.init.handler()}catch(t){}}};function sT(t){return sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sT(t)}function cT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==sT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(sT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function uT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}const lT={get:{code:Os.A.msg.BACKGROUND_GET_STEAM_BY_SIH_CURRENCY,handler:function(){var t,e=(t=cT().mark((function t(e,r){return cT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.go,"/sih/steam/extprices/currency-list/?appid=").concat(e.appid,"&market=steam")});case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),t.t2;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){uT(i,n,o,a,s,"next",t)}function s(t){uT(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}()}};var hT=r(9708);function fT(t){return fT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fT(t)}function pT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==fT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(fT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function dT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function yT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){dT(i,n,o,a,s,"next",t)}function s(t){dT(i,n,o,a,s,"throw",t)}a(void 0)}))}}var vT=250,mT=new hT.JobsScheduler(vT),gT=new hT.JobsScheduler(vT);mT.start(vT),gT.start(vT);const bT={get:{code:Os.A.msg.BACKGROUND_GET_STEAM_BY_SIH_PRICES,handler:function(){var t=yT(pT().mark((function t(e,r){return pT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({success:!1})}catch(t){r({success:!1})}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},set:{code:Os.A.msg.BACKGROUND_SET_STEAM_PRICE,handler:function(){var t=yT(pT().mark((function t(e,r){var n,o;return pT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.body;try{o=new hT.Job(n,(function(t){var e=t.appid,r=t.currency,n=t.name,o=t.price,i="".concat(Bs.go,"/sih/steam/extprices/?market=steam&appid=").concat(e,"&currency=").concat(r,"&name=").concat(n,"&price=").concat(o);return Bs.Ay.apiRequest({method:"POST",url:i,data:{appid:e,currency:r,name:n,price:o}})}),(function(t){var e=t.success,n=t.suppress;return e?r(t):(n&&gT.pause(n),r({success:!1}))}),(function(t){r({success:!1})})),gT.add(o)}catch(t){r({success:!1})}case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}};var wT=function(t){var e=new Uint8Array(t);crypto.getRandomValues(e);for(var r="",n=0;n<e.length;n+=1)r+=e[n].toString(16);return r};function ET(t){return ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ET(t)}function xT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ET(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ET(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ST(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _T(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ST(i,n,o,a,s,"next",t)}function s(t){ST(i,n,o,a,s,"throw",t)}a(void 0)}))}}var AT=Is(""),TT=Os.A.ALLOW_LAST_STEAM_NUMBERS,LT=function(){var t=_T(xT().mark((function t(e){var r,n,o,i,a;return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=chrome.runtime.getManifest(),n=r.version,t.next=4,y.w.get({sih_app_jwt:{}});case 4:return o=t.sent,i=o.sih_app_jwt,t.next=8,Bs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(i).length?i.token:"","x-sih-version":n},method:"GET",url:"https://floats.steaminventoryhelper.com",data:{p:"1",url:decodeURIComponent(e)}});case 8:return a=t.sent,t.abrupt("return",a);case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();const kT={msg:{updateUserState:{code:Os.A.msg.BACKGROUND_UPDATE_USER_STATE,handler:function(){var t=_T(xT().mark((function t(){var e,r;return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 3:return e=t.sent,(r=e.INVENTORY_PARSING_INFO).isAFK=!1,t.next=8,y.w.setLocal({INVENTORY_PARSING_INFO:r});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()}},alarm:{parseOtherInventory:{code:Os.A.alarm.BACKGROUND_PARSE_OTHER_INVENTORY,handler:function(){var t=_T(xT().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_;return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="https://steamcommunity.com/inventory/*",t.prev=1,t.next=4,y.w.get({user_inventory_parsing:!0});case 4:return r=t.sent,n=r.user_inventory_parsing,t.next=8,y.w.getLocal({userInfo:{}});case 8:if(o=t.sent,i=o.userInfo,a=i&&i.steamId?+i.steamId[i.steamId.length-1]:0,!(i.authorization&&n&&a&&TT.includes(a))){t.next=88;break}return t.next=14,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 14:if(s=t.sent,c=s.INVENTORY_PARSING_INFO,u=c.timer,l=void 0===u?{min:30,max:60}:u,h=Math.round(Math.random()*(l.min-l.max)+l.max),!(Date.now()-c.lastParsingRequest>=6e4*h)){t.next=88;break}return t.next=21,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 21:if(f=t.sent,!(p=f.USER_PARSING_INVENTORY_LIST).length){t.next=88;break}return c.isAFK=!0,t.next=27,y.w.setLocal({INVENTORY_PARSING_INFO:c});case 27:return t.next=29,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(p[0],"/")});case 29:if(d=t.sent,v=Ps.A.Profile.originalProfileUrl(d,["originalProfileUrl"])){t.next=36;break}return p.splice(0,1),t.next=35,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 35:return t.abrupt("return");case 36:if(AT(d).find(".no_header.profile_page").hasClass("private_profile")){t.next=82;break}return t.next=40,Bs.Ay.sendRequest({method:"GET",url:"".concat(v,"inventory/")});case 40:if(m=t.sent,Ps.A.Profile.isAvailableInventory(m,["isAvailableInventory"])){t.next=74;break}return t.next=45,y.w.setLocal({CURRENT_PARSING_USER_URL:v});case 45:return t.next=47,DT(e);case 47:return t.next=49,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/".concat(p[0],"/730/2?l=english&count=2000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 49:return g=t.sent,t.next=52,Sl.removeRule(e);case 52:if(!(g.assets&&g.assets.length&&g.descriptions&&g.descriptions.length)){t.next=66;break}if(!(b=g.assets.reduce((function(t,e){var r=g.descriptions.find((function(t){return e.classid===t.classid&&t.actions&&Bs.Ay.isWeapon(t.tags)}));if(r){var n=r.actions[0].link.replace(/%owner_steamid%/,p[0]).replace(/%assetid%/,e.assetid);t.push(n)}return t}),[]))||!b.length){t.next=58;break}Promise.all(b.map((function(t,e){return new Promise((function(r){setTimeout(_T(xT().mark((function e(){var n;return xT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LT(t);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)}))),Math.floor(25*Math.random()+10)*(e+1))}))}))).then(function(){var t=_T(xT().mark((function t(e){return xT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ic.sendParsingId(p[0]);case 2:return t.sent,p.splice(0,1),t.next=6,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=64;break;case 58:return t.next=60,ic.sendParsingId(p[0]);case 60:return t.sent,p.splice(0,1),t.next=64,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 64:t.next=72;break;case 66:return t.next=68,ic.sendParsingId(p[0]);case 68:return t.sent,p.splice(0,1),t.next=72,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 72:t.next=80;break;case 74:return t.next=76,ic.sendParsingId(p[0]);case 76:return t.sent,p.splice(0,1),t.next=80,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 80:t.next=88;break;case 82:return t.next=84,ic.sendParsingId(p[0]);case 84:return t.sent,p.splice(0,1),t.next=88,y.w.setLocal({USER_PARSING_INVENTORY_LIST:p});case 88:t.next=118;break;case 90:return t.prev=90,t.t0=t.catch(1),w=t.t0.status,t.next=95,Sl.removeRule(e);case 95:if(!w){t.next=117;break}if(!(429===w||w>=500)){t.next=105;break}return t.next=99,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 99:return E=t.sent,(x=E.INVENTORY_PARSING_INFO).lastParsingRequest=Date.now()+288e5,x.isHold=!0,t.next=105,y.w.setLocal({INVENTORY_PARSING_INFO:x});case 105:if(403!==w){t.next=117;break}return t.next=108,y.w.getLocal({USER_PARSING_INVENTORY_LIST:[]});case 108:if(S=t.sent,!(_=S.USER_PARSING_INVENTORY_LIST).length){t.next=117;break}return t.next=113,ic.sendParsingId(_[0]);case 113:return t.sent,_.splice(0,1),t.next=117,y.w.setLocal({USER_PARSING_INVENTORY_LIST:_});case 117:t.t0;case 118:case"end":return t.stop()}}),t,null,[[1,90]])})));return function(){return t.apply(this,arguments)}}()}}};function IT(t){return IT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IT(t)}function OT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */OT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==IT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(IT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function NT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function PT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){NT(i,n,o,a,s,"next",t)}function s(t){NT(i,n,o,a,s,"throw",t)}a(void 0)}))}}var CT={lastParsingRequest:Date.now(),isHold:null},DT=function(){var t=PT(OT().mark((function t(e){var r,n;return OT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.w.getLocal({userInfo:{}}).then(function(){var t=PT(OT().mark((function t(e){var r,n;return OT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal({INVENTORY_PARSING_INFO:{}});case 2:return r=t.sent,(n=r.INVENTORY_PARSING_INFO).lastParsingRequest=Date.now(),n.isHold=!1,t.next=8,y.w.setLocal({INVENTORY_PARSING_INFO:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,y.w.getLocal({CURRENT_PARSING_USER_URL:null});case 3:if(!(r=t.sent.CURRENT_PARSING_USER_URL)){t.next=15;break}return t.next=7,Sl.generateDynamicRuleId(e);case 7:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"".concat(r,"inventory/")},{header:"sec-fetch-site",operation:"set",value:"same-origin"}]},t.t2={urlFilter:e},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=13,Sl.setRule(n);case 13:t.next=16;break;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),RT=function(){var t=PT(OT().mark((function t(e,r,n){return OT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===kT.msg.updateUserState.code?3:6;break;case 3:return t.next=5,kT.msg.updateUserState.handler();case 5:case 6:return t.abrupt("break",7);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),FT=function(){var t=PT(OT().mark((function t(e){return OT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===kT.alarm.parseOtherInventory.code?3:6;break;case 3:return t.next=5,kT.alarm.parseOtherInventory.handler();case 5:return t.abrupt("break",6);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const jT={msgListener:{listener:{handler:RT},init:{handler:function(){chrome.runtime.onMessage.addListener(RT),chrome.runtime.onMessageExternal.addListener(RT)}}},alarmListener:{listener:{handler:FT},init:{handler:function(){var t=PT(OT().mark((function t(){return OT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.setLocal({INVENTORY_PARSING_INFO:CT});case 2:chrome.alarms.create(kT.alarm.parseOtherInventory.code,{delayInMinutes:1.5,periodInMinutes:1.5}),chrome.alarms.onAlarm.addListener(FT);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}};const BT={handler:function(){try{jT.alarmListener.init.handler(),jT.msgListener.init.handler()}catch(t){}}};function MT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */MT=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==HT(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(HT(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function GT(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function UT(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){GT(i,n,o,a,s,"next",t)}function s(t){GT(i,n,o,a,s,"throw",t)}a(void 0)}))}}function HT(t){return HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HT(t)}function qT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YT(n.key),n)}}function VT(t,e,r){return e&&qT(t.prototype,e),r&&qT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KT(t,e,r){return(e=YT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YT(t){var e=function(t,e){if("object"!=HT(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=HT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HT(e)?e:e+""}var WT=function(t,e){var r=[1,100,1e3,1e4],n=t.data.base,o={base:n,rates:{},ts:t.data.ts};for(var i in t.data.rates)if(i!==n){var a=t.data.rates[n]/t.data.rates[i],s=a.toString(),c=0;if("0"===s[0]){c=1;for(var u=2;u<s.length&&"0"===s[u];u++)c++;c>=1&&c<=3?a*=r[c]:c>3&&(a*=r[3])}o.rates[i]={count:c<3?r[c]:r[3],number:a}}else o.rates[i]={count:1,number:t.data.rates[n]};e(o)},zT=VT((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));KT(zT,"getGlobalRates",UT(MT().mark((function t(){var e,r,n,o,i,a,s;return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({currency_code:"USD"});case 3:return e=t.sent,r=e.currency_code,t.next=7,y.w.getLocal("userInfo");case 7:if(n=t.sent,!n.userInfo.authorization){t.next=15;break}return t.next=12,y.w.get({steamCurrency:{strCode:"USD"}});case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0={steamCurrency:{strCode:"USD"}};case 16:return o=t.t0,i=o.steamCurrency,t.next=20,Bs.Ay.apiRequest({url:"".concat(Bs.C$,"/rates"),data:{base:r||i.strCode}});case 20:return a=t.sent,t.next=23,Bs.Ay.apiRequest({url:"".concat(Bs.C$,"/rates"),data:{base:"USD"}});case 23:if(s=t.sent,!a.success){t.next=30;break}return t.next=27,y.w.set({currency_rates:a.data});case 27:return t.next=29,y.w.set({default_currency_rates:s.data});case 29:WT(a,function(){var t=UT(MT().mark((function t(e){return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set({global_currency_rates:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(0),t.t1;case 35:case"end":return t.stop()}}),t,null,[[0,32]])})))),KT(zT,"getSteamRates",UT(MT().mark((function t(){var e,r,n,o,i,a,s;return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({currency_code:"USD"});case 3:return e=t.sent,r=e.currency_code,t.next=7,y.w.getLocal("userInfo");case 7:if(n=t.sent,!n.userInfo.authorization){t.next=15;break}return t.next=12,y.w.get({steamCurrency:{strCode:"USD"}});case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0={steamCurrency:{strCode:"USD"}};case 16:return o=t.t0,i=o.steamCurrency,t.next=20,Bs.Ay.apiRequest({url:"".concat(Bs.C$,"/steam-rates"),data:{base:r||i.strCode}});case 20:return a=t.sent,t.next=23,Bs.Ay.apiRequest({url:"".concat(Bs.C$,"/steam-rates"),data:{base:"USD"}});case 23:if(s=t.sent,!a.success){t.next=30;break}return t.next=27,y.w.set({steam_rates:a.data});case 27:return t.next=29,y.w.set({default_steam_rates:s.data});case 29:WT(a,function(){var t=UT(MT().mark((function t(e){return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set({steam_currency_rates:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(0),t.t1;case 35:case"end":return t.stop()}}),t,null,[[0,32]])}))));const XT=zT;var $T;function JT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||ZT(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QT(t){return function(t){if(Array.isArray(t))return tL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ZT(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZT(t,e){if(t){if("string"==typeof t)return tL(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tL(t,e):void 0}}function tL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eL(t){return eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eL(t)}function rL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */rL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(eL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function nL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function oL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nL(i,n,o,a,s,"next",t)}function s(t){nL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function iL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cL(n.key),n)}}function aL(t,e,r){return e&&iL(t.prototype,e),r&&iL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sL(t,e,r){return(e=cL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cL(t){var e=function(t,e){if("object"!=eL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eL(e)?e:e+""}var uL=Is(""),lL=aL((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),sL(this,"scanFreeRewardItems",oL(rL().mark((function e(){var r,n,o,i,a,s,c,u,l,h;return rL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com/points/shop/"});case 3:return r=e.sent,n=JSON.parse(uL(r).find("#application_config").attr("data-loyaltystore")),o=n.webapi_token,e.next=7,t.getAllFreeRewards(o);case 7:return i=e.sent,e.next=10,y.w.get({receivedSteamRewardItems:[],free_reward_items_notification:!1});case 10:if(a=e.sent,s=a.receivedSteamRewardItems,c=a.free_reward_items_notification,u=new Set(s),!i.filter((function(t){return!u.has(t.defid)})).length||!c){e.next=22;break}return l={type:"basic",title:"Steam inventory helper",message:"".concat(i18next.t("controls:rewards.notification_text")),iconUrl:"assets/icon128.png",buttons:[{title:"".concat(i18next.t("controls:rewards.btn_accept"))},{title:"".concat(i18next.t("controls:rewards.btn_disable"))}]},h=Os.A.notification.AVAILABLE_FREE_REWARDS,e.next=20,chrome.notifications.clear(h);case 20:return e.next=22,chrome.notifications.create(h,l);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))),sL(this,"getRewardsForSiteExt",function(){var e=oL(rL().mark((function e(r,n){var o,i,a;return rL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.access_token,i=r.cursor,a=void 0===i?null:i,e.t0=n,e.next=4,t.getRewards(o,a);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),sL(this,"redeemPointsForSiteExt",function(){var e=oL(rL().mark((function e(r,n){var o,i,a,s,c;return rL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.access_token,i=r.defid,e.next=3,y.w.get({receivedSteamRewardItems:[]});case 3:return a=e.sent,s=a.receivedSteamRewardItems,(c=new Set(s)).add(i),e.next=9,y.w.set({receivedSteamRewardItems:Array.from(c)});case 9:return e.t0=n,e.next=12,t.redeemPoints(o,i);case 12:e.t1=e.sent,(0,e.t0)(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}));$T=lL,sL(lL,"getRewards",function(){var t=oL(rL().mark((function t(e){var r,n,o=arguments;return rL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,n=new URLSearchParams({access_token:e,count:1e3}),r&&n.append("cursor",r),t.abrupt("return",Bs.Ay.apiRequest({url:"https://api.steampowered.com/ILoyaltyRewardsService/QueryRewardItems/v1/?".concat(n.toString()),method:"GET"}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sL(lL,"getAllRewards",function(){var t=oL(rL().mark((function t(e){var r,n,o,i,a,s;return rL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=null,o=0;case 3:return t.prev=3,t.next=6,$T.getRewards(e,n);case 6:if(a=t.sent,(s=a.response).definitions){t.next=10;break}return t.abrupt("break",20);case 10:r.push.apply(r,QT(s.definitions)),o+=s.count,n=s.next_cursor,i=s.total_count,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.error("Error fetching rewards:",t.t0);case 19:if(o<i&&n){t.next=3;break}case 20:return t.abrupt("return",r);case 21:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}()),sL(lL,"getAllFreeRewards",function(){var t=oL(rL().mark((function t(e){var r,n,o,i,a,s,c,u,l,h;return rL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=3e5,t.next=3,y.w.getLocal({cachedFreeSteamRewardItems:{}});case 3:for(n=t.sent,o=n.cachedFreeSteamRewardItems,i=0,a=Object.entries(o);i<a.length;i++)s=JT(a[i],2),c=s[0],s[1].time-Date.now()>r&&delete o[c];if(!((u=o[e])&&u.time-Date.now()<=r)){t.next=9;break}return t.abrupt("return",u.freeRewards);case 9:return t.next=11,$T.getAllRewards(e);case 11:return l=t.sent,h=l.filter((function(t){return"0"===t.point_cost&&6!==t.type})),o[e]={freeRewards:h,time:Date.now()},t.next=16,y.w.setLocal({cachedFreeSteamRewardItems:o});case 16:return t.abrupt("return",h);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sL(lL,"redeemPoints",function(){var t=oL(rL().mark((function t(e,r){var n;return rL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams({access_token:e,defid:r}),t.next=3,Bs.Ay.apiRequest({url:"https://api.steampowered.com/ILoyaltyRewardsService/RedeemPoints/v1/?".concat(n.toString()),method:"POST"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const hL=new lL;var fL=r(5488);function pL(t){return pL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pL(t)}function dL(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return yL(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yL(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function yL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function gL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mL(i,n,o,a,s,"next",t)}function s(t){mL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function bL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wL(n.key),n)}}function wL(t){var e=function(t,e){if("object"!=pL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pL(e)?e:e+""}var EL=Is(""),xL=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiUrl="https://store.steampowered.com/account/AjaxLoadMoreHistory/"}return function(t,e,r){return e&&bL(t.prototype,e),r&&bL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"fetchData",value:(i=gL(vL().mark((function e(r){var n,o,i,a;return vL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,t.getSessionCookie();case 3:o=e.sent,i={l:"en",sessionid:o};case 5:return n&&(i.cursor=n),e.prev=6,e.next=9,Bs.Ay.apiRequest({headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",url:this.apiUrl,data:i});case 9:if(null!=(a=e.sent)&&a.html){e.next=12;break}throw Error("No data from Steam API");case 12:return e.next=14,r(a);case 14:n=e.sent,e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(6),console.error(e.t0),e.t0;case 21:if(n){e.next=5;break}case 22:case"end":return e.stop()}}),e,this,[[6,17]])}))),function(t){return i.apply(this,arguments)})},{key:"getAccBalanceHistory",value:(o=gL(vL().mark((function t(){var e,r,n,o;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,y.w.get("currency");case 3:return r=t.sent,n=r.currency,o=function(){var t=gL(vL().mark((function t(r){var o,i,a,s,c,u,l;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=EL.parseHTML(r.html),i=dL(o),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=20;break}if(s=a.value,c=EL(s).find(".wht_date").text().trim(),u=EL(s).find(".wht_wallet_balance").text().trim(),!c||!u){t.next=18;break}if(!((l=fl.A.parsePrice(u,!0))&&l.value&&l.currencyNumber)){t.next=18;break}return t.t0=e,t.t1=new Date(c),t.next=15,fl.A.getPriceFromCurrency(l.value/100,n||1,l.currencyNumber);case 15:t.t2=t.sent,t.t3={date:t.t1,balance:t.t2},t.t0.push.call(t.t0,t.t3);case 18:t.next=4;break;case 20:t.next=25;break;case 22:t.prev=22,t.t4=t.catch(2),i.e(t.t4);case 25:return t.prev=25,i.f(),t.finish(25);case 28:return t.abrupt("return",r.cursor);case 29:case"end":return t.stop()}}),t,null,[[2,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),t.next=8,this.fetchData(o);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"calculateSpentMoneyInStore",value:(n=gL(vL().mark((function t(){var e,r,n,o;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,t.next=3,y.w.get("steamCurrency");case 3:return r=t.sent,n=r.steamCurrency,o=function(t){var r=EL.parseHTML(t.html),o=n.strCode;return r.forEach((function(t){var r=EL(t).find(".wht_type div:first").text().trim(),n=EL(t).find(".wht_total").text().trim(),i=EL(t).find(".wht_items").text().trim();if(n&&!n.match("Credit")&&r&&!i.match("Wallet Credit")){var a,s=fl.A.parsePrice(n,!0);if(!s)return;a=s.currencyCode!==o?fL.A.convert(s.value,s.currencyCode,o):s.value,r.match(/^Purchase/)&&(e+=a)}})),t.cursor},t.next=8,this.fetchData(o);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],[{key:"getSessionCookie",value:(r=gL(vL().mark((function e(){var r,n,o;return vL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(t){return chrome.cookies.getAll({domain:"store.steampowered.com"},t)}));case 2:return r=e.sent,n=r.find((function(t){return"sessionid"===t.name})),e.next=6,this.checkSessionOnExpired();case 6:if(o=e.sent,n&&!o){e.next=11;break}return e.next=10,Kc.refreshSteamPowered();case 10:return e.abrupt("return",t.getSessionCookie());case 11:return e.abrupt("return",n.value);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkSessionOnExpired",value:(e=gL(vL().mark((function t(){var e,r,n,o;return vL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.sendRequest({method:"GET",url:"https://store.steampowered.com"});case 2:return e=t.sent,r=Ps.A.Profile.parse(e,["sessionId","accountId"]),n=r.sessionId,o=r.accountId,t.abrupt("return",!o&&n);case 5:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]);var e,r,n,o,i}();const SL=new xL;function _L(t){return _L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_L(t)}function AL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */AL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_L(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_L(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function TL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function LL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){TL(i,n,o,a,s,"next",t)}function s(t){TL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function kL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function IL(t,e,r){return e&&kL(t.prototype,e),r&&kL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OL(t,e,r){return(e=NL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=function(t,e){if("object"!=_L(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_L(e)?e:e+""}const PL=new(IL((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),OL(this,"getGameBanner",function(){var t=LL(AL().mark((function t(e){var r,n,o,i,a;return AL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appId,n=e.countryId,o=e.tags,i=e.time,t.prev=1,t.next=4,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/banner"),data:{appId:r,countryId:n,tags:o,time:i}});case 4:return a=t.sent,t.abrupt("return",{success:!0,data:a});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",{success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()),OL(this,"getGameBannerV2",LL(AL().mark((function t(){var e;return AL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"https://gainskins.steaminventoryhelper.com/api/v2/sih/steam/banner"});case 3:return e=t.sent,t.abrupt("return",{success:!0,data:e});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))))})));function CL(t){return CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CL(t)}function DL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */DL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==CL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(CL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function RL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function FL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){RL(i,n,o,a,s,"next",t)}function s(t){RL(i,n,o,a,s,"throw",t)}a(void 0)}))}}const jL={msg:{getGameBanner:{code:"BACKGROUND_GET_BANNER_LIVE",handler:function(){var t=FL(DL().mark((function t(e,r){var n,o,i,a,s;return DL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,o=e.countryId,i=e.tags,a=e.time,t.prev=1,t.next=4,PL.getGameBanner({appId:n,countryId:o,tags:i,time:a});case 4:s=t.sent,r(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getGameBannerV2:{code:"BACKGROUND_GET_BANNER_LIVE_V2",handler:function(){var t=FL(DL().mark((function t(e){var r;return DL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,PL.getGameBannerV2();case 3:r=t.sent,e(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}};var BL=function(t,e,r){switch(t.type){case jL.msg.getGameBanner.code:jL.msg.getGameBanner.handler(r);break;case jL.msg.getGameBannerV2.code:jL.msg.getGameBannerV2.handler(r)}return!0};const ML={listener:{handler:BL},init:{handler:function(){chrome.runtime.onMessage.addListener(BL),chrome.runtime.onMessageExternal.addListener(BL)}}};const GL={handler:function(){try{ML.init.handler()}catch(t){}}};function UL(t){return UL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UL(t)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qL(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?HL(Object(r),!0).forEach((function(e){XL(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function VL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */VL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==UL(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(UL(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function KL(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function YL(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){KL(i,n,o,a,s,"next",t)}function s(t){KL(i,n,o,a,s,"throw",t)}a(void 0)}))}}function WL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function zL(t,e,r){return e&&WL(t.prototype,e),r&&WL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XL(t,e,r){return(e=$L(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=function(t,e){if("object"!=UL(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=UL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UL(e)?e:e+""}var JL=zL((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));XL(JL,"updateMarketHistoryHeaders",function(){var t=YL(VL().mark((function t(e,r){var n;return VL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sl.generateDynamicRuleId(r);case 2:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Cookie",operation:"set",value:e}]},t.t2={urlFilter:r},n={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=8,Sl.setRule(n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());const QL=JL;var ZL=function(){var t=YL(VL().mark((function t(e){var r,n,o,i,a,s,c,u,l;return VL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,n=e.requestHeaders,o=r.split("/"),i=o[o.length-1],t.next=5,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 5:if(a=t.sent,s=a.BUY_LISTING_HISTORY_STATS,c=void 0===s?[]:s,!(u=n.find((function(t){return"referer"===t.name.toLowerCase()})))){t.next=14;break}return l=XL({},i,{refererHeader:u}),c.unshift(l),t.next=14,y.w.setLocal({BUY_LISTING_HISTORY_STATS:c});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tk=function(){var t=YL(VL().mark((function t(e){var r,n,o,i,a,s,c,u,l,h;return VL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.statusCode,n=e.url,o=e.initiator,i=n.split("/"),a=i[i.length-1],t.next=5,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 5:return s=t.sent,c=s.BUY_LISTING_HISTORY_STATS,-1!==(l=(u=void 0===c?[]:c).findIndex((function(t){return t[a]})))?u[l][a]=qL({initiator:o,ip:e.ip,method:e.method,statusCode:r,timeStamp:e.timeStamp,date:new Date(e.timeStamp).toUTCString(),url:n},u[l][a]):(h=XL({},a,{initiator:o,ip:e.ip,method:e.method,statusCode:r,timeStamp:e.timeStamp,date:new Date(e.timeStamp).toUTCString(),url:n}),u.unshift(h)),t.next=12,y.w.setLocal({BUY_LISTING_HISTORY_STATS:u});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ek(t){return ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ek(t)}function rk(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nk(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nk(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ok(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ok=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ek(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ek(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ak(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ik(Object(r),!0).forEach((function(e){hk(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ck(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sk(i,n,o,a,s,"next",t)}function s(t){sk(i,n,o,a,s,"throw",t)}a(void 0)}))}}function uk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fk(n.key),n)}}function lk(t,e,r){return e&&uk(t.prototype,e),r&&uk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hk(t,e,r){return(e=fk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fk(t){var e=function(t,e){if("object"!=ek(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ek(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ek(e)?e:e+""}chrome.webRequest.onBeforeSendHeaders.addListener(ZL,{urls:["https://steamcommunity.com/market/buylisting*"]},["requestHeaders","extraHeaders"]),chrome.webRequest.onCompleted.addListener(tk,{urls:["https://steamcommunity.com/market/buylisting*"]});var pk=Is(""),dk=lk((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hk(this,"prebuildData",function(){var t=ck(ok().mark((function t(r,n){var o,i;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("steamCurrency");case 2:return o=t.sent,i=o.steamCurrency,t.abrupt("return",new Promise(function(){var t=ck(ok().mark((function t(o){var a,s;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=pk(r.results_html).find(".market_listing_row"),t.next=3,Promise.all(a.map(function(){var t=ck(ok().mark((function t(o,a){var s,c,u,l,h,f,p,d,y,v,m,g;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s={},u=pk(a),!(l=u.find(".market_listing_item_name").attr("id")).includes("_event_")){t.next=5;break}return t.abrupt("return");case 5:return h=u.find(".market_listing_game_name").text(),s={gameName:h,listingId:l.split("_")[2]},f=u.find(".market_listing_price").text(),(p=f)&&(p=p.match(/([\d+?., ]+\d)/g))&&p[0].includes(",")&&(p=p[0].replace(/,/,".").replace(/ /,"").trim()),d=null,y=n.find((function(t){return t.includes(l)})),y&&(c=y.split(",")[2].replace(/['\s]/g,""),v=y.split(",")[3].replace(/['\s]/g,""),m=y.split(",")[4].replace(/['\s]/g,""),d=r.assets[c][v][m]?r.assets[c][v][m].market_hash_name:null,s=ak({market_hash_name:d},s)),t.next=15,fl.A.getPriceFromCurrency(+p,i.eCurrencyCode,i.eCurrencyCode);case 15:if(g=t.sent,u.find(".market_listing_listed_date").each((function(t,e){var r=pk(e).text();r&&(r=r.replace(/[\t\n]/g,""),0===t&&(s=ak({datePurchase:r},s)))})),g.price>0&&(s=ak({originalPriceStr:f.trim(),buyerPrice:g.price,buyerPriceTxt:g.text},s)),!(c&&570==+c&&s.buyerPrice&&e.isToday(s.datePurchase))){t.next=22;break}if(!(pk(a).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1)){t.next=22;break}return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 3:s=t.sent.filter((function(t){return t})),o(s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),hk(this,"getMarketHistory",ck(ok().mark((function t(){var e,r,n,o=arguments;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:0,r=["Steam_Language","browserid","sessionid","steamCountry","steamLoginSecure","timezoneOffset","webTradeEligibility"],n="https://steamcommunity.com/market/myhistory*",t.abrupt("return",new Promise((function(t,o){chrome.cookies.getAll({domain:"steamcommunity.com"},function(){var i=ck(ok().mark((function i(a){var s,c,u;return ok().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=a.filter((function(t){return r.includes(t.name)})),c=s.map((function(t){return"".concat(t.name,"=").concat("Steam_Language"!==t.name?t.value:"english")})).join("; "),i.next=5,QL.updateMarketHistoryHeaders(c,n);case 5:return i.next=7,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/market/myhistory?count=500&start=".concat(e)});case 7:return u=i.sent,i.next=10,Sl.removeRule(n);case 10:t(u),i.next=17;break;case 13:i.prev=13,i.t0=i.catch(0),i.t0,o(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(t){return i.apply(this,arguments)}}())})));case 4:case"end":return t.stop()}}),t)})))),hk(this,"buildSendData",function(){var t=ck(ok().mark((function t(r,n){var o,i,a,s,c;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get("steamCurrency");case 2:return o=t.sent,i=o.steamCurrency,t.next=6,e.prebuildData(r,n);case 6:if((a=t.sent).length){t.next=9;break}return t.abrupt("return",[]);case 9:return s={appId:"570",items:a.map((function(t){return t.market_hash_name})),markets:["steamLiveSell"]},t.next=12,EE.getPrices(s);case 12:if((c=t.sent).success){t.next=15;break}return t.abrupt("return",[]);case 15:return t.next=17,Promise.all(a.map(function(){var t=ck(ok().mark((function t(e){var r,n,o,a,s;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(null==c||null===(r=c.items)||void 0===r||null===(n=r[e.market_hash_name])||void 0===n||null===(o=n.steamLiveSell)||void 0===o?void 0:o.price)||0,t.next=3,fl.A.getPriceFromCurrency(a,i.eCurrencyCode,1);case 3:return s=t.sent,e=ak({marketPrice:a,marketPriceByCurrency:Math.round(100*s.price)/100,marketPriceByCurrencyTxt:s.text},e),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),hk(this,"getFilteredSendData",(function(t){return t&&t.length?t.filter((function(t){if(t.marketPrice&&10*t.marketPriceByCurrency-t.buyerPrice<0)return t})):[]})),hk(this,"isToday",(function(t){var e=rk(t.split(" "),2),r=e[0],n=e[1],o=new Date,i=new Date(o.getFullYear(),{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[n],parseInt(r));return i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()})),hk(this,"getUniqHistoryItemsFromStorage",function(){var t=ck(ok().mark((function t(e){var r,n,o,i;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("CACHED_OVERPRICED_MARKET_HISTORY");case 2:if(r=t.sent,n=r.CACHED_OVERPRICED_MARKET_HISTORY,o=(new Date).toDateString(),n){t.next=9;break}return t.next=8,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:hk({},o,e)});case 8:case 12:return t.abrupt("return",e);case 9:if(n[o]){t.next=13;break}return t.next=12,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:hk({},o,e)});case 13:return i=e.filter((function(t){if(!n[o].find((function(e){return e.listingId===t.listingId})))return n[o].push(t),t})),t.next=16,y.w.setLocal({CACHED_OVERPRICED_MARKET_HISTORY:n});case 16:return t.abrupt("return",i);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),hk(this,"getBuyListingDetails",function(){var t=ck(ok().mark((function t(e){var r,n,o;return ok().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,y.w.getLocal("BUY_LISTING_HISTORY_STATS");case 4:return r=t.sent,n=r.BUY_LISTING_HISTORY_STATS,o=void 0===n?[]:n,t.abrupt("return",e.map((function(t){var e=o.find((function(e){return e[t.listingId]}));return e&&(t=ak(ak({},e[t.listingId]),t)),t})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));const yk=new dk;function vk(t){return vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vk(t)}function mk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==vk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(vk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function gk(t){return function(t){if(Array.isArray(t))return bk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bk(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bk(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ek(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wk(i,n,o,a,s,"next",t)}function s(t){wk(i,n,o,a,s,"throw",t)}a(void 0)}))}}var xk=Is(""),Sk=[],_k=0,Ak=function(){var t=Ek(mk().mark((function t(){var e,r,n,o;return mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yk.getMarketHistory(_k);case 2:if(e=t.sent,r=e.hovers.replace(/[\t\n]/g,"").split(";"),e.results_html){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,yk.buildSendData(e,r);case 8:return n=t.sent,o=yk.getFilteredSendData(n),Sk.push.apply(Sk,gk(o)),t.next=13,Tk(e);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Tk=function(){var t=Ek(mk().mark((function t(e){var r;return mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(xk(e.results_html).find(".market_listing_row").filter((function(t,e){return!xk(e).attr("id").includes("_event_")})).last().find(".market_listing_listed_date").each((function(t,e){var n=xk(e).text();n&&(n=n.replace(/[\t\n]/g,""),0===t&&(r=yk.isToday(n)))})),!r){t.next=8;break}return _k+=500,t.next=6,(0,Bs.yy)(3e3);case 6:return t.next=8,Ak();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const Lk={msg:{},alarm:{sendUserHistoryInfo:{code:Os.A.alarm.BACKGROUND_SEND_USER_MARKET_HISTORY,handler:function(){var t=Ek(mk().mark((function t(){var e,r,n,o;return mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal("userInfo");case 3:if(e=t.sent,(r=e.userInfo)&&r.steamId){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Ak();case 9:if(Sk.length){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,yk.getUniqHistoryItemsFromStorage(Sk);case 13:return n=t.sent,t.next=16,yk.getBuyListingDetails(n);case 16:if(o=t.sent,n.length){t.next=19;break}return t.abrupt("return");case 19:chrome.management.getAll(function(){var t=Ek(mk().mark((function t(e){var n,i;return mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return{enabled:t.enabled,hostPermissions:t.hostPermissions,id:t.id,installType:t.installType,name:t.name,version:t.version}})),i={historyStats:o,extensionsInfo:n,steamId:r.steamId},t.next=4,ic.sendMarketHistoryStats(i);case 4:_k=0,Sk.length=0;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),t.t0;case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(){return t.apply(this,arguments)}}()}}};var kk=function(){chrome.alarms.create(Lk.alarm.sendUserHistoryInfo.code,{delayInMinutes:0,periodInMinutes:60})},Ik=function(t){if(t.name===Lk.alarm.sendUserHistoryInfo.code)Lk.alarm.sendUserHistoryInfo.handler()};const Ok={createAlarms:{handler:kk},listener:{handler:Ik},init:{handler:function(){kk(),chrome.alarms.onAlarm.addListener(Ik)}}};const Nk={handler:function(){try{Ok.init.handler()}catch(t){}}};function Pk(t){return Pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pk(t)}function Ck(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ck=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Pk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Pk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Dk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Rk(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dk(i,n,o,a,s,"next",t)}function s(t){Dk(i,n,o,a,s,"throw",t)}a(void 0)}))}}const Fk={msg:{},alarm:{getGlobalRates:{code:Os.A.alarm.GET_EXCHANGE_RATES,handler:function(){var t=Rk(Ck().mark((function t(){return Ck().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,XT.getGlobalRates();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}()},getSteamRates:{code:Os.A.alarm.GET_STEAM_RATES,handler:function(){var t=Rk(Ck().mark((function t(){return Ck().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,XT.getSteamRates();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}()}}};function jk(t){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jk(t)}function Bk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Bk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Mk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Gk(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mk(i,n,o,a,s,"next",t)}function s(t){Mk(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Uk=function(){var t=Gk(Bk().mark((function t(e,r,n){return Bk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=3;break;case 3:return t.abrupt("break",4);case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Hk=function(){var t=Gk(Bk().mark((function t(){return Bk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.runtime.onMessage.addListener(Uk),chrome.runtime.onMessageExternal.addListener(Uk);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),qk=function(){var t=Gk(Bk().mark((function t(e){return Bk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.name,t.next=t.t0===Fk.alarm.getGlobalRates.code?3:t.t0===Fk.alarm.getSteamRates.code?6:9;break;case 3:return t.next=5,Fk.alarm.getGlobalRates.handler();case 5:case 8:case 9:return t.abrupt("break",10);case 6:return t.next=8,Fk.alarm.getSteamRates.handler();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vk=function(){var t=Gk(Bk().mark((function t(){return Bk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.alarms.create(Os.A.alarm.GET_EXCHANGE_RATES,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create(Os.A.alarm.GET_STEAM_RATES,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.onAlarm.addListener(qk);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();const Kk={msgListener:{listener:{handler:Uk},init:{handler:Hk}},alarmListener:{listener:{handler:qk},init:{handler:Vk}}};const Yk={handler:function(){try{Kk.alarmListener.init.handler(),Kk.msgListener.init.handler()}catch(t){}}};function Wk(t){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wk(t)}function zk(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xk(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xk(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$k=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Wk(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Wk(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Jk(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Qk(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jk(i,n,o,a,s,"next",t)}function s(t){Jk(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rI(n.key),n)}}function tI(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eI(t,e,r){return(e=rI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rI(t){var e=function(t,e){if("object"!=Wk(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wk(e)?e:e+""}var nI=tI((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),eI(this,"checkCase",function(){var t=Qk($k().mark((function t(r){var n,o;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(n=t.sent,o=n.sih_app_token){t.next=7;break}throw Error("Not found sih.app token");case 7:if(r){t.next=9;break}throw Error("Not found marketHashName");case 9:return t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":o},url:"".concat(e.casesApiUrl,"/api/v1/find/").concat(r),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"getCases",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.limit,o=r.offset,i=r.sortBy,a=r.search,s=r.caseType,c=r.source,u=r.lang,l=r.isReal,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(h=t.sent,f=h.sih_app_token){t.next=8;break}throw Error("Not found sih.app token");case 8:return p=Object.fromEntries(Object.entries({limit:n,offset:o,sortBy:i,search:a,caseType:s,source:c,lang:u,isReal:l}).filter((function(t){var e=zk(t,2);e[0];return void 0!==e[1]}))),t.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":f},url:"".concat(e.casesApiUrl,"/api/v1/list"),data:p,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"getCaseInfo",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l,h;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.caseId,o=r.page,i=void 0===o?1:o,a=r.limit,s=void 0===a?1e3:a,c=r.marketName,u=void 0===c?"steamLiveSell":c,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(l=t.sent,h=l.sih_app_token){t.next=8;break}throw Error("Not found sih.app token");case 8:return t.next=10,Bs.Ay.apiRequest({headers:{"x-sih-token":h},url:"".concat(e.casesApiUrl,"/api/v1/items/").concat(n),data:{page:i,limit:s,marketName:u},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 10:return t.abrupt("return",t.sent);case 13:return t.prev=13,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"openCase",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.caseId,o=r.number,i=void 0===o?1:o,a=r.saveToDB,s=void 0===a||a,c=r.marketName,u=void 0===c?"steamLiveSell":c,l=r.casesPrices,h=r.isReal,f=void 0!==h&&h,t.prev=1,n){t.next=4;break}throw Error("Not found case id");case 4:return t.next=6,y.w.get("sih_app_token");case 6:if(p=t.sent,d=p.sih_app_token){t.next=10;break}throw Error("Not found sih.app token");case 10:if(v=Object.fromEntries(Object.entries(f?{number:i}:{number:i,saveToDB:s,marketName:u,casesPrices:l}).filter((function(t){var e=zk(t,2);e[0];return void 0!==e[1]}))),e.abortController&&e.abortController.abort(),e.abortController){t.next=22;break}return e.abortController=new AbortController,m=e.abortController.signal,t.next=18,Bs.Ay.apiRequest({headers:{"x-sih-token":d},url:f?"".concat(e.casesApiUrl,"/api/v1/buy/").concat(n):"".concat(e.casesApiUrl,"/api/v1/roll/").concat(n),data:v,method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0},signal:m});case 18:return g=t.sent,t.abrupt("return",g);case 22:return t.abrupt("return",{success:!1,error:"Request was aborted"});case 23:t.next=32;break;case 25:if(t.prev=25,t.t0=t.catch(1),"AbortError"!==t.t0.name){t.next=30;break}return t.abrupt("return",{success:!1,error:"Request was aborted"});case 30:return t.t0,t.abrupt("return",{success:!1,error:(null===t.t0||void 0===t.t0?void 0:t.t0.message)||(null===t.t0||void 0===t.t0||null===(b=t.t0.responseJSON)||void 0===b?void 0:b.error)||"Something went wrong. Try again later."});case 32:return t.prev=32,e.abortController=null,t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[1,25,32,35]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"getCaseHistory",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l,h,f,p,d;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.caseId,o=r.marketName,i=r.offset,a=void 0===i?0:i,s=r.state,c=r.limit,u=void 0===c?1e3:c,l=r.isReal,h=void 0!==l&&l,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(f=t.sent,p=f.sih_app_token){t.next=8;break}throw Error("Not found sih.app token");case 8:return d=Object.fromEntries(Object.entries({caseId:n,marketName:o,offset:a,limit:u,state:s,isReal:h}).filter((function(t){var e=zk(t,2);e[0];return void 0!==e[1]}))),t.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":p},url:"".concat(e.casesApiUrl,"/api/v1/history"),data:d,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"deleteCaseStatistics",function(){var t=Qk($k().mark((function t(r){var n,o;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(n=t.sent,o=n.sih_app_token){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Bs.Ay.apiRequest({headers:{"x-sih-token":o},url:"".concat(e.casesApiUrl,"/api/v1/history/").concat(r),method:"DELETE",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"getUserInventory",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l,h,f;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.sortBy,o=r.minPrice,i=r.maxPrice,a=r.offset,s=void 0===a?0:a,c=r.limit,u=void 0===c?100:c,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(l=t.sent,h=l.sih_app_token){t.next=8;break}throw Error("Not found sih.app token");case 8:return f=Object.fromEntries(Object.entries({sortBy:n,minPrice:o,maxPrice:i,offset:s,limit:u}).filter((function(t){var e=zk(t,2);e[0];return void 0!==e[1]}))),t.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":h},url:"".concat(e.casesApiUrl,"/api/v1/inventory"),data:f,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"sellInventoryAll",Qk($k().mark((function t(){var r,n;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(r=t.sent,n=r.sih_app_token){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Bs.Ay.apiRequest({headers:{"x-sih-token":n},url:"".concat(e.casesApiUrl,"/api/v1/inventory/sell/all"),data:{},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))),eI(this,"withdrawalInventoryAll",Qk($k().mark((function t(){var r,n;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get("sih_app_token");case 3:if(r=t.sent,n=r.sih_app_token){t.next=7;break}throw Error("Not found sih.app token");case 7:return t.next=9,Bs.Ay.apiRequest({headers:{"x-sih-token":n},url:"".concat(e.casesApiUrl,"/api/v1/withdraw/all"),data:{},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))),eI(this,"sellInventoryItem",function(){var t=Qk($k().mark((function t(r){var n,o,i;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.itemIds,t.prev=1,n&&n.length){t.next=4;break}throw Error("Not found itemId");case 4:return t.next=6,y.w.get("sih_app_token");case 6:if(o=t.sent,i=o.sih_app_token){t.next=10;break}throw Error("Not found sih.app token");case 10:return t.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":i},url:"".concat(e.casesApiUrl,"/api/v1/inventory/sell"),data:{userInventoryItemIds:n},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"withdrawalInventoryItem",function(){var t=Qk($k().mark((function t(r){var n,o,i;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.itemIds,t.prev=1,n&&n.length){t.next=4;break}throw Error("Not found itemId");case 4:return t.next=6,y.w.get("sih_app_token");case 6:if(o=t.sent,i=o.sih_app_token){t.next=10;break}throw Error("Not found sih.app token");case 10:return t.next=12,Bs.Ay.apiRequest({headers:{"x-sih-token":i},url:"".concat(e.casesApiUrl,"/api/v1/withdraw"),data:{userInventoryItemIds:n},method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0}});case 12:return t.abrupt("return",t.sent);case 15:return t.prev=15,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()),eI(this,"getWithdrawalHistory",function(){var t=Qk($k().mark((function t(r){var n,o,i,a,s,c,u,l;return $k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.isLocal,o=void 0!==n&&n,t.prev=1,t.next=4,y.w.get("sih_app_token");case 4:if(i=t.sent,a=i.sih_app_token){t.next=8;break}throw Error("Not found sih.app token");case 8:if(o){t.next=17;break}return t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":a},url:"".concat(e.casesApiUrl,"/api/v1/withdraw"),method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}});case 11:return s=t.sent,t.next=14,y.w.setLocal({sihAppWithdrawalHistory:s});case 14:return t.abrupt("return",s);case 17:return t.next=19,y.w.getLocal("sihAppWithdrawalHistory");case 19:return c=t.sent,u=c.sihAppWithdrawalHistory,l=void 0===u?{}:u,t.abrupt("return",l);case 23:t.next=29;break;case 25:return t.prev=25,t.t0=t.catch(1),t.t0,t.abrupt("return",{success:!1,error:t.t0});case 29:case"end":return t.stop()}}),t,null,[[1,25]])})));return function(e){return t.apply(this,arguments)}}()),this.casesApiUrl=t.casesApiUrl,this.errorHandler=ic.errorHandler,this.abortController=null}));eI(nI,"casesApiUrl","https://cases.steaminventoryhelper.com");const oI=new nI;function iI(t){return iI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iI(t)}function aI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==iI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(iI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function sI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function cI(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){sI(i,n,o,a,s,"next",t)}function s(t){sI(i,n,o,a,s,"throw",t)}a(void 0)}))}}const uI={msg:{checkCase:{code:Os.A.msg.BACKGROUND_CHECK_SIH_CASE,handler:function(){var t=cI(aI().mark((function t(e,r){var n,o;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.marketHashName,t.prev=1,t.next=4,oI.checkCase(n);case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getCases:{code:Os.A.msg.BACKGROUND_GET_SIH_CASES,handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.getCases(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getCaseInfo:{code:Os.A.msg.BACKGROUND_GET_SIH_CASE_INFO,handler:function(){var t=cI(aI().mark((function t(e,r){var n,o,i,a,s;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,o=e.page,i=e.limit,a=e.marketName,t.prev=1,t.next=4,oI.getCaseInfo({caseId:n,page:o,limit:i,marketName:a});case 4:s=t.sent,r(s),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},openCase:{code:Os.A.msg.BACKGROUND_SIH_OPEN_CASE,handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.openCase(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getCaseHistory:{code:Os.A.msg.BACKGROUND_GET_SIH_CASE_HISTORY,handler:function(){var t=cI(aI().mark((function t(e,r){var n,o,i,a,s,c,u;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,o=e.marketName,i=e.offset,a=e.limit,s=e.state,c=e.isReal,t.prev=1,t.next=4,oI.getCaseHistory({caseId:n,marketName:o,offset:i,limit:a,state:s,isReal:c});case 4:u=t.sent,r(u),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},deleteCaseHistory:{code:Os.A.msg.BACKGROUND_DELETE_SIH_CASE_HISTORY,handler:function(){var t=cI(aI().mark((function t(e,r){var n,o;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caseId,t.prev=1,t.next=4,oI.deleteCaseStatistics(n);case 4:o=t.sent,r(o),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getUserInventory:{code:"BACKGROUND_SIH_CASE_GET_INVENTORY",handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.getUserInventory(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1,error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},sellInventoryAll:{code:"BACKGROUND_SIH_CASE_SELL_ALL",handler:function(){var t=cI(aI().mark((function t(e){var r;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.sellInventoryAll();case 3:r=t.sent,e(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},withdrawalInventoryAll:{code:"BACKGROUND_SIH_CASE_WITHDRAWAL_ALL",handler:function(){var t=cI(aI().mark((function t(e){var r;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.withdrawalInventoryAll();case 3:r=t.sent,e(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,e({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},sellInventoryItem:{code:"BACKGROUND_SIH_CASE_SELL_ITEM",handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.sellInventoryItem(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},withdrawalInventoryItem:{code:"BACKGROUND_SIH_CASE_WITHDRAWAL_ITEM",handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.withdrawalInventoryItem(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},getWithdrawalHistory:{code:"BACKGROUND_SIH_CASE_GET_WITHDRAWAL_HISTORY",handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oI.getWithdrawalHistory(e);case 3:n=t.sent,r(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},setNotificationLog:{code:"BACKGROUND_SIH_CASE_SET_NOTIFICATION_LOG",handler:function(){var t=cI(aI().mark((function t(e,r){var n;return aI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.errorMessage,t.prev=1,t.next=4,ic.updateDataStorageLog({success:!1,error:n},"cases");case 4:r({success:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0,r({success:!1,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{}};var lI=function(t,e,r){switch(t.type){case uI.msg.checkCase.code:uI.msg.checkCase.handler(t.data,r);break;case uI.msg.getCases.code:uI.msg.getCases.handler(t.data,r);break;case uI.msg.getCaseInfo.code:uI.msg.getCaseInfo.handler(t.data,r);break;case uI.msg.openCase.code:uI.msg.openCase.handler(t.data,r);break;case uI.msg.getCaseHistory.code:uI.msg.getCaseHistory.handler(t.data,r);break;case uI.msg.deleteCaseHistory.code:uI.msg.deleteCaseHistory.handler(t.data,r);break;case uI.msg.getUserInventory.code:uI.msg.getUserInventory.handler(t.data,r);break;case uI.msg.sellInventoryItem.code:uI.msg.sellInventoryItem.handler(t.data,r);break;case uI.msg.withdrawalInventoryItem.code:uI.msg.withdrawalInventoryItem.handler(t.data,r);break;case uI.msg.sellInventoryAll.code:uI.msg.sellInventoryAll.handler(r);break;case uI.msg.withdrawalInventoryAll.code:uI.msg.withdrawalInventoryAll.handler(r);break;case uI.msg.getWithdrawalHistory.code:uI.msg.getWithdrawalHistory.handler(t.data,r);break;case uI.msg.setNotificationLog.code:uI.msg.setNotificationLog.handler(t.data,r)}return!0};const hI={listener:{handler:lI},init:{handler:function(){chrome.runtime.onMessage.addListener(lI),chrome.runtime.onMessageExternal.addListener(lI)}}};const fI={handler:function(){try{hI.init.handler()}catch(t){}}};var pI=function(t,e,r){switch(t.type){case Ld.msg.checkSteamLogin.code:Ld.msg.checkSteamLogin.handler(t.data,r);break;case Ld.msg.initSteamRefill.code:Ld.msg.initSteamRefill.handler(t.data,r)}return!0},dI=function(t){if("STEAM_REFILL_CONNECTION"===t.name)Ld.connect.init.handler(t)};const yI={listener:{handler:pI},init:{handler:function(){chrome.runtime.onMessage.addListener(pI),chrome.runtime.onMessageExternal.addListener(pI)}}},vI={init:{handler:function(){chrome.runtime.onConnect.addListener(dI),chrome.runtime.onConnectExternal.addListener(dI)}}};const mI={handler:function(){try{yI.init.handler(),vI.init.handler()}catch(t){}}};function gI(t){return gI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gI(t)}function bI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(gI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function wI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EI(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){wI(i,n,o,a,s,"next",t)}function s(t){wI(i,n,o,a,s,"throw",t)}a(void 0)}))}}const xI={msg:{getAppInfo:{code:"BACKGROUND_GET_STEAMDB_APPINFO",handler:function(){var t=EI(bI().mark((function t(e,r){var n,o;return bI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"GET",url:"https://steamdb.info/api/ExtensionApp/?appid=".concat(e),headers:{"X-Requested-With":"SteamDB"}});case 3:n=t.sent,o=n.data,r({success:!0,data:o}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},getAppPrice:{code:"BACKGROUND_GET_STEAMDB_APPPRICE",handler:function(){var t=EI(bI().mark((function t(e,r){var n,o,i,a;return bI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,o=e.currency,t.prev=1,t.next=4,Bs.Ay.apiRequest({method:"GET",url:"https://steamdb.info/api/ExtensionAppPrice/?appid=".concat(n,"&currency=").concat(o),headers:{Accept:"application/json","X-Requested-With":"SteamDB"}});case 4:i=t.sent,a=i.data,r({success:!0,data:a}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),r({success:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()}},alarm:{}};var SI=function(t,e,r){switch(t.type){case xI.msg.getAppInfo.code:xI.msg.getAppInfo.handler(t.data,r);break;case xI.msg.getAppPrice.code:xI.msg.getAppPrice.handler(t.data,r)}return!0};const _I={listener:{handler:SI},init:{handler:function(){chrome.runtime.onMessage.addListener(SI),chrome.runtime.onMessageExternal.addListener(SI)}}};const AI={handler:function(){try{_I.init.handler()}catch(t){}}};function TI(t){return TI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TI(t)}function LI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */LI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==TI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(TI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function kI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var II=function(){var t,e=(t=LI().mark((function t(e,r,n){return LI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Ql.msg.parseTrades.code?3:t.t0===Ql.msg.getLastTrades.code?6:t.t0===Ql.msg.tradeAccept.code?9:t.t0===Ql.msg.tradeDecline.code?12:t.t0===Ql.msg.tradeCancel.code?15:t.t0===Ql.msg.updateTradeStatus.code?18:t.t0===Ql.msg.getTradesSummary.code?21:24;break;case 3:return t.next=5,Ql.msg.parseTrades.handler(e.data);case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 24:return t.abrupt("break",25);case 6:return t.next=8,Ql.msg.getLastTrades.handler(e.data,n);case 9:return t.next=11,Ql.msg.tradeAccept.handler(e.data,n);case 12:return t.next=14,Ql.msg.tradeDecline.handler(e.data,n);case 15:return t.next=17,Ql.msg.tradeCancel.handler(e.data,n);case 18:return t.next=20,Ql.msg.updateTradeStatus.handler(e.data,n);case 21:return t.next=23,Ql.msg.getTradesSummary.handler(e.data,n);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kI(i,n,o,a,s,"next",t)}function s(t){kI(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),OI=function(){chrome.alarms.create(Ql.alarm.parseTradesFromPage.code,{delayInMinutes:2,periodInMinutes:2}),chrome.alarms.create(Ql.alarm.parseTradesFromApi.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Ql.alarm.clearRequestLimit.code,{delayInMinutes:0,periodInMinutes:10})},NI=function(t){switch(t.name){case Ql.alarm.parseTradesFromPage.code:Ql.alarm.parseTradesFromPage.handler();break;case Ql.alarm.parseTradesFromApi.code:Ql.alarm.parseTradesFromApi.handler();break;case Ql.alarm.clearRequestLimit.code:Ql.alarm.clearRequestLimit.handler()}};const PI={listener:{handler:II},init:{handler:function(){chrome.runtime.onMessage.addListener(II),chrome.runtime.onMessageExternal.addListener(II)}}},CI={createAlarms:{handler:OI},listener:{handler:NI},init:{handler:function(){OI(),chrome.alarms.onAlarm.addListener(NI)}}};const DI={handler:function(){try{CI.init.handler(),PI.init.handler()}catch(t){}}};function RI(t){return RI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RI(t)}function FI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VI(n.key),n)}}function jI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||MI(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BI(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=MI(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function MI(t,e){if(t){if("string"==typeof t)return GI(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GI(t,e):void 0}}function GI(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function HI(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?UI(Object(r),!0).forEach((function(e){qI(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qI(t,e,r){return(e=VI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VI(t){var e=function(t,e){if("object"!=RI(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=RI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RI(e)?e:e+""}function KI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */KI=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(N([])));x&&x!==r&&n.call(x,a)&&(w=x);var S=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==RI(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=f;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(RI(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function YI(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function WI(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){YI(i,n,o,a,s,"next",t)}function s(t){YI(i,n,o,a,s,"throw",t)}a(void 0)}))}}var zI=/var processURL = '(.+)';/,XI=(new Map,{tf2:null,exchangerate:null}),$I=null,JI={lastParsing:null,holdTs:null},QI=null,ZI=18e5,tO=6e4,eO=[{wearFull:"Factory New",wearShort:"FN"},{wearFull:"Minimal Wea",wearShort:"MW"},{wearFull:"Field-Tested",wearShort:"FT"},{wearFull:"Well-Worn",wearShort:"WW"},{wearFull:"Battle-Scarred",wearShort:"BS"}],rO="",nO=null,oO=Is(""),iO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=e.data,t.prev=1,t.next=4,Bs.Ay.apiRequest({url:n,data:o});case 4:i=t.sent,r({success:!0,data:i}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}(),aO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=e.data,t.prev=1,t.next=4,Bs.Ay.apiRequest({url:n,data:o});case 4:i=t.sent,r({success:!0,data:i}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0,r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}(),sO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/priceoverview/"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),cO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=chrome.runtime.getManifest(),t.abrupt("return",r({success:!0,data:{version:n.version}}));case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,r){return t.apply(this,arguments)}}(),uO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"https://steamcommunity.com/market/search/render/",data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),lO=function(){var t=WI(KI().mark((function t(e,r){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",r({success:!1}));case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,r){return t.apply(this,arguments)}}(),hO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.j7,"/steam/marketplace/banners/feedback"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),fO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/marketplace/banner/list"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",r({success:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),pO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.dY,"/badges"),method:"GET",data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),dO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.dY,"/cards/calculate"),method:"POST",data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),yO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u,l;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.steamUserId,e.appId,o=e.count,i=e.startAssetId,s=(a=void 0===i?null:i)?"&start_assetid="+a:"",t.prev=2,t.next=5,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(n,"/")});case 5:return c=t.sent,u=Ps.A.Profile.originalProfileUrl(c,["originalProfileUrl"]),t.next=9,y.w.setLocal({CURRENT_PARSING_USER_URL:u});case 9:return t.next=11,Bs.Ay.apiRequest({url:"https://steamcommunity.com/inventory/".concat(n,"/753/6?l=english").concat(s,"&count=").concat(o),method:"GET",xhrFields:{withCredentials:!0}});case 11:l=t.sent,r(l),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,r){return t.apply(this,arguments)}}(),vO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/skinsGiveaway"),data:e});case 3:n=t.sent,r({success:!0,data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),mO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d,y,v,m,g,b,w;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,o=void 0!==n&&n,i=e.itemUrl,a=void 0!==i&&i,s=e.appId,c=e.itemName,u=e.start,l=void 0===u?0:u,h=e.count,f=void 0===h?1:h,p=e.lang,d=void 0===p?"english":p,y=e.currency,v=void 0===y?3:y,m=e.format,g=void 0===m?"json":m,t.prev=1,b=a?"".concat(a,"/render?start=0&count=1&currency=3&language=english&format=json"):o||"https://steamcommunity.com/market/listings/".concat(s,"/").concat(c,"/render?start=").concat(l,"&count=").concat(f,"&currency=").concat(v,"&language=").concat(d,"&format=").concat(g),t.next=5,Bs.Ay.apiRequest({url:b,method:"GET"});case 5:w=t.sent,r(w),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({success:!1});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}(),gO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/extprices/"),data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),bO=function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,XI.tf2&&!(Date.now()-XI.tf2.ts>ZI)){t.next=8;break}return t.next=4,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/extprices/tf2")});case 4:(r=t.sent)&&r.success?(XI.tf2={data:r.data,ts:Date.now()},e&&e({success:!0,prices:XI.tf2.data})):e({success:!1}),t.next=9;break;case 8:e&&e({success:!0,prices:XI.tf2.data});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e({success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),wO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"string"!=typeof e){t.next=8;break}return t.next=4,Bs.Ay.apiRequest({url:"".concat(Bs.j7,"/steam/extprices/csgobackpack/").concat(e)});case 4:n=t.sent,r(n),t.next=12;break;case 8:o=e.providerCode,i=e.appid,a=e.ccode,s=e.items,c=XI.exchangerate.data.rates[a],u=0,gO({market:o,appid:i},(function(t){s.forEach((function(e){var r=0;if("steamlvlup"===o){var n=e.isFoil?t.prices[e.marketFeeApp].pf:t.prices[e.marketFeeApp].p;r=n?Math.round(n*c)/1e3:0}else if("steamlvlupgems"===o){r=1*(e.isFoil?t.prices[e.marketFeeApp].pf:t.prices[e.marketFeeApp].p)}else{var i=t.prices[e];r=i?Math.round(i*c*100)/100:0}u+=r})),r({success:!0,amount:u})}));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),r({success:!1});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}(),EO=function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(XI.exchangerate&&!(Date.now()-XI.exchangerate.data.ts>36e5)){t.next=13;break}return t.prev=1,t.next=4,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.C$,"/rates"),data:{base:"USD"}});case 4:(r=t.sent).success?(XI.exchangerate={data:r.data},e&&e({success:!0,rates:XI.exchangerate.data})):e({success:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({success:!1});case 11:t.next=14;break;case 13:e({success:!0,rates:XI.exchangerate.data});case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),xO=function(){var t=WI(KI().mark((function t(e,r){var n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({bookmarks:{}});case 3:return n=t.sent,o=n.bookmarks,Object.assign(o,e),t.next=8,y.w.setLocal({bookmarks:o});case 8:r(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}(),SO=function(){var t=WI(KI().mark((function t(e,r){var n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.getLocal({bookmarks:{}});case 3:return n=t.sent,delete(o=n.bookmarks)[e.hashmarket],t.next=10,y.w.setLocal({bookmarks:o});case 10:r(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}(),_O=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.tabs.create({url:e.url});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),AO=function(){var t=WI(KI().mark((function t(e){var r,n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ru.getProfile();case 2:r=t.sent.data,n=Ps.A.Profile.parse(r,["steamId","isLoginPage"]),o=n.steamId,i=n.isLoginPage,r&&!i?(o||e({success:!1}),e({success:!0,steamId:o})):e({success:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),TO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({url:"".concat(Bs.C$,"/rates"),data:e});case 3:return n=t.sent,t.abrupt("return",r(n));case 7:return t.prev=7,t.t0=t.catch(0),t.t0,t.abrupt("return",r({success:!1}));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),LO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=fl.A.getCurrencyIdByCode(e.strCode),t.next=4,y.w.set({currency:n});case 4:return t.next=6,y.w.set({currency_code:e.strCode});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0;case 11:return t.prev=11,r(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,r){return t.apply(this,arguments)}}(),kO=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,Cu();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),IO=function(){var t=WI(KI().mark((function t(){var e,r,n,o=arguments;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:function(){},t.prev=1,t.next=4,vN();case 4:return t.next=6,ic.getUserAuth();case 6:if((r=t.sent)&&(r.success||r.errorStatus)){t.next=23;break}return t.next=10,y.w.getLocal("userInfo");case 10:if(n=t.sent,!n.userInfo.authorization){t.next=20;break}return t.next=15,ic.sihAppAuthViaSteam(r&&r.success);case 15:return t.next=17,y.w.set({sih_app_account:!0});case 17:e({success:!0}),t.next=21;break;case 20:e({success:!1,steamAuth:!1});case 21:t.next=24;break;case 23:e({success:!0});case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(1),t.t0;case 29:case"end":return t.stop()}}),t,null,[[1,26]])})));return function(){return t.apply(this,arguments)}}(),OO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=14;break}if(!e.pathname||!e.markets.length){t.next=12;break}if("inventory"!==e.pathname){t.next=9;break}return t.next=6,y.w.set({user_sort_market_inventory:e.markets});case 6:r(),t.next=12;break;case 9:return t.next=11,y.w.set({user_sort_market_listing:e.markets});case 11:r();case 12:t.next=42;break;case 14:return t.next=16,y.w.get("user_sort_market_listing");case 16:return n=t.sent,o=n.user_sort_market_listing,t.next=20,y.w.get("user_sort_market_inventory");case 20:if(i=t.sent,a=i.user_sort_market_inventory,o){t.next=27;break}return t.next=25,y.w.set({user_sort_market_listing:Ns.Ww});case 25:t.next=32;break;case 27:return t.next=29,NO(o);case 29:return s=t.sent,t.next=32,y.w.set({user_sort_market_listing:s});case 32:if(a){t.next=37;break}return t.next=35,y.w.set({user_sort_market_inventory:Ns.Ww});case 35:t.next=42;break;case 37:return t.next=39,NO(a);case 39:return c=t.sent,t.next=42,y.w.set({user_sort_market_inventory:c});case 42:t.next=47;break;case 44:t.prev=44,t.t0=t.catch(0),t.t0;case 47:case"end":return t.stop()}}),t,null,[[0,44]])})));return function(e,r){return t.apply(this,arguments)}}(),NO=function(){var t=WI(KI().mark((function t(e){var r,n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return t.name})),n=Ns.Ww.map((function(t){return t.name})),e.forEach((function(t,r){n.includes(t.name)||e.splice(r,1)})),Ns.Ww.forEach((function(t,n){if(!r.includes(t.name)){var o,i=Ns.Ww[n-1],a=Ns.Ww[n+1];if(i&&a){var s=e.find((function(t){return t.name===i.name})),c=e.find((function(t){return t.name===a.name}));s.isActive?c.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:(o=e.findIndex((function(t){return t.name===c.name})),o--):o=e.findIndex((function(t){return t.name===s.name}))}if(i&&!a){var u=e.find((function(t){return t.name===i.name}));u.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:o=e.findIndex((function(t){return t.name===u.name}))}if(!i&&a){var l=e.find((function(t){return t.name===a.name}));l.isActive?(o=e.findIndex((function(t){return!t.isActive})))>-1?o--:o=Ns.Ww.length-2:(o=e.findIndex((function(t){return t.name===l.name})),o--)}e.splice(o+1,0,t)}})),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),PO=function(){var t=WI(KI().mark((function t(e,r){var n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://steamcommunity.com/market/itemordershistogram*",t.prev=1,t.next=4,CO(e,n);case 4:return t.next=6,Bs.Ay.apiRequest({url:"https://steamcommunity.com/market/itemordershistogram",method:"GET",data:{country:e.g_strCountryCode,language:e.steamLang,currency:e.g_rgWalletInfo&&e.g_rgWalletInfo.wallet_currency?e.g_rgWalletInfo.wallet_currency:1,item_nameid:e.nameid,two_factor:0},crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:return o=t.sent,t.next=9,Sl.removeRule(n);case 9:r(o||{success:!1}),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(1),t.t0,t.next=17,Sl.removeRule(n);case 17:r({success:!1});case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}(),CO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,o=e.encodedName,t.next=3,Sl.generateDynamicRuleId(r);case 3:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Referer",operation:"set",value:"https://steamcommunity.com/market/listings/".concat(n,"/").concat(o)}]},t.t2={urlFilter:r},i={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=9,Sl.setRule(i);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),DO=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ZO();case 3:return t.next=5,eN();case 5:return t.next=7,$O();case 7:return t.next=9,e({success:!0});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),RO=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.storage.sync.get((function(t){t.simplyinvent=e,chrome.storage.sync.set({simplyinvent:t.simplyinvent})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),FO=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.set(qI({},"".concat(Object.keys(e)[0]),Object.values(e)[0]));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),jO=function(){var t=WI(KI().mark((function t(e){var r,n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get({sih_app_token:""});case 2:r=t.sent,n=r.sih_app_token,e(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),BO=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=["730","570","440","252490"],r=["steamLiveSell"],t.next=5,y.w.getLocal("bookmarks");case 5:return n=t.sent,o=n.bookmarks,t.next=9,y.w.get("currency");case 9:return i=t.sent,a=i.currency,t.next=13,y.w.get("steamCurrency");case 13:if(s=t.sent,c=s.steamCurrency,u=a||c.eCurrencyCode||1,l={},!(o&&Object.keys(o).length>=1)){t.next=31;break}for(h in o)f=o[h],p=f.marketHashName,d=f.appid,0!==Object.keys(l).length&&l[d]?l[d]=Object.assign(l[d],qI({},h,{marketHashName:p})):l[d]=Object.assign({},qI({},h,{marketHashName:p}));t.t0=KI().keys(l);case 20:if((t.t1=t.t0()).done){t.next=29;break}if(v=t.t1.value,m=[],e.includes(v))for(g in l[v])b=l[v][g].marketHashName,m.push(b);return w={appId:v,currency:1,items:m,markets:r},t.next=27,UO(w,function(){var t=WI(KI().mark((function t(e){var r,n,i,a,s,c,l;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.success){t.next=15;break}t.t0=KI().keys(o);case 2:if((t.t1=t.t0()).done){t.next=13;break}if(r=t.t1.value,n=o[r].marketHashName,!e.items[n]){t.next=11;break}return c=(null==e||null===(i=e.items)||void 0===i||null===(a=i[n])||void 0===a||null===(s=a.steamLiveSell)||void 0===s?void 0:s.price)||0,t.next=9,nN(c,u);case 9:(l=t.sent).price>=0&&(o[r].price=l);case 11:t.next=2;break;case 13:return t.next=15,y.w.setLocal({bookmarks:o});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 27:t.next=20;break;case 29:t.next=33;break;case 31:return t.next=33,y.w.setLocal({bookmarks:{}});case 33:t.next=38;break;case 35:t.prev=35,t.t2=t.catch(0),t.t2;case 38:case"end":return t.stop()}}),t,null,[[0,35]])})));return function(){return t.apply(this,arguments)}}(),MO=function(){var t=WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.storage.onChanged.addListener(function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,x,S,_,A,T,L,k,I,O,N,P,C,D,R,F,j,B,M,G,U;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.currency)){t.next=138;break}return o=n.newValue,i=n.oldValue,t.next=5,y.w.get("steamCurrency");case 5:return a=t.sent,s=a.steamCurrency,c=o||(s?s.eCurrencyCode:1),u=i||(s?s.eCurrencyCode:1),t.next=11,y.w.getLocal("userCurrentBalance");case 11:if(l=t.sent,!(h=l.userCurrentBalance)){t.next=28;break}if(c!==s.eCurrencyCode){t.next=23;break}return t.next=17,y.w.getLocal("defaultUserCurrentBalance");case 17:return f=t.sent,p=f.defaultUserCurrentBalance,t.next=21,y.w.setLocal({userCurrentBalance:p});case 21:t.next=28;break;case 23:return t.next=25,nN(+h.price,c,u);case 25:return d=t.sent,t.next=28,y.w.setLocal({userCurrentBalance:d});case 28:return t.next=30,y.w.getLocal("bookmarks");case 30:if(v=t.sent,!(m=v.bookmarks)){t.next=43;break}t.t0=KI().keys(m);case 34:if((t.t1=t.t0()).done){t.next=41;break}return g=t.t1.value,t.next=38,nN(+m[g].price.price,c,u);case 38:m[g].price=t.sent,t.next=34;break;case 41:return t.next=43,y.w.setLocal({bookmarks:m});case 43:return t.next=45,y.w.getLocal("inventoryPrice");case 45:if(b=t.sent,!(w=b.inventoryPrice)){t.next=59;break}t.t2=KI().keys(w);case 49:if((t.t3=t.t2()).done){t.next=57;break}return E=t.t3.value,t.next=53,nN(+w[E].price,c,u);case 53:x=t.sent,w[E]=HI(HI({},w[E]),{},{price:x.price,code:x.code,symbol:x.symbol,symbolPosition:x.symbolPosition}),t.next=49;break;case 57:return t.next=59,y.w.setLocal({inventoryPrice:w});case 59:return t.next=61,y.w.getLocal("activeMarketLotsCoast");case 61:if(S=t.sent,!(_=S.activeMarketLotsCoast)){t.next=78;break}if(c!==s.eCurrencyCode){t.next=73;break}return t.next=67,y.w.getLocal("defaultActiveMarketLotsCoast");case 67:return A=t.sent,T=A.defaultActiveMarketLotsCoast,t.next=71,y.w.setLocal({activeMarketLotsCoast:T});case 71:t.next=78;break;case 73:return t.next=75,nN(+_.price,c,u);case 75:return L=t.sent,t.next=78,y.w.setLocal({activeMarketLotsCoast:L});case 78:return t.next=80,y.w.getLocal("tradesInfo");case 80:if(k=t.sent,!(I=k.tradesInfo)){t.next=106;break}O=BI(I),t.prev=84,O.s();case 86:if((N=O.n()).done){t.next=98;break}return P=N.value,t.next=90,nN(+P.primary.totalPrice.price,c,u);case 90:return C=t.sent,t.next=93,nN(+P.secondary.totalPrice.price,c,u);case 93:D=t.sent,P.primary.totalPrice=C,P.secondary.totalPrice=D;case 96:t.next=86;break;case 98:t.next=103;break;case 100:t.prev=100,t.t4=t.catch(84),O.e(t.t4);case 103:return t.prev=103,O.f(),t.finish(103);case 106:return t.next=108,y.w.setLocal({tradesInfo:I});case 108:return t.next=110,y.w.getLocal("tradesInfoHistory");case 110:if(R=t.sent,!(F=R.tradesInfoHistory)){t.next=138;break}j=BI(F),t.prev=114,j.s();case 116:if((B=j.n()).done){t.next=128;break}return M=B.value,t.next=120,nN(+M.primary.totalPrice.price,c,u);case 120:return G=t.sent,t.next=123,nN(+M.secondary.totalPrice.price,c,u);case 123:U=t.sent,M.primary.totalPrice=G,M.secondary.totalPrice=U;case 126:t.next=116;break;case 128:t.next=133;break;case 130:t.prev=130,t.t5=t.catch(114),j.e(t.t5);case 133:return t.prev=133,j.f(),t.finish(133);case 136:return t.next=138,y.w.setLocal({tradesInfoHistory:F});case 138:case"end":return t.stop()}}),t,null,[[84,100,103,106],[114,130,133,136]])})));return function(e,r){return t.apply(this,arguments)}}())}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),GO=function(){var t=WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.storage.onChanged.addListener(function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.currency)){t.next=14;break}return o=n.newValue,i=n.oldValue,t.next=5,y.w.get("steamCurrency");case 5:if(a=t.sent,s=a.steamCurrency,c=o||(s?s.eCurrencyCode:1),u=i||(s?s.eCurrencyCode:1),c===u){t.next=14;break}return t.next=12,XT.getGlobalRates();case 12:return t.next=14,XT.getSteamRates();case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}catch(t){}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),UO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,EE.getPrices(e);case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),HO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.w.get({sih_app_jwt:{}});case 3:return n=t.sent,o=n.sih_app_jwt,t.next=7,Bs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(o).length?o.token:""},method:"GET",url:"https://items.steaminventoryhelper.com/items/v2/730/weapons/".concat(e.hashName)});case 7:i=t.sent,r(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({success:!1});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}(),qO=function(t,e){return{csgofast:{to:{img:"/assets/csgofast/mini/155x55_".concat(e,".gif"),href:"https://t.sih-db.com/promo?subid1=trade_window&subid2=csgofast".concat(e>1?e:""),key:"CSGOFAST",title:"CSGOFAST",partner:"csgofast",ignore:!1}}}},VO=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?t[Math.round(100*Math.random())%t.length]:null},KO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=!0,t.next=4,wA.msg.checkSubscribeForBlockAds.handler((function(t){t.success&&(n=!1),n&&S().then((function(t){var n=e.partner,o=e.place,i=(""!==t.lang?t.lang:x(),Math.round(-1*Math.random()+2)),a=qO(0,i)[n][o];Array.isArray(a)&&(a=VO(a)),a.img=chrome.runtime.getURL(a.img),r({success:!0,data:a})}))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r({success:!1});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}(),YO=function(){var t=WI(KI().mark((function t(e,r,n){var o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.getPlayerItems(e,r);case 3:o=t.sent,n(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n){return t.apply(this,arguments)}}(),WO=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.getPlayerBans(e);case 3:n=t.sent,r({success:!Bs.Ay.isEmpty(n),data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),zO=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c,u,l,h;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.link,o=e.isForce,i=void 0!==o&&o,t.prev=1,a={url:decodeURIComponent(n)},s=chrome.runtime.getManifest(),c=s.version,t.next=6,y.w.get({sih_app_jwt:{}});case 6:return u=t.sent,l=u.sih_app_jwt,i&&(a.force=Math.random()),t.next=11,Bs.Ay.apiRequest({headers:{"x-sih-token":Object.keys(l).length?l.token:"","x-sih-version":c},method:"GET",url:"https://floats.steaminventoryhelper.com",data:a});case 11:h=t.sent,r(h),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),r({success:!1});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}(),XO=function(){var t=WI(KI().mark((function t(e,r,n,o){var i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(e,"/inventory/json/").concat(r,"/").concat(n,"?i=4")});case 4:i=t.sent,o(i),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),o({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),$O=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g=arguments;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.length>0&&void 0!==g[0]?g[0]:null,r=g.length>1?g[1]:void 0,t.prev=2,t.next=5,ru.getProfile();case 5:if(n=t.sent.data,o=Bs.Ay.getSteamID(n),i=[],a={},s=["730","570","440","252490","753"],c=[],u={},e){t.next=29;break}if(null!==$I&&QI===o&&JI.lastParsing&&!(Date.now()-JI.lastParsing>=ZI)){t.next=19;break}return QI=o,t.next=17,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/"+o+"/inventory/"});case 17:$I=t.sent,JI.lastParsing=Date.now();case 19:return t.next=21,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/profiles/".concat(o,"/")});case 21:return l=t.sent,h=Ps.A.Profile.originalProfileUrl(l,["originalProfileUrl"]),t.next=25,y.w.setLocal({CURRENT_PARSING_USER_URL:h});case 25:f=oO($I).find("#games_list_public"),oO(f).find("a").each((function(t,e){var r=oO(e).attr("href").replace(/#/g,"").trim();i.push(r);var n=oO(e).find(".games_list_tab_name").text(),o=JO(n,r),s=oO(e).find(".games_list_tab_icon.item_desc_game_icon img").attr("src");a[r]={name:o,icon:s}})),t.next=30;break;case 29:i.push(e.activeAppID);case 30:s.forEach((function(t){i.includes(t)&&c.push(t)})),p=KI().mark((function t(){var n,i,s,l,h,f,p,m,g,b,w;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v[d],i=[],s="",e){t.next=9;break}return t.next=6,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/"+o+"/"+n+"/".concat("753"===n?"6":"2","?l=english&count=2000"),crossDomain:!0,xhrFields:{withCredentials:!0}});case 6:l=t.sent,t.next=10;break;case 9:l=e[n];case 10:if(l.descriptions.forEach((function(t,e){i.push(t.market_hash_name)})),!l.last_assetid){t.next=26;break}s=l.last_assetid,h=Math.ceil(l.total_inventory_count/2e3),h--,f=0;case 16:if(!(f<h)){t.next=26;break}return t.next=19,Bs.Ay.apiRequest({headers:{"x-requested-with":"XMLHttpRequest"},method:"GET",url:"https://steamcommunity.com/inventory/"+o+"/"+n+"/2?l=russian&count=2000&start_assetid=".concat(s),crossDomain:!0,xhrFields:{withCredentials:!0}});case 19:p=t.sent,oO(p.assets).each((function(t,e){l.assets.push(e)})),oO(p.descriptions).each((function(t,e){i.includes(e.market_hash_name)||(l.descriptions.push(e),i.push(e.market_hash_name))})),s=p.last_assetid;case 23:f++,t.next=16;break;case 26:t.t0=n,t.next="730"===t.t0?29:"440"===t.t0?31:"570"===t.t0?33:"252490"===t.t0?35:"753"===t.t0?37:39;break;case 29:return m=["steamLiveSell","csgocom","skinport","dmarket","bitskins","buff163","mannco"],t.abrupt("break",40);case 31:return m=["steamLiveSell","skinport","bitskins","dmarket","mannco"],t.abrupt("break",40);case 33:return m=["steamLiveSell","csgocom","skinport","dmarket","bitskins","mannco"],t.abrupt("break",40);case 35:return m=["steamLiveSell","dmarket","skinport","mannco"],t.abrupt("break",40);case 37:return m=["steamLiveSell"],t.abrupt("break",40);case 39:m=["steamLiveSell"];case 40:if(g={appId:n,currency:1,items:i,markets:m},e&&e.steamid===QI){t.next=49;break}if("753"!==n){t.next=45;break}return t.next=45,QO(l.assets);case 45:return t.next=47,UO(g,function(){var t=WI(KI().mark((function t(o){var i,s,h,f,p,d,v;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o||!o.success){t.next=23;break}return i=0,oO(l.assets).each((function(t,r){oO(l.descriptions).each((function(t,a){if(r.classid===a.classid&&n&&o.items[a.market_hash_name]){r.classid=null;for(var s=0;s<m.length;s++)if(o.items[a.market_hash_name][m[s]]){var c=o.items[a.market_hash_name][m[s]].price;if(c&&c>=0){if(!(l.success||e&&(e.selfInventory||"570"===n))){i+=c;break}if(a.owner_descriptions||a.marketable||a.tradable){i+=c;break}}}}}))})),t.next=5,y.w.get("steamCurrency");case 5:return s=t.sent,h=s.steamCurrency,t.next=9,y.w.get("currency");case 9:return f=t.sent,p=f.currency,d=p||h.eCurrencyCode||1,t.next=14,nN(i,d);case 14:if(v=t.sent,u[n]={price:v.price,code:v.code,symbol:v.symbol,symbolPosition:v.symbolPosition,total_inventory_count:l.total_inventory_count,info:a[n]},c.length!==Object.keys(u).length){t.next=23;break}if(e){t.next=22;break}return t.next=20,y.w.setLocal({inventoryPrice:u});case 20:t.next=23;break;case 22:r(u);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 47:t.next=54;break;case 49:return t.next=51,y.w.getLocal("inventoryPrice");case 51:b=t.sent,w=b.inventoryPrice,r(w);case 54:case"end":return t.stop()}}),t)})),d=0,v=c;case 33:if(!(d<v.length)){t.next=38;break}return t.delegateYield(p(),"t0",35);case 35:d++,t.next=33;break;case 38:t.next=45;break;case 40:t.prev=40,t.t1=t.catch(2),console.error(t.t1),(429===(m=t.t1.status)||m>=500)&&(JI.holdTs=Date.now()+288e5);case 45:case"end":return t.stop()}}),t,null,[[2,40]])})));return function(){return t.apply(this,arguments)}}(),JO=function(t,e){switch(e){case"730":t="CS2";break;case"578080":t="PUBG";break;case"440":t="TF2"}return t},QO=function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.reduce((function(t,e){return"667924416"===e.classid&&(t+=+e.amount),t}),0),t.next=3,y.w.setLocal({userGemsCount:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ZO=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(e=t.sent.data,r=Bs.Ay.getSteamID(e),null!==$I&&QI===r||JI.lastParsing&&!(Date.now()-JI.lastParsing>=tO)||JI.holdTs&&!(Date.now()>JI.holdTs)){t.next=11;break}return QI=r,t.next=9,Bs.Ay.sendRequest({url:"https://steamcommunity.com/profiles/".concat(r,"/inventory/"),method:"GET"});case 9:$I=t.sent,JI.lastParsing=Date.now();case 11:return t.next=13,y.w.get("currency");case 13:return n=t.sent,o=n.currency,t.next=17,y.w.get("steamCurrency");case 17:return i=t.sent,a=i.steamCurrency,s=o||a.eCurrencyCode||1,c=Bs.Ay.getSteamBalance($I),t.next=23,nN(c,a.eCurrencyCode,a.eCurrencyCode);case 23:return u=t.sent,t.next=26,y.w.setLocal({defaultUserCurrentBalance:u});case 26:return t.next=28,nN(c,s,a.eCurrencyCode);case 28:return l=t.sent,t.next=31,y.w.setLocal({userCurrentBalance:l});case 31:t.next=38;break;case 33:t.prev=33,t.t0=t.catch(0),(429===(h=t.t0.status)||h>=500)&&(JI.holdTs=Date.now()+288e5),t.t0;case 38:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}(),tN=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i=arguments;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:0,t.prev=1,r=100,t.next=5,Bs.Ay.apiRequest({method:"GET",url:"https://steamcommunity.com/market/mylistings",data:{start:e,count:r}});case 5:if(!(n=t.sent).success){t.next=18;break}if(o=n.total_count,rO+=n.results_html,!(e<1e3&&o>e+r)){t.next=16;break}return t.next=12,(0,Bs.yy)(2e3);case 12:return t.next=14,tN(e+r);case 14:t.next=18;break;case 16:nO=oO(oO.parseHTML("<div>".concat(rO,"</div>"))).find('#tabContentsMyActiveMarketListingsTable .market_listing_row[id^="mylisting_"]'),rO="";case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(1),t.t0,rO="",nO=null;case 25:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),eN=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a,s,c,u;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=0,r=RegExp(/([\d+?., ]+\d)/g),rO="",t.next=6,tN();case 6:if(nO){t.next=8;break}return t.abrupt("return");case 8:return oO(nO).find(".market_listing_price").children("span").each((function(t,n){var o=oO(n).find("span:last").text(),i=Number(o.match(r)[0].replace(/,/,".").replace(/ /,"").trim());isNaN(i)||(e+=i)})),nO=null,t.next=12,y.w.get("steamCurrency");case 12:return n=t.sent,o=n.steamCurrency,t.next=16,y.w.get("currency");case 16:return i=t.sent,a=i.currency,s=a||o.eCurrencyCode||1,t.next=21,nN(Number(e),o.eCurrencyCode,o.eCurrencyCode);case 21:return c=t.sent,t.next=24,y.w.setLocal({defaultActiveMarketLotsCoast:c});case 24:return t.next=26,nN(Number(e),s,o.eCurrencyCode);case 26:return u=t.sent,t.next=29,y.w.setLocal({activeMarketLotsCoast:u});case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),t.t0;case 34:case"end":return t.stop()}}),t,null,[[0,31]])})));return function(){return t.apply(this,arguments)}}(),rN=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(e=t.sent.data,r=Bs.Ay.getSteamID(e),null!==$I&&QI===r||JI.lastParsing&&!(Date.now()-JI.lastParsing>=tO)||JI.holdTs&&!(Date.now()>JI.holdTs)){t.next=11;break}return QI=r,t.next=9,Bs.Ay.sendRequest({url:"https://steamcommunity.com/profiles/".concat(r,"/inventory/"),method:"GET"});case 9:$I=t.sent,JI.lastParsing=Date.now();case 11:return n=Bs.Ay.getSteamCurrencyNumber($I),o=fl.A.getCurrency(n),i=o.bSymbolIsPrefix?"before":"after",t.next=16,y.w.set({steamCurrency:{strCode:o.strCode,eCurrencyCode:o.eCurrencyCode,strSymbol:o.strSymbol,symbolPosition:i}});case 16:return t.abrupt("return",o);case 19:return t.prev=19,t.t0=t.catch(0),(429===(a=t.t0.status)||a>=500)&&(JI.holdTs=Date.now()+288e5),t.t0,t.abrupt("return",{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""});case 25:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(){return t.apply(this,arguments)}}(),nN=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(n,o){fl.A.getPriceFromCurrency(t,e,r).then((function(t){if(t.price>=0){var e={price:t.price.toFixed(2),code:t.code,symbol:t.symbol,symbolPosition:t.symbolPosition};n(e)}}))}))},oN=function(t){t.apikey&&t.apikey.length},iN=function(){var t=WI(KI().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bs.Ay.sendRequest({method:"GET",url:"https://steamcommunity.com/market/myhistory?count=500&start=0"});case 2:return e=t.sent,r=[],n=[],o=null,i=null,a=null,s=0,c=[],t.next=12,y.w.get("steamCurrency");case 12:u=t.sent,l=u.steamCurrency,h=e.hovers.replace(/[\t\n]/g,"").split(";"),e.results_html&&(oO(e.results_html).find(".market_listing_row").each((function(t,u){var f=oO(u).find(".market_listing_item_name").attr("id");if(!f.includes("_event_")&&s<10){s++;var p=oO(u).find(".market_listing_item_img").attr("src"),d=oO(u).find(".market_listing_item_name").text(),y=oO(u).find(".market_listing_game_name").text(),v=oO(u).find(".market_listing_gainorloss").text().replace(/[\t\n]/g,""),m=oO(u).find(".playerAvatar").children().children().attr("src"),g=oO(u).find(".market_listing_price").text();g&&(g=g.match(/([\d+?., ]+\d)/g))&&g[0].includes(",")&&(g=g[0].replace(/,/,".").replace(/ /,"").trim());var b=oO(u).find(".market_listing_whoactedwith_name_block").text(),w=null,E=h.filter((function(t){return t.includes(f)}));if(E.length){var x=E[0].split(",")[2].replace(/['\s]/g,""),S=E[0].split(",")[3].replace(/['\s]/g,""),_=E[0].split(",")[4].replace(/['\s]/g,"");w=e.assets[x][S][_]?e.assets[x][S][_].market_hash_name:null}c.push(fl.A.getPriceFromCurrency(Number(g),l.eCurrencyCode,l.eCurrencyCode).then((function(t){oO(u).find(".market_listing_listed_date").each((function(t,e){var r=oO(e).text();r&&(r=r.replace(/[\t\n]/g,""),0===t?i=r:a=r)})),i!==o&&n.length&&n.length>0&&(r.push({date:o,items:n}),n=[]),o=i,t.price>0&&(g={price:t.price.toFixed(2),code:t.code,symbol:t.symbol,symbolPosition:t.symbolPosition},n.push({postedDate:a,name:sN(d),price:g,img:p,gameName:y,info:aN(w),type:v,participant:b,playerAvatar:m}))})))}})),Promise.all(c).then(WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s<=10&&r.length<10&&r.push({date:o,items:n}),t.next=3,y.w.setLocal({historyMarketLots:r});case 3:case"end":return t.stop()}}),t)})))));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),aN=function(t){var e=eO.filter((function(e){return t.includes(e.wearFull)})),r=t.includes("StatTrak™");return e.length?HI(HI({},e[0]),{},{name:t,stattrak:r}):null},sN=function(t){var e=t,r=eO.filter((function(t){return e.includes(t.wearFull)}));return e=r.length?e.replace(r[0].wearFull,""):e.replace(/StatTrak™/g,"")},cN=function(){var t=WI(KI().mark((function t(e,r,n,o){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"POST",url:o,data:{json:1,xml:1,action:"approvePending",itype:"friend",perform:r,id:e,sessionID:n}});case 3:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),uN=function(){var t=WI(KI().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.ignorefriend>0||e.blockfriend>0||e.privateblock||e.privateignore)){t.next=19;break}return t.next=3,Bs.Ay.sendRequest({method:"GET",url:"https:".concat(e.userUrl,"home/invites/")});case 3:for(r=t.sent,n=Bs.Ay.getSessionID(r),o=(o=zI.exec(r))?o[1]:"https:".concat(e.userUrl,"home_process"),i=[],a=e.ignoredfriends,s=e.blockedfriends,oO(r).find(".invite_row").each((function(t,r){var c=oO(r).find(".linkTitle").data("miniprofile");if(void 0!==c){var u=Gs().to64(c),l=parseInt(oO(r).find(".friendPlayerLevelNum").text(),10);e.blockfriend>l?(cN(u,"block",n,o),s+=1):e.ignorefriend>l?(cN(u,"ignore",n,o),a+=1):(e.privateblock||e.privateignore)&&i.push(u)}})),c=Math.ceil(i.length/100),u=[],l=0;l<c;l+=1)h=i.slice(100*l,100*(l+1)),u.push(Bs.Ay.getPlayerSummaries(h.join(",")));return t.next=15,Promise.all(u);case 15:f=t.sent,null!==(p=f.reduce((function(t,e){return HI(HI({},t),e)}),{}))&&Object.keys(p).forEach((function(t){var r=p[t];1===Number(r.communityvisibilitystate)&&(e.privateblock?(cN(t,"block",n,o),s+=1):(cN(t,"ignore",n,o),a+=1),y.w.set({ignoredfriends:a,blockedfriends:s}))})),y.w.set({ignoredfriends:a,blockedfriends:s});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lN=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.items[0],UO(e,function(){var t=WI(KI().mark((function t(e){var o,i,a,s,c,u,l,h,f,p;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.items[n]){t.next=21;break}return o=[],t.next=4,y.w.get("currency");case 4:i=t.sent,a=i.currency,s=0,c=Object.entries(e.items[n]);case 7:if(!(s<c.length)){t.next=18;break}if(u=jI(c[s],2),l=u[0],!(h=u[1]).price){t.next=15;break}return t.next=12,fl.A.getPriceFromCurrency(h.price,a||1,1);case 12:f=t.sent,p=f.text,o.push({name:l,price:h.price,priceText:p,count:h.count});case 15:s++,t.next=7;break;case 18:r(o),t.next=22;break;case 21:r({success:!1});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){r({success:!1})}case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),hN=function(){var t=WI(KI().mark((function t(e,r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bs.Ay.apiRequest({method:"POST",url:"".concat(Bs.zg,"/get-prices"),data:e});case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({success:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),fN=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.appId,t.prev=1,o="https://api.steaminventoryhelper.com/v2/games/kinguin/*",t.next=5,Sl.generateDynamicRuleId(o);case 5:return t.t0=t.sent,t.t1={type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"set",value:self.origin}]},t.t2={urlFilter:o},i={id:t.t0,priority:1,action:t.t1,condition:t.t2},t.next=11,Sl.setRule(i);case 11:return t.next=13,y.w.get({sih_app_jwt:{}});case 13:return a=t.sent,s=a.sih_app_jwt,t.next=17,Bs.Ay.apiRequest({method:"GET",url:"".concat(Bs.C$,"/v2/games/kinguin/prices?appId=").concat(n),headers:{"x-sih-token":Object.keys(s).length?s.token:""}});case 17:return c=t.sent,t.next=20,Sl.removeRule(o);case 20:r(c),t.next=26;break;case 23:t.prev=23,t.t3=t.catch(1),r({success:!1});case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(e,r){return t.apply(this,arguments)}}(),pN=function(){var t=WI(KI().mark((function t(e){var r,n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:r=t.sent.data,n=Ps.A.Profile.parse(r,["country"]),o=n.country,e(o?{success:!0,country:o}:{success:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),dN=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Math.random().toString(36).substr(2));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),yN=function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SL.getAccBalanceHistory();case 3:r=t.sent,e({success:!0,balanceByDate:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e({success:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),vN=function(){var t=WI(KI().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,p,d,v,m,g,b,w,E,S,_,A,T,L,k,I,O,N,P,C,D=arguments;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=D.length>1&&void 0!==D[1]?D[1]:null,n=D.length>2?D[2]:void 0,t.prev=2,t.next=5,y.w.get(Ns.Ay);case 5:if(o=t.sent,r){t.next=12;break}return t.next=9,ru.getProfile(!0);case 9:t.t0=t.sent.data,t.next=15;break;case 12:return t.next=14,ru.getProfile(!1,r);case 14:t.t0=t.sent.data;case 15:if(i=t.t0,""!==o.lang){t.next=20;break}return a=x(),t.next=20,y.w.set({lang:a});case 20:return s=Ps.A.Profile.parse(i,["steamId","isLoginPage","haveNewComments","haveNewInvites","avatarSrcArr","nickname","sessionId","webApiToken"]),c=s.steamId,u=s.isLoginPage,l=s.haveNewComments,h=s.haveNewInvites,f=s.avatarSrcArr,p=s.nickname,d=s.sessionId,v=s.webApiToken,m=Ps.A.Profile.userUrl(i,{steamId:c}),g=Ps.A.Profile.originalProfileUrl(i),t.next=25,y.w.getLocal("userInfo");case 25:if(b=t.sent,w=b.userInfo,E=m.replace(/https:/,""),o.userUrl===E&&null!==o.userUrl&&"//steamcommunity.com/my/"!==o.userUrl){t.next=31;break}return t.next=31,y.w.set({userUrl:E});case 31:if(o.originalProfileUrl===g&&o.originalProfileUrl){t.next=34;break}return t.next=34,y.w.set({originalProfileUrl:g});case 34:if(o.webApiToken&&o.webApiToken===v){t.next=37;break}return t.next=37,y.w.set({webApiToken:v});case 37:if(w&&(!c||w.steamId===c)){t.next=54;break}return t.next=40,ic.logout();case 40:return t.next=42,bN();case 42:return t.next=44,gN();case 44:return t.next=46,y.w.set({projects_permissions:{}});case 46:return t.next=48,y.w.setLocal({userInfo:{authorization:!u,frames:f.length>1?f[0]:null,avatar:f.length>1?f[1]:f[0],name:p,sessionId:d,steamId:c,ts:Date.now(),tradeLink:void 0}});case 48:return t.next=50,XT.getGlobalRates();case 50:return t.next=52,XT.getSteamRates();case 52:return t.next=54,om.restartAgent();case 54:if(!w||!c||w.steamId===c||u){t.next=57;break}return t.next=57,wN();case 57:if(!i||u){t.next=92;break}return t.next=60,y.w.getLocal("userInfo");case 60:return S=t.sent,(_=S.userInfo).authorization=!u,_.sessionId=d,t.next=66,y.w.setLocal({userInfo:_});case 66:if(void 0!==_.tradeLink){t.next=69;break}return t.next=69,ic.setTradeLinkToProfile();case 69:return t.next=71,y.w.get({sih_app_jwt:{}});case 71:return A=t.sent,T=A.sih_app_jwt,t.next=75,y.w.get({sih_app_token:""});case 75:if(L=t.sent,k=L.sih_app_token,Object.keys(T).length&&!(T.expires_ts-Date.now()<0)||!k){t.next=80;break}return t.next=80,ic.setJWTToken();case 80:return o.shownotify_comment&&l&&Fs.nofMsg(Os.A.notification.INPUT_COMMENT,"You have new comments."),o.shownotify_friend&&h&&Fs.nofMsg(Os.A.notification.INPUT_INVITE,"You have new friends invites."),t.next=84,om.updateState(!!r);case 84:if(!e){t.next=87;break}return t.next=87,e();case 87:if(!n){t.next=90;break}return t.next=90,n({success:!0});case 90:t.next=103;break;case 92:if(!u){t.next=103;break}return t.next=95,y.w.getLocal("userInfo");case 95:return I=t.sent,(O=I.userInfo).authorization=!u,t.next=100,y.w.setLocal({userInfo:O});case 100:if(!n){t.next=103;break}return t.next=103,n({success:!1});case 103:t.next=119;break;case 105:return t.prev=105,t.t1=t.catch(2),t.next=109,y.w.getLocal("userInfo");case 109:return N=t.sent,P=N.userInfo,(C=void 0===P?{}:P).authorization=!1,t.next=115,y.w.setLocal({userInfo:C});case 115:if(!n){t.next=118;break}return t.next=118,n({success:!1});case 118:console.error(t.t1);case 119:case"end":return t.stop()}}),t,null,[[2,105]])})));return function(e){return t.apply(this,arguments)}}(),mN=function(){var t=WI(KI().mark((function t(){var e,r=arguments;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:3e3;try{setTimeout(WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vN();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),e)}catch(t){}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),gN=function(){var t=WI(KI().mark((function t(){var e,r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=fl.A.getCurrency(1),r=e.bSymbolIsPrefix?"before":"after",t.next=4,y.w.set({steamCurrency:{strCode:e.strCode,eCurrencyCode:e.eCurrencyCode,strSymbol:e.strSymbol,symbolPosition:r}});case 4:return t.next=6,y.w.set({selectedCurrency:null});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),bN=function(){var t=WI(KI().mark((function t(){var e;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=["userInfo","sihversion","latestver","bookmarks","skipversion","server","sihAppUserProfile","graphdata","lastIdx","totalRows","totalminus","totalplus","INVENTORY_PARSING_INFO","AVAILABLE_CONTROLLER_LAST_NUMBER_IDS","AVAILABLE_ITEM_PAY_IDS","CACHED_TRADES_PAGE_INFO","sihAppCoreToken"].concat(["sihAdStat","activeMarketLotsCoast","userCurrentBalance","USER_INVENTORY_URL","userSteamPrice","as_steamId","sihEventReg","CURRENT_PARSING_USER_URL","userSteamPriceDelay"]),chrome.storage.local.get(null,function(){var t=WI(KI().mark((function t(r){var n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(r).filter((function(t){return!e.includes(t)})),t.next=3,chrome.storage.local.remove(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),wN=function(){var t=WI(KI().mark((function t(){var e,r,n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rN();case 3:return t.next=5,ZO();case 5:iN(),$O(),eN(),BO(),e=0,r=["tradeoffers","tradeoffers/?history=1","tradeoffers/sent","tradeoffers/sent/?history=1"];case 11:if(!(e<r.length)){t.next=18;break}return n=r[e],t.next=15,Ul.buildTradesInfoForWindow(n);case 15:e++,t.next=11;break;case 18:y.w.get(Ns.Ay).then((function(t){t.shownotify&&oN(t),uN(t)})),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(){return t.apply(this,arguments)}}(),EN=function(t,e){t.numbers,e.name,chrome.action.setBadgeText({text:t.numbers?"".concat(t.numbers):""}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"})},xN=function(t,e,r){switch(t.type){case OA.get.code:OA.get.handler(t.data,r);break;case cw.get.code:cw.get.handler(t.data,r);break;case bT.set.code:bT.set.handler(t.data,r);break;case lT.get.code:lT.get.handler(t.data,r);break;case Os.A.msg.BACKGROUND_CHECK_API_KEY:kO(r);break;case Os.A.msg.BACKGROUND_GET_STEAM_REP_BAN_INFO:iO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_PLAYER_BANS_GAINSKINS:aO(t.data,r);break;case Os.A.msg.BACKGROUND_INVENTORY_MODE:RO(t.data);break;case Os.A.msg.BACKGROUND_INVENTORY_PRICE:$O(t.data,r);break;case Os.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:case Os.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:case Os.A.msg.BACKGROUND_HIGHLIGHT_OVERPRICED:FO(t.data);break;case Os.A.msg.BACKGROUND_GET_EXTPRICES:gO(t.data,r);break;case bT.get.code:bT.get.handler(t.data,r);break;case RA.set.code:RA.set.handler(t.data);break;case Os.A.msg.BACKGROUND_GET_EXTPRICE_TF2BP:bO(r);break;case Os.A.msg.BACKGROUND_GET_STEAM_PRICES:sO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_PRICE_FROM_STEAM:uO(t.data,r);break;case Os.A.msg.BACKGROUND_SEND_MARKETPLACE_FEEDBACK:hO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_MANIFEST_APP:cO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_MARKETPLACES:fO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_PRICES_BY_MARKETPLACES:UO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_WEAPON_WEAR_MAP:HO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_STEAM_RUNES:lO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_SKINS_GIVEAWAY:vO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_INVENTORY_VALUE:wO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_INVENTORY_ITEMS:XO(t.steamid,t.appid,t.contextid,r);break;case Os.A.msg.BACKGROUND_GET_BANNER:KO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_PLAYER_ITEMS:YO(t.steamid,t.appid,r);break;case Os.A.msg.BACKGROUND_GET_PLAYER_BANS:WO(t.steamids,r);break;case Os.A.msg.BACKGROUND_GET_EXCHANGE_RATES:EO(r);break;case Km.set.code:Km.set.handler(t.data);break;case Ug.set.code:Ug.set.handler(t.data);break;case Os.A.msg.BACKGROUND_GET_WEAR_VALUE:zO(t.data,r);break;case Os.A.msg.BACKGROUND_UPDATE_BOOKMARKS:xO(t.data,r);break;case Os.A.msg.BACKGROUND_REMOVE_BOOKMARK:SO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_STEAM_PLAYER_BADGES:pO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:yO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_STEAM_BADGES:dO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_LISTING_ITEM_INFO:mO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_RATES:TO(t.data,r);break;case Os.A.msg.BACKGROUND_CHANGE_CURRENCY:LO(t.data,r);break;case Os.A.msg.BACKGROUND_OPEN_TAB_SETTINGS:_O(t.data);break;case Os.A.msg.BACKGROUND_GET_MY_STEAM_ID:AO(r);break;case Os.A.msg.BACKGROUND_UPDATE_WALLET:DO(r);break;case Os.A.msg.BACKGROUND_MANUAL_LOGIN:ru.refreshSteamLoginSecure();break;case Os.A.msg.BACKGROUND_ON_LOGOUT_STEAM_USER:mN(t.data);break;case Os.A.msg.BACKGROUND_RECONNECT_NEW_SIH_AGENT:om.restartAgent().then((function(){r()}));break;case $m.get.code:$m.get.handler(t.data,r);break;case HA.sendInstall.code:HA.sendInstall.handler(t.data,r);break;case Os.A.msg.BACKGROUND_CHECK_USER:vN(null,t.data,r);break;case Os.A.msg.BACKGROUND_UPDATE_USER_SORT_MARKET:OO(t.data,r);break;case Os.A.msg.BACKGROUND_LOGIN_SIH_APP:IO(r);break;case Os.A.msg.BACKGROUND_GET_ORDER_HISTOGRAM:PO(t.data,r);break;case Os.A.msg.BACKGROUND_GET_SIH_TOKEN:n=r,chrome.storage.sync.get({sih_token:""},(function(t){var e=t.sih_token;return n(e||FALSE)}));break;case Os.A.msg.BACKGROUND_GET_SIH_APP_TOKEN:jO(r);break;case mg.generateNewDiscoveryQueue.code:mg.generateNewDiscoveryQueue.handler(r);break;case mg.checkEventGame.code:mg.checkEventGame.handler(t.data,r);break;case Os.A.msg.BACKGROUND_GET_PRICES_FOR_EXTERNAL:lN(t.data,r);break;case Os.A.msg.BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES:hN(t.data,r);break;case Os.A.msg.BACKGROUND_GET_KINGUIN_PRODUCTS:fN(t.data,r);break;case Os.A.msg.BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE:pN(r);break;case"BACKGROUND_GET_SIH_ID":r(chrome.runtime.id);break;case"BACKGROUND_GET_EXTERNAL_TOKEN":dN(r);break;case"BACKGROUND_GET_REWARD_ITEMS":hL.getRewardsForSiteExt(t.data,r);break;case"BACKGROUND_REDEEM_POINTS":hL.redeemPointsForSiteExt(t.data,r);break;case"BACKGROUND_GET_ACC_BALANCE_HISTORY":yN(r)}var n;return!0},SN=function(){return function(t,e,r){return e&&FI(t.prototype,e),r&&FI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"refresh",value:(r=WI(KI().mark((function t(){var e,r,n,o,i,a;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.lastRefreshedAt&&Date.now()-this.lastRefreshedAt+100<this.DELAY)){t.next=3;break}return t.abrupt("return");case 3:return this.lastRefreshedAt=Date.now(),t.next=6,this.checkSteamAuthorization();case 6:return e=t.sent,r=e.success,n=e.steamId,t.next=11,y.w.getLocal("".concat(this.STEAM_ID_KEY));case 11:if(t.t0=this.STEAM_ID_KEY,o=t.sent[t.t0],i=o&&o.length,a=n&&n.length,r&&a){t.next=20;break}return t.next=18,y.w.setLocal(qI({},this.STEAM_ID_KEY,""));case 18:t.next=22;break;case 20:return t.next=22,y.w.setLocal(qI({},this.STEAM_ID_KEY,n));case 22:if(!i||(!a||n===o)&&a){t.next=27;break}return t.next=25,y.w.setLocal(qI({},this.AGENTS_STATE_CHANGED_KEY,"".concat(Date.now())));case 25:t.next=29;break;case 27:return t.next=29,chrome.storage.local.remove([this.AGENTS_STATE_CHANGED_KEY]);case 29:t.next=36;break;case 31:return t.prev=31,t.t1=t.catch(0),console.error(t.t1),t.next=36,y.w.setLocal(qI({},this.STEAM_ID_KEY,""));case 36:case"end":return t.stop()}}),t,this,[[0,31]])}))),function(){return r.apply(this,arguments)})},{key:"isEnabled",value:(e=WI(KI().mark((function t(){var e;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.getLocal("".concat(this.STEAM_ID_KEY));case 2:return t.t0=this.STEAM_ID_KEY,e=t.sent[t.t0],t.abrupt("return",!(!e||!e.length));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"restartNeeded",value:(t=WI(KI().mark((function t(){var e;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.isEnabled();case 2:if(!t.sent){t.next=10;break}return t.next=5,y.w.getLocal("".concat(this.AGENTS_STATE_CHANGED_KEY));case 5:if(t.t0=this.AGENTS_STATE_CHANGED_KEY,null!==(e=t.sent[t.t0])){t.next=9;break}return t.abrupt("return",!1);case 9:return t.abrupt("return",Date.now()-(+e||0)>=this.DELAY);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t,e,r}();qI(SN,"STEAM_ID_KEY","as_steamId"),qI(SN,"AGENTS_STATE_CHANGED_KEY","as_agentsStateChangedAt"),qI(SN,"DELAY",12e4),qI(SN,"lastRefreshedAt",void 0),qI(SN,"checkSteamAuthorization",WI(KI().mark((function t(){var e,r,n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ru.getProfile();case 3:if(e=t.sent.data,r=Ps.A.Profile.parse(e,["steamId","isLoginPage"]),n=r.steamId,o=r.isLoginPage,!e||o){t.next=9;break}if(n){t.next=8;break}return t.abrupt("return",{success:!1});case 8:return t.abrupt("return",{success:!0,steamId:n});case 9:return t.abrupt("return",!1);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))));var _N=function(){var t=WI(KI().mark((function t(e){var r,n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.name,t.t0=e.name,t.next=t.t0===Os.A.alarm.CHECK_USER?4:t.t0===Km.send.code?9:t.t0===Ug.send.code?11:t.t0===RA.send.code?13:t.t0===$A.get.code?15:t.t0===Os.A.alarm.CHECK_SIH_APP_AUTH?17:t.t0===Os.A.alarm.PING_SIH_APP_SESSION?19:t.t0===Os.A.alarm.CHECK_MARKET_TOGGLE?21:t.t0===Os.A.alarm.CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE?22:t.t0===Os.A.alarm.ACTUALIZE_AGENTS_STATE?23:t.t0===Os.A.alarm.ACTUALIZE_NEW_SIH_AGENT_STATE?24:t.t0===Os.A.alarm.CHECK_HISTORY_LOTS_MARKET?26:t.t0===Os.A.alarm.PARSING_ACTUAL_INVENTORY?28:t.t0===Os.A.alarm.CHECK_ACTUAL_BALANCE?30:t.t0===Os.A.alarm.CHECK_ACTIVE_LOTS_MARKET?32:t.t0===Os.A.alarm.GET_STEAM_CURRENCY?34:t.t0===Os.A.alarm.UPDATE_PRICE_BOOKMARKS?36:t.t0===Q_.alarm.createBuyOrder.code?38:t.t0===Q_.alarm.updateOrdersHistory.code?40:t.t0===wA.alarm.updateSubscribeAdsPlansAndMethods.code?42:t.t0===Os.A.alarm.BACKGROUND_CHECK_SIH_VERSION?44:"BACKGROUND_CHECK_MARKETAPP_EXTENSION"===t.t0?46:"BACKGROUND_SCAN_FREE_REWARDS_ITEMS"===t.t0?52:54;break;case 4:return t.next=6,ru.getProfile();case 6:return r=t.sent.ts,Date.now()-r>=tO&&vN(),t.abrupt("break",56);case 9:return Km.send.handler(),t.abrupt("break",56);case 11:return Ug.send.handler(),t.abrupt("break",56);case 13:return RA.send.handler(),t.abrupt("break",56);case 15:return $A.get.handler(),t.abrupt("break",56);case 17:return y.w.getLocal("userInfo").then(function(){var t=WI(KI().mark((function t(e){var r,n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.userInfo.authorization){t.next=13;break}return t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(r=t.sent,!(n=r.sihAppUserProfile)||!n.success){t.next=13;break}return t.next=9,ic.getUserAuth();case 9:if(!(o=t.sent)||o.success||o.errorStatus){t.next=13;break}return t.next=13,ic.sihAppAuthViaSteam(o.success);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",56);case 19:return y.w.getLocal("userInfo").then(function(){var t=WI(KI().mark((function t(e){var r,n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.userInfo.authorization){t.next=9;break}return t.next=4,y.w.getLocal("sihAppUserProfile");case 4:if(r=t.sent,!(n=r.sihAppUserProfile)||!n.success){t.next=9;break}return t.next=9,ic.pingUser();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",56);case 21:case 22:case 23:return t.abrupt("break",56);case 24:return y.w.getLocal({userInfo:{}}).then(function(){var t=WI(KI().mark((function t(e){var r,n,o,i;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userInfo,t.next=3,y.w.getLocal({AVAILABLE_CONTROLLER_LAST_NUMBER_IDS:[]});case 3:if(n=t.sent,o=n.AVAILABLE_CONTROLLER_LAST_NUMBER_IDS,i=r&&r.steamId?+r.steamId[r.steamId.length-1]:null,!o.includes(i)){t.next=9;break}return t.next=9,y.w.set({sih_app_market_toggle:!0});case 9:return t.next=11,om.updateState();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",56);case 26:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&iN()})),t.abrupt("break",56);case 28:return y.w.getLocal("userInfo").then(function(){var t=WI(KI().mark((function t(e){var r,n,o;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userInfo,t.next=3,y.w.getLocal({INVENTORY_PARSING_INFO:null});case 3:n=t.sent,(!(o=n.INVENTORY_PARSING_INFO)||o&&!o.isAFK)&&r.authorization&&$O();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",56);case 30:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&ZO()})),t.abrupt("break",56);case 32:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&eN()})),t.abrupt("break",56);case 34:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&rN()})),t.abrupt("break",56);case 36:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&BO()})),t.abrupt("break",56);case 38:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&Q_.alarm.createBuyOrder.handler()})),t.abrupt("break",56);case 40:return Q_.alarm.updateOrdersHistory.handler().then(function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e||!e.success){t.next=8;break}if(!(r=e.orders.data.filter((function(t){return"sent"===t.status})))||!r.length){t.next=8;break}return t.next=6,Ul.parseTrades("tradeoffers",!0);case 6:return t.next=8,Ul.buildTradesInfoForWindow("tradeoffers");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",56);case 42:return y.w.getLocal("userInfo").then((function(t){t.userInfo.authorization&&wA.alarm.updateSubscribeAdsPlansAndMethods.handler()})),t.abrupt("break",56);case 44:return chrome.runtime.requestUpdateCheck((function(t,e){switch(t){case"update_available":y.w.setLocal({needUpdateSIH:!0});break;case"no_update":y.w.setLocal({needUpdateSIH:!1})}})),t.abrupt("break",56);case 46:return t.next=48,y.w.get("marketAppExtension");case 48:return n=t.sent,(o=n.marketAppExtension)&&o.informed||chrome.management.getAll((function(t){t.forEach((function(t){"pbeheebcldakpkohnellphloljkaanfa"===t.id&&t.enabled&&(y.w.set({marketAppExtension:{enabled:!0}}),chrome.action.setBadgeText({text:"!"}),chrome.action.setBadgeBackgroundColor({color:"#ffcc00"}))}))})),t.abrupt("break",56);case 52:return hL.scanFreeRewardItems(),t.abrupt("break",56);case 54:return y.w.get(Ns.Ay).then((function(t){uN(t)})),t.abrupt("break",56);case 56:return t.abrupt("return",!0);case 57:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),AN=function(){var t=WI(KI().mark((function t(e){var r;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.w.get(["userUrl"]);case 2:r=t.sent,t.t0=e,t.next=t.t0===Os.A.notification.EXTENSION_UPDATED?7:t.t0===Os.A.notification.INPUT_INVITE?9:t.t0===Os.A.notification.INPUT_COMMENT?11:t.t0===Os.A.notification.INPUT_OFFER?13:t.t0===Os.A.notification.OUTPUT_OFFER?15:t.t0===Os.A.notification.AVAILABLE_FREE_REWARDS?17:19;break;case 7:return chrome.tabs.create({url:"https://steamcommunity.com/groups/SteamInventoryHelper#announcements"}),t.abrupt("break",21);case 9:return chrome.tabs.create({url:"http:".concat(r.userUrl,"home/invites/")}),t.abrupt("break",21);case 11:return chrome.tabs.create({url:"https:".concat(r.userUrl,"commentnotifications/")}),t.abrupt("break",21);case 13:return chrome.tabs.create({url:"https:".concat(r.userUrl,"tradeoffers/")}),t.abrupt("break",21);case 15:return chrome.tabs.create({url:"https:".concat(r.userUrl,"tradeoffers/sent/")}),t.abrupt("break",21);case 17:return chrome.tabs.create({url:"https://store.steampowered.com/points/shop/"}),t.abrupt("break",21);case 19:return chrome.tabs.create({url:"https://steamcommunity.com/tradeoffer/".concat(e.substring(3),"/")}),t.abrupt("break",21);case 21:return chrome.notifications.clear(e),t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),TN=function(){var t=WI(KI().mark((function t(e,r){var n,o,i,a,s,c;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===Os.A.notification.AVAILABLE_FREE_REWARDS?3:t.t0===LE.notifications[e]?5:20;break;case 3:return 0===r?chrome.tabs.create({url:"https://store.steampowered.com/points/shop/"}):1===r&&y.w.set({free_reward_items_notification:!1}),t.abrupt("break",20);case 5:return t.next=7,Iw.getTimeOffset();case 7:if(n=t.sent,o=n.offset,i=Iw.time(o),a=LE.notifications[e],s=a.conf,c=a.account,0!==r){t.next=16;break}return t.next=14,YS.sendConfirmation(s,"allow",c,i);case 14:t.next=19;break;case 16:if(1!==r){t.next=19;break}return t.next=19,YS.sendConfirmation(s,"cancel",c,i);case 19:return t.abrupt("break",20);case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),LN=function(){var t=WI(KI().mark((function t(e){var r,n,o,i,a,s,c;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.previousVersion,"install"!==(n=e.reason)){t.next=15;break}return t.next=4,Sl.removeAllRules();case 4:return t.next=6,y.w.set(Ns.Ay);case 6:return y.w.getLocal({skipversion:null}).then((function(t){(0,Bs.eL)(t.skipversion)||(chrome.action.setBadgeText({text:"new"}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}))})),o=(0,Bs.lV)(),t.next=10,y.w.setLocal({sihversion:o});case 10:return chrome.storage.sync.get("sih_token",(function(t){t.sih_token||chrome.storage.sync.set({sih_token:wT(16)})})),t.next=13,y.w.setLocal({bookmarks:{}});case 13:t.next=53;break;case 15:if("update"!==n){t.next=53;break}return t.next=18,y.w.setLocal({userMicroStats:[]});case 18:return t.next=20,Sl.removeAllRules();case 20:return y.w.get({bookmarks:null}).then(function(){var t=WI(KI().mark((function t(e){var r,n;return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.bookmarks){t.next=5;break}chrome.storage.local.set({bookmarks:e.bookmarks}),chrome.storage.sync.remove("bookmarks"),t.next=16;break;case 5:return t.next=7,y.w.getLocal("bookmarks");case 7:if(r=t.sent,(n=r.bookmarks)&&0!==Object.keys(n).length){t.next=14;break}return t.next=12,y.w.setLocal({bookmarks:{}});case 12:t.next=16;break;case 14:return t.next=16,y.w.setLocal({bookmarks:n});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=23,y.w.get();case 23:return i=t.sent,a=function(){var t=WI(KI().mark((function t(e,r){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==i[e]){t.next=3;break}return t.next=3,y.w.set(qI({},e,r));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.next=27,a("autoaccept_sih_app",!0);case 27:return t.next=29,a("user_inventory_parsing",!0);case 29:return t.next=31,a("user_inventory_parsing_changed",!1);case 31:return t.next=33,a("consent_tos",!0);case 33:return t.next=35,a("consent_tos_changed",!1);case 35:return t.next=37,a("projects_permissions",{});case 37:return t.next=39,a("tradeoffers_rate_limit",!1);case 39:return t.next=41,a("originalProfileUrl","");case 41:return t.next=43,a("is_available_trade_web_api",!1);case 43:return t.next=45,OO();case 45:return s=(0,Bs.lV)(),t.next=48,y.w.setLocal({sihversion:s});case 48:chrome.storage.local.remove("skipversion"),chrome.storage.sync.remove("connectedController"),chrome.action.setBadgeText({text:"new"}),chrome.action.setBadgeBackgroundColor({color:"rgba(0, 0, 0, 0)"}),(0,Bs.eL)(r)||(c={type:"basic",title:"Steam inventory helper",message:"Extension is updated from version ".concat(r," to version ").concat(chrome.runtime.getManifest().version,", click here to check the changelogs"),iconUrl:"assets/icon128.png"},chrome.notifications.create(Os.A.notification.EXTENSION_UPDATED,c));case 53:return t.next=55,vN(wN);case 55:return t.next=57,XT.getGlobalRates();case 57:return t.next=59,XT.getSteamRates();case 59:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),kN=function(){vN(wN)},IN=function(t){switch(t.name){case Os.A.msg.BACKGROUND_SET_TRADEOFFER_NUMBERS:t.onMessage.addListener(EN);break;case Km.set.code:t.onMessage.addListener((function(t){return Km.set.handler(t)}));break;case"SDA_POPUP_CONNECTION":t.onDisconnect.addListener((function(){LE.passKey.value&&(LE.passKey.time=Date.now())}));break;case"WHITEMARKET_CONTENT_SCRIPT_CONNECTION":chrome.webRequest.onBeforeRequest.addListener((function(e){try{var r=JSON.parse(new TextDecoder("utf-8").decode(e.requestBody.raw[0].bytes));t.postMessage(HI({},r))}catch(t){console.error("Integration on whitemarket error",t)}}),{urls:["https://api.white.market/graphql/api"]},["requestBody"])}},ON=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"https://store.steampowered.com"===e.initiator&&setTimeout(WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IO();case 2:case"end":return t.stop()}}),t)}))),3e3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),NN=function(){var t=WI(KI().mark((function t(e){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initiator==="chrome-extension://".concat(chrome.runtime.id)&&setTimeout(WI(KI().mark((function t(){return KI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vN();case 2:case"end":return t.stop()}}),t)}))),3e3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();chrome.alarms.create(Os.A.alarm.MAIN,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(Km.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Ug.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(RA.send.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create($A.get.code,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.CHECK_MARKET_TOGGLE,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.CHECK_SIH_APP_AUTH,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(Os.A.alarm.PING_SIH_APP_SESSION,{delayInMinutes:1,periodInMinutes:15}),chrome.alarms.create(Os.A.alarm.BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.ACTUALIZE_AGENTS_STATE,{delayInMinutes:1,periodInMinutes:2}),chrome.alarms.create(Os.A.alarm.ACTUALIZE_NEW_SIH_AGENT_STATE,{delayInMinutes:1.1,periodInMinutes:1.1}),chrome.alarms.create(Os.A.alarm.UPDATE_PRICE_BOOKMARKS,{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create(wA.alarm.updateSubscribeAdsPlansAndMethods.code,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create(Os.A.alarm.PARSING_ACTUAL_INVENTORY,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create(Os.A.alarm.CHECK_ACTUAL_BALANCE,{delayInMinutes:1.1,periodInMinutes:2.1}),chrome.alarms.create(Os.A.alarm.CHECK_ACTIVE_LOTS_MARKET,{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create(Os.A.alarm.CHECK_HISTORY_LOTS_MARKET,{delayInMinutes:1,periodInMinutes:5}),chrome.alarms.create(Os.A.alarm.GET_STEAM_CURRENCY,{delayInMinutes:1.3,periodInMinutes:1.5}),chrome.alarms.create(Os.A.alarm.CHECK_USER,{delayInMinutes:1,periodInMinutes:1}),chrome.alarms.create(Os.A.alarm.BACKGROUND_CHECK_SIH_VERSION,{delayInMinutes:1,periodInMinutes:60}),chrome.alarms.create("BACKGROUND_CHECK_MARKETAPP_EXTENSION",{delayInMinutes:1,periodInMinutes:30}),chrome.alarms.create("BACKGROUND_SCAN_FREE_REWARDS_ITEMS",{delayInMinutes:1.5,periodInMinutes:1440}),MO(),GO(),chrome.storage.local.remove("needUpdateSIH"),chrome.alarms.onAlarm.addListener(_N),chrome.runtime.onInstalled.addListener(LN),chrome.runtime.onStartup.addListener(kN),chrome.notifications.onClicked.addListener(AN),chrome.notifications.onButtonClicked.addListener(TN),chrome.runtime.onConnect.addListener(IN),chrome.runtime.onMessage.addListener(xN),chrome.runtime.onMessageExternal.addListener(xN),ug.handler(),TA.handler(),ow.handler(),aT.handler(),M_.handler(),Tm.handler(),DI.handler(),Yk.handler(),GL.handler(),BT.handler(),fI.handler(),ab.handler(),Nk.handler(),mI.handler(),AI.handler(),chrome.webRequest.onBeforeSendHeaders.addListener(ON,{urls:["https://store.steampowered.com/login/settoken*"]},["requestHeaders","extraHeaders"]),chrome.webRequest.onBeforeSendHeaders.addListener(NN,{urls:["https://steamcommunity.com/login/settoken*"]},["requestHeaders","extraHeaders"])},9708:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var a=function(){return o((function t(){var e,n,o;r(this,t),e=this,o=[],(n=i(n="queue"))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}),[{key:"push",value:function(t){this.queue.push(t)}},{key:"shift",value:function(){return this.queue.shift()}},{key:"length",get:function(){return this.queue.length}}])}(),s=o((function t(e,n,o,i){r(this,t),this.options=e||{},this.success=(o||function(){}).bind(this),this.error=(i||function(){}).bind(this),this.handler=(n||function(t){return Promise.resolve(t)}).bind(this)})),c=function(){return o((function t(e){r(this,t),this.delayBetweenJobs=e,this.queue=new a,this.isSupressed=!1}),[{key:"paused",get:function(){return this.isSupressed}},{key:"start",value:function(){var t=this;this.runningInterval||(this.resume(),this.runningInterval=setInterval((function(){var e=t.queue.shift();e&&Promise.resolve(e.handler(e.options)).then((function(t){return e.success(t)})).catch((function(t){return e.error(t)}))}),this.delayBetweenJobs))}},{key:"stop",value:function(){clearInterval(this.runningInterval),this.runningInterval=void 0,this.queue=new a,this.isSupressed=!1}},{key:"add",value:function(t){return!this.isSupressed&&(this.queue.push(t),!0)}},{key:"pause",value:function(t){var e=this;return!this.isSupressed&&(this.stop(),this.isSupressed=!0,this.suppressionInterval=setInterval((function(){e.resume(),e.start()}),t),!0)}},{key:"resume",value:function(){this.isSupressed=!1,clearTimeout(this.suppressionInterval),this.suppressionInterval=void 0}}])}();t.exports={JobsScheduler:c,Job:s,Queue:a}},7322:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=s(t),a=i[0],c=i[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,c)),l=0,h=c>0?a-4:a;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===c&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===c&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(c(t,s,s+a>u?u:s+a));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n[45]=62,n[95]=63},9030:function(t,e,r){var n;!function(){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function d(t){var e=0|t;return t>0||t===e?e:e-1}function y(t){for(var e,r,n=1,o=t.length,i=t[0]+"";n<o;){for(e=t[n++]+"",r=u-e.length;r--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function v(t,e){var r,n,o=t.c,i=e.c,a=t.s,s=e.s,c=t.e,u=e.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==u,!o||!i)return n?0:!o^r?1:-1;if(!n)return c>u^r?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return c==u?0:c>u^r?1:-1}function m(t,e,r,n){if(t<e||t>r||t!==i(t))throw Error(a+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+t)}function g(t){var e=t.c.length-1;return d(t.e/u)==e&&t.c[e]%2!=0}function b(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,r){var n,o;if(e<0){for(o=r+".";++e;o+=r);t=o+t}else if(++e>(n=t.length)){for(o=r,e-=n;--e;o+=r);t+=o}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}e=function t(e){var n,E,x,S,_,A,T,L,k,I,O=V.prototype={constructor:V,toString:null,valueOf:null},N=new V(1),P=20,C=4,D=-7,R=21,F=-1e7,j=1e7,B=!1,M=1,G=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",q=!0;function V(t,e){var n,o,a,c,h,f,p,d,y=this;if(!(y instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return y.s=t.s,void(!t.c||t.e>j?y.c=y.e=null:t.e<F?y.c=[y.e=0]:(y.e=t.e,y.c=t.c.slice()));if((f="number"==typeof t)&&0*t==0){if(y.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>j?y.c=y.e=null:(y.e=c,y.c=[t]))}d=t+""}else{if(!r.test(d=t+""))return x(y,d,f);y.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(c=d.indexOf("."))>-1&&(d=d.replace(".","")),(h=d.search(/e/i))>0?(c<0&&(c=h),c+=+d.slice(h+1),d=d.substring(0,h)):c<0&&(c=d.length)}else{if(m(e,2,H.length,"Base"),10==e&&q)return z(y=new V(t),P+y.e+1,C);if(d=t+"",f="number"==typeof t){if(0*t!=0)return x(y,d,f,e);if(y.s=1/t<0?(d=d.slice(1),-1):1,V.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(s+t)}else y.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=H.slice(0,e),c=h=0,p=d.length;h<p;h++)if(n.indexOf(o=d.charAt(h))<0){if("."==o){if(h>c){c=p;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,h=-1,c=0;continue}return x(y,t+"",f,e)}f=!1,(c=(d=E(d,e,10,y.s)).indexOf("."))>-1?d=d.replace(".",""):c=d.length}for(h=0;48===d.charCodeAt(h);h++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(h,++p)){if(p-=h,f&&V.DEBUG&&p>15&&(t>l||t!==i(t)))throw Error(s+y.s*t);if((c=c-h-1)>j)y.c=y.e=null;else if(c<F)y.c=[y.e=0];else{if(y.e=c,y.c=[],h=(c+1)%u,c<0&&(h+=u),h<p){for(h&&y.c.push(+d.slice(0,h)),p-=u;h<p;)y.c.push(+d.slice(h,h+=u));h=u-(d=d.slice(h)).length}else h-=p;for(;h--;d+="0");y.c.push(+d)}}else y.c=[y.e=0]}function K(t,e,r,n){var o,i,a,s,c;if(null==r?r=C:m(r,0,8),!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)c=y(t.c),c=1==n||2==n&&(a<=D||a>=R)?b(c,a):w(c,a,"0");else if(i=(t=z(new V(t),e,r)).e,s=(c=y(t.c)).length,1==n||2==n&&(e<=i||i<=D)){for(;s<e;c+="0",s++);c=b(c,i)}else if(e-=a,c=w(c,i,"0"),i+1>s){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=i-s)>0)for(i+1==s&&(c+=".");e--;c+="0");return t.s<0&&o?"-"+c:c}function Y(t,e){for(var r,n,o=1,i=new V(t[0]);o<t.length;o++)(!(n=new V(t[o])).s||(r=v(i,n))===e||0===r&&i.s===e)&&(i=n);return i}function W(t,e,r){for(var n=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,n++);return(r=n+r*u-1)>j?t.c=t.e=null:r<F?t.c=[t.e=0]:(t.e=r,t.c=e),t}function z(t,e,r,n){var a,s,l,f,p,d,y,v=t.c,m=h;if(v){t:{for(a=1,f=v[0];f>=10;f/=10,a++);if((s=e-a)<0)s+=u,l=e,p=v[d=0],y=i(p/m[a-l-1]%10);else if((d=o((s+1)/u))>=v.length){if(!n)break t;for(;v.length<=d;v.push(0));p=y=0,a=1,l=(s%=u)-u+1}else{for(p=f=v[d],a=1;f>=10;f/=10,a++);y=(l=(s%=u)-u+a)<0?0:i(p/m[a-l-1]%10)}if(n=n||e<0||null!=v[d+1]||(l<0?p:p%m[a-l-1]),n=r<4?(y||n)&&(0==r||r==(t.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(s>0?l>0?p/m[a-l]:0:v[d-1])%10&1||r==(t.s<0?8:7)),e<1||!v[0])return v.length=0,n?(e-=t.e+1,v[0]=m[(u-e%u)%u],t.e=-e||0):v[0]=t.e=0,t;if(0==s?(v.length=d,f=1,d--):(v.length=d+1,f=m[u-s],v[d]=l>0?i(p/m[a-l]%m[l])*f:0),n)for(;;){if(0==d){for(s=1,l=v[0];l>=10;l/=10,s++);for(l=v[0]+=f,f=1;l>=10;l/=10,f++);s!=f&&(t.e++,v[0]==c&&(v[0]=1));break}if(v[d]+=f,v[d]!=c)break;v[d--]=0,f=1}for(s=v.length;0===v[--s];v.pop());}t.e>j?t.c=t.e=null:t.e<F&&(t.c=[t.e=0])}return t}function X(t){var e,r=t.e;return null===r?t.toString():(e=y(t.c),e=r<=D||r>=R?b(e,r):w(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(m(r=t[e],0,p,e),P=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(m(r=t[e],0,8,e),C=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(m(r[0],-p,0,e),m(r[1],0,p,e),D=r[0],R=r[1]):(m(r,-p,p,e),D=-(R=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)m(r[0],-p,-1,e),m(r[1],1,p,e),F=r[0],j=r[1];else{if(m(r,-p,p,e),!r)throw Error(a+e+" cannot be zero: "+r);F=-(j=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(a+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!r,Error(a+"crypto unavailable");B=r}else B=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(m(r=t[e],0,9,e),M=r),t.hasOwnProperty(e="POW_PRECISION")&&(m(r=t[e],0,p,e),G=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(a+e+" not an object: "+r);U=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+e+" invalid: "+r);q="0123456789"==r.slice(0,10),H=r}}return{DECIMAL_PLACES:P,ROUNDING_MODE:C,EXPONENTIAL_AT:[D,R],RANGE:[F,j],CRYPTO:B,MODULO_MODE:M,POW_PRECISION:G,FORMAT:U,ALPHABET:H}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,o=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&o>=-p&&o<=p&&o===i(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break t}if((e=(o+1)%u)<1&&(e+=u),(n[0]+"").length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=c||r!==i(r))break t;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return Y(arguments,-1)},V.minimum=V.min=function(){return Y(arguments,1)},V.random=(S=9007199254740992,_=Math.random()*S&2097151?function(){return i(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,s,c,l=0,f=[],d=new V(N);if(null==t?t=P:m(t,0,p),s=o(t/u),B)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(s*=2));l<s;)(c=131072*e[l]+(e[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[l]=r[0],e[l+1]=r[1]):(f.push(c%1e14),l+=2);l=s/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(e=crypto.randomBytes(s*=7);l<s;)(c=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(f.push(c%1e14),l+=7);l=s/7}if(!B)for(;l<s;)(c=_())<9e15&&(f[l++]=c%1e14);for(s=f[--l],t%=u,s&&t&&(c=h[u-t],f[l]=i(s/c)*c);0===f[l];f.pop(),l--);if(l<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=u);for(l=1,c=f[0];c>=10;c/=10,l++);l<u&&(n-=u-l)}return d.e=n,d.c=f,d}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},E=function(){var t="0123456789";function e(t,e,r,n){for(var o,i,a=[0],s=0,c=t.length;s<c;){for(i=a.length;i--;a[i]*=e);for(a[0]+=n.indexOf(t.charAt(s++)),o=0;o<a.length;o++)a[o]>r-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/r|0,a[o]%=r)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,h,f,p,d,v,m=r.indexOf("."),g=P,b=C;for(m>=0&&(h=G,G=0,r=r.replace(".",""),p=(v=new V(o)).pow(r.length-m),G=h,v.c=e(w(y(p.c),p.e,"0"),10,i,t),v.e=v.c.length),l=h=(d=e(r,o,i,s?(c=H,t):(c=t,H))).length;0==d[--h];d.pop());if(!d[0])return c.charAt(0);if(m<0?--l:(p.c=d,p.e=l,p.s=a,d=(p=n(p,v,g,b,i)).c,f=p.r,l=p.e),m=d[u=l+g+1],h=i/2,f=f||u<0||null!=d[u+1],f=b<4?(null!=m||f)&&(0==b||b==(p.s<0?3:2)):m>h||m==h&&(4==b||f||6==b&&1&d[u-1]||b==(p.s<0?8:7)),u<1||!d[0])r=f?w(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(d.length=u,f)for(--i;++d[--u]>i;)d[u]=0,u||(++l,d=[1].concat(d));for(h=d.length;!d[--h];);for(m=0,r="";m<=h;r+=c.charAt(d[m++]));r=w(r,l,c.charAt(0))}return r}}(),n=function(){function t(t,e,r){var n,o,i,a,s=0,c=t.length,u=e%f,l=e/f|0;for(t=t.slice();c--;)s=((o=u*(i=t[c]%f)+(n=l*i+(a=t[c]/f|0)*u)%f*f+s)/r|0)+(n/f|0)+l*a,t[c]=o%r;return s&&(t=[s].concat(t)),t}function e(t,e,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,r,n){for(var o=0;r--;)t[r]-=o,o=t[r]<e[r]?1:0,t[r]=o*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,o,a,s,l){var h,f,p,y,v,m,g,b,w,E,x,S,_,A,T,L,k,I=n.s==o.s?1:-1,O=n.c,N=o.c;if(!(O&&O[0]&&N&&N[0]))return new V(n.s&&o.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*I:I/0:NaN);for(w=(b=new V(I)).c=[],I=a+(f=n.e-o.e)+1,l||(l=c,f=d(n.e/u)-d(o.e/u),I=I/u|0),p=0;N[p]==(O[p]||0);p++);if(N[p]>(O[p]||0)&&f--,I<0)w.push(1),y=!0;else{for(A=O.length,L=N.length,p=0,I+=2,(v=i(l/(N[0]+1)))>1&&(N=t(N,v,l),O=t(O,v,l),L=N.length,A=O.length),_=L,x=(E=O.slice(0,L)).length;x<L;E[x++]=0);k=N.slice(),k=[0].concat(k),T=N[0],N[1]>=l/2&&T++;do{if(v=0,(h=e(N,E,L,x))<0){if(S=E[0],L!=x&&(S=S*l+(E[1]||0)),(v=i(S/T))>1)for(v>=l&&(v=l-1),g=(m=t(N,v,l)).length,x=E.length;1==e(m,E,g,x);)v--,r(m,L<g?k:N,g,l),g=m.length,h=1;else 0==v&&(h=v=1),g=(m=N.slice()).length;if(g<x&&(m=[0].concat(m)),r(E,m,x,l),x=E.length,-1==h)for(;e(N,E,L,x)<1;)v++,r(E,L<x?k:N,x,l),x=E.length}else 0===h&&(v++,E=[0]);w[p++]=v,E[0]?E[x++]=O[_]||0:(E=[O[_]],x=1)}while((_++<A||null!=E[0])&&I--);y=null!=E[0],w[0]||w.splice(0,1)}if(l==c){for(p=1,I=w[0];I>=10;I/=10,p++);z(b,a+(b.e=p+f*u-1)+1,s,y)}else b.e=f,b.r=+y;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,L=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(t,e,r,n){var o,i=r?e:e.replace(I,"");if(k.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(A,(function(t,e,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?t:e})),n&&(o=n,i=i.replace(T,"$1").replace(L,"0.$1")),e!=i))return new V(i,o);if(V.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},O.absoluteValue=O.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},O.comparedTo=function(t,e){return v(this,new V(t,e))},O.decimalPlaces=O.dp=function(t,e){var r,n,o,i=this;if(null!=t)return m(t,0,p),null==e?e=C:m(e,0,8),z(new V(i),t+i.e+1,e);if(!(r=i.c))return null;if(n=((o=r.length-1)-d(this.e/u))*u,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},O.dividedBy=O.div=function(t,e){return n(this,new V(t,e),P,C)},O.dividedToIntegerBy=O.idiv=function(t,e){return n(this,new V(t,e),0,1)},O.exponentiatedBy=O.pow=function(t,e){var r,n,s,c,l,h,f,p,d=this;if((t=new V(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+X(t));if(null!=e&&(e=new V(e)),l=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new V(Math.pow(+X(d),l?t.s*(2-g(t)):+X(t))),e?p.mod(e):p;if(h=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!h&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return c=d.s<0&&g(t)?-0:0,d.e>-1&&(c=1/c),new V(h?1/c:c);G&&(c=o(G/u+2))}for(l?(r=new V(.5),h&&(t.s=1),f=g(t)):f=(s=Math.abs(+X(t)))%2,p=new V(N);;){if(f){if(!(p=p.times(d)).c)break;c?p.c.length>c&&(p.c.length=c):n&&(p=p.mod(e))}if(s){if(0===(s=i(s/2)))break;f=s%2}else if(z(t=t.times(r),t.e+1,1),t.e>14)f=g(t);else{if(0===(s=+X(t)))break;f=s%2}d=d.times(d),c?d.c&&d.c.length>c&&(d.c.length=c):n&&(d=d.mod(e))}return n?p:(h&&(p=N.div(p)),e?p.mod(e):c?z(p,G,C,undefined):p)},O.integerValue=function(t){var e=new V(this);return null==t?t=C:m(t,0,8),z(e,e.e+1,t)},O.isEqualTo=O.eq=function(t,e){return 0===v(this,new V(t,e))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(t,e){return v(this,new V(t,e))>0},O.isGreaterThanOrEqualTo=O.gte=function(t,e){return 1===(e=v(this,new V(t,e)))||0===e},O.isInteger=function(){return!!this.c&&d(this.e/u)>this.c.length-2},O.isLessThan=O.lt=function(t,e){return v(this,new V(t,e))<0},O.isLessThanOrEqualTo=O.lte=function(t,e){return-1===(e=v(this,new V(t,e)))||0===e},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(t,e){var r,n,o,i,a=this,s=a.s;if(e=(t=new V(t,e)).s,!s||!e)return new V(NaN);if(s!=e)return t.s=-e,a.plus(t);var l=a.e/u,h=t.e/u,f=a.c,p=t.c;if(!l||!h){if(!f||!p)return f?(t.s=-e,t):new V(p?a:NaN);if(!f[0]||!p[0])return p[0]?(t.s=-e,t):new V(f[0]?a:3==C?-0:0)}if(l=d(l),h=d(h),f=f.slice(),s=l-h){for((i=s<0)?(s=-s,o=f):(h=l,o=p),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(n=(i=(s=f.length)<(e=p.length))?s:e,s=e=0;e<n;e++)if(f[e]!=p[e]){i=f[e]<p[e];break}if(i&&(o=f,f=p,p=o,t.s=-t.s),(e=(n=p.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=c-1;n>s;){if(f[--n]<p[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=c}f[n]-=p[n]}for(;0==f[0];f.splice(0,1),--h);return f[0]?W(t,f,h):(t.s=3==C?-1:1,t.c=[t.e=0],t)},O.modulo=O.mod=function(t,e){var r,o,i=this;return t=new V(t,e),!i.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||i.c&&!i.c[0]?new V(i):(9==M?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,M),(t=i.minus(r.times(t))).c[0]||1!=M||(t.s=i.s),t)},O.multipliedBy=O.times=function(t,e){var r,n,o,i,a,s,l,h,p,y,v,m,g,b,w,E=this,x=E.c,S=(t=new V(t,e)).c;if(!(x&&S&&x[0]&&S[0]))return!E.s||!t.s||x&&!x[0]&&!S||S&&!S[0]&&!x?t.c=t.e=t.s=null:(t.s*=E.s,x&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=d(E.e/u)+d(t.e/u),t.s*=E.s,(l=x.length)<(y=S.length)&&(g=x,x=S,S=g,o=l,l=y,y=o),o=l+y,g=[];o--;g.push(0));for(b=c,w=f,o=y;--o>=0;){for(r=0,v=S[o]%w,m=S[o]/w|0,i=o+(a=l);i>o;)r=((h=v*(h=x[--a]%w)+(s=m*h+(p=x[a]/w|0)*v)%w*w+g[i]+r)/b|0)+(s/w|0)+m*p,g[i--]=h%b;g[i]=r}return r?++n:g.splice(0,1),W(t,g,n)},O.negated=function(){var t=new V(this);return t.s=-t.s||null,t},O.plus=function(t,e){var r,n=this,o=n.s;if(e=(t=new V(t,e)).s,!o||!e)return new V(NaN);if(o!=e)return t.s=-e,n.minus(t);var i=n.e/u,a=t.e/u,s=n.c,l=t.c;if(!i||!a){if(!s||!l)return new V(o/0);if(!s[0]||!l[0])return l[0]?t:new V(s[0]?n:0*o)}if(i=d(i),a=d(a),s=s.slice(),o=i-a){for(o>0?(a=i,r=l):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(e=l.length)<0&&(r=l,l=s,s=r,e=o),o=0;e;)o=(s[--e]=s[e]+l[e]+o)/c|0,s[e]=c===s[e]?0:s[e]%c;return o&&(s=[o].concat(s),++a),W(t,s,a)},O.precision=O.sd=function(t,e){var r,n,o,i=this;if(null!=t&&t!==!!t)return m(t,1,p),null==e?e=C:m(e,0,8),z(new V(i),t,e);if(!(r=i.c))return null;if(n=(o=r.length-1)*u+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return t&&i.e+1>n&&(n=i.e+1),n},O.shiftedBy=function(t){return m(t,-9007199254740991,l),this.times("1e"+t)},O.squareRoot=O.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=P+4,h=new V("0.5");if(1!==c||!s||!s[0])return new V(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+X(a)))||c==1/0?(((e=y(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=d((u+1)/2)-(u<0||u%2),r=new V(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=h.times(i.plus(n(a,i,l,1))),y(i.c).slice(0,c)===(e=y(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(z(r,r.e+P+2,1),t=!r.times(r).eq(a));break}if(!o&&(z(i,i.e+P+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return z(r,r.e+P+1,C,t)},O.toExponential=function(t,e){return null!=t&&(m(t,0,p),t++),K(this,t,e,1)},O.toFixed=function(t,e){return null!=t&&(m(t,0,p),t=t+this.e+1),K(this,t,e)},O.toFormat=function(t,e,r){var n,o=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=U;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=o.toFixed(t,e),o.c){var i,s=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",h=s[0],f=s[1],p=o.s<0,d=p?h.slice(1):h,y=d.length;if(u&&(i=c,c=u,u=i,y-=i),c>0&&y>0){for(i=y%c||c,h=d.substr(0,i);i<y;i+=c)h+=l+d.substr(i,c);u>0&&(h+=l+d.slice(i)),p&&(h="-"+h)}n=f?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):h}return(r.prefix||"")+n+(r.suffix||"")},O.toFraction=function(t){var e,r,o,i,s,c,l,f,p,d,v,m,g=this,b=g.c;if(null!=t&&(!(l=new V(t)).isInteger()&&(l.c||1!==l.s)||l.lt(N)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+X(l));if(!b)return new V(g);for(e=new V(N),p=r=new V(N),o=f=new V(N),m=y(b),s=e.e=m.length-g.e-1,e.c[0]=h[(c=s%u)<0?u+c:c],t=!t||l.comparedTo(e)>0?s>0?e:p:l,c=j,j=1/0,l=new V(m),f.c[0]=0;d=n(l,e,0,1),1!=(i=r.plus(d.times(o))).comparedTo(t);)r=o,o=i,p=f.plus(d.times(i=p)),f=i,e=l.minus(d.times(i=e)),l=i;return i=n(t.minus(r),o,0,1),f=f.plus(i.times(p)),r=r.plus(i.times(o)),f.s=p.s=g.s,v=n(p,o,s*=2,C).minus(g).abs().comparedTo(n(f,r,s,C).minus(g).abs())<1?[p,o]:[f,r],j=c,v},O.toNumber=function(){return+X(this)},O.toPrecision=function(t,e){return null!=t&&m(t,1,p),K(this,t,e,2)},O.toString=function(t){var e,r=this,n=r.s,o=r.e;return null===o?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=o<=D||o>=R?b(y(r.c),o):w(y(r.c),o,"0"):10===t&&q?e=w(y((r=z(new V(r),P+o+1,C)).c),r.e,"0"):(m(t,2,H.length,"Base"),e=E(w(y(r.c),o,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},O.valueOf=O.toJSON=function(){return X(this)},O._isBigNumber=!0,null!=e&&V.set(e),V}(),e.default=e.BigNumber=e,void 0===(n=e)||(t.exports=n)}()},8891:(t,e,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const n=r(7322),o=r(8239),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=c,e.IS=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=s(r);const o=n.write(t,e);o!==r&&(n=n.slice(0,o));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const o=function(t){if(c.isBuffer(t)){const e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||$(t.length)?s(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),s(t<0?0:0|d(t))}function f(t){const e=t.length<0?0:0|d(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function d(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(o)return n?-1:Y(t).length;e=(""+e).toLowerCase(),o=!0}}function v(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){let i,a=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let n=-1;for(i=r;i<s;i++)if(u(t,i)===u(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*a}else-1!==n&&(i-=i-n),n=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(t,i+n)!==u(e,n)){r=!1;break}if(r)return i}return-1}function w(t,e,r,n){r=Number(r)||0;const o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=e.length;let a;for(n>i/2&&(n=i/2),a=0;a<n;++a){const n=parseInt(e.substr(2*a,2),16);if($(n))return a;t[r+a]=n}return a}function E(t,e,r,n){return z(Y(e,t.length-r),t,r,n)}function x(t,e,r,n){return z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return z(W(e),t,r,n)}function _(t,e,r,n){return z(function(t,e){let r,n,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const n=[];let o=e;for(;o<r;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=r){let r,n,s,c;switch(a){case 1:e<128&&(i=e);break;case 2:r=t[o+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(i=c));break;case 3:r=t[o+1],n=t[o+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=t[o+1],n=t[o+2],s=t[o+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(t){const e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=L));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(X(e,Uint8Array))o+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,o){if(X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0);const s=Math.min(i,a),u=this.slice(n,o),l=t.slice(e,r);for(let t=0;t<s;++t)if(u[t]!==l[t]){i=u[t],a=l[t];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":case"latin1":case"binary":return x(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const L=4096;function k(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function I(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=J[t[n]];return o}function N(t,e,r){const n=t.slice(e,r);let o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function D(t,e,r,n,o){H(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function R(t,e,r,n,o){H(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function F(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,i){return e=+e,r>>>=0,i||F(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,i){return e=+e,r>>>=0,i||F(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=e,o=1,i=this[t+--n];for(;n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let o=0,i=1,a=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i|0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,n),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%a]}return this};const M={};function G(t,e,r){M[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function H(t,e,r,n,o,i){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||V(e,t.length-(r+1))}(n,o,i)}function q(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function V(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?t+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),G("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=U(r+""):"bigint"==typeof r&&(o=r+"",(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function Y(t,e){let r;e=e||1/0;const n=t.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const J=function(){const t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Q(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw Error("BigInt not supported")}},7047:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,o=[],i=[],a=[],s=[],c=[],u=[],l=[],h=[],f=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,o[r]=d,i[d]=r;var y=t[r],v=t[y],m=t[v],g=257*t[d]^16843008*d;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,u[r]=g,g=16843009*m^65537*v^257*y^16843008*r,l[d]=g<<24|g>>>8,h[d]=g<<16|g>>>16,f[d]=g<<8|g>>>24,p[d]=g,r?(r=y^t[t[t[m^y]]],n^=t[t[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<r)i[a]=e[a];else{var s=i[a-1];a%r?r>6&&a%r==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=d[a/r|0]<<24),i[a]=i[a-r]^s}for(var c=this._invKeySchedule=[],u=0;u<n;u++)a=n-u,s=u%4?i[a]:i[a-4],c[u]=u<4||a<=4?s:l[o[s>>>24]]^h[o[s>>>16&255]]^f[o[s>>>8&255]]^p[o[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,o)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,l,h,f,p,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,a,s){for(var c=this._nRounds,u=t[e]^r[0],l=t[e+1]^r[1],h=t[e+2]^r[2],f=t[e+3]^r[3],p=4,d=1;d<c;d++){var y=n[u>>>24]^o[l>>>16&255]^i[h>>>8&255]^a[255&f]^r[p++],v=n[l>>>24]^o[h>>>16&255]^i[f>>>8&255]^a[255&u]^r[p++],m=n[h>>>24]^o[f>>>16&255]^i[u>>>8&255]^a[255&l]^r[p++],g=n[f>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&h]^r[p++];u=y,l=v,h=m,f=g}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&f])^r[p++],v=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^r[p++],m=(s[h>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[p++],g=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^r[p++],t[e]=y,t[e+1]=v,t[e+2]=m,t[e+3]=g},keySize:8});t.AES=e._createHelper(y)}(),n.AES)},6113:function(t,e,r){var n;t.exports=(n=r(9305),r(4894),void(n.lib.Cipher||function(t){var e=n,r=e.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=e.enc,c=(s.Utf8,s.Base64),u=e.algo.EvpKDF,l=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(r,n,o){return t(n).encrypt(e,r,n,o)},decrypt:function(r,n,o){return t(n).decrypt(e,r,n,o)}}}}()}),h=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),f=r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=h.CBC=function(){var e=f.extend();function r(e,r,n){var o=this._iv;if(o){var i=o;this._iv=t}else i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize;r.call(this,t,e,o),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,i=t.slice(e,e+o);n.decryptBlock(t,e),r.call(this,t,e,o),this._prevBlock=i}}),e}(),d=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(o);var c=i.create(a,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},y=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:d}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(r,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(e);else n=e;return n.toString(c)},parse:function(t){var e=c.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return y.create({ciphertext:e,salt:n})}},m=r.SerializableCipher=o.extend({cfg:o.extend({format:v}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n),i=o.finalize(e),a=o.cfg;return y.create({ciphertext:i,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),g=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var o=u.create({keySize:e+r}).compute(t,n),a=i.create(o.words.slice(e),4*r);return o.sigBytes=4*e,y.create({key:o,iv:a,salt:n})}},b=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:g}),encrypt:function(t,e,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=o.iv;var i=m.encrypt.call(this,t,e,o.key,n);return i.mixIn(o),i},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,m.decrypt.call(this,t,e,o.key,n)}})}()))},9305:function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},o=n.lib={},i=o.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],o=function(e){var r=987654321,n=4294967295;return function(){var o=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return o/=4294967296,(o+=.5)*(t.random()>.5?1:-1)}},i=0;i<e;i+=4){var s=o(4294967296*(r||t.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,e)}}),s=n.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*i,u=t.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var h=n.splice(0,c);r.sigBytes-=u}return new a.init(h,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f=(o.Hasher=h.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),r)},3118:function(t,e,r){var n;t.exports=(n=r(9305),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return r(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},3883:function(t,e,r){var n;t.exports=(n=r(9305),function(){var t=n,e=t.lib.WordArray,r=t.enc;function o(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var i=e[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var a=o(e[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=o(t.charCodeAt(i)<<16-i%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},4894:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),r(1115),r(9861),o=(n=l).lib,i=o.Base,a=o.WordArray,s=n.algo,c=s.MD5,u=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),o=a.create(),i=o.words,s=r.keySize,c=r.iterations;i.length<s;){u&&n.update(u);var u=n.update(t).finalize(e);n.reset();for(var l=1;l<c;l++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*s,o}}),n.EvpKDF=function(t,e,r){return u.create(r).compute(t,e)},l.EvpKDF)},7893:function(t,e,r){var n,o,i,a;t.exports=(a=r(9305),r(6113),o=(n=a).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return o.create({ciphertext:e})}},a.format.Hex)},9861:function(t,e,r){var n,o,i,a;t.exports=(n=r(9305),i=(o=n).lib.Base,a=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),i=this._iKey=e.clone(),s=o.words,c=i.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=i.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},1888:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),r(6804),r(3883),r(3118),r(9672),r(1115),r(2141),r(2424),r(520),r(5145),r(7501),r(3788),r(9861),r(6191),r(4894),r(6113),r(5829),r(807),r(2064),r(8617),r(7333),r(7197),r(4917),r(3814),r(8367),r(8816),r(7893),r(7047),r(7896),r(4181),r(446),r(564),n)},6804:function(t,e,r){var n;t.exports=(n=r(9305),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],o=0;o<r;o++)n[o>>>2]|=t[o]<<24-o%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},9672:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=t[e+0],c=t[e+1],p=t[e+2],d=t[e+3],y=t[e+4],v=t[e+5],m=t[e+6],g=t[e+7],b=t[e+8],w=t[e+9],E=t[e+10],x=t[e+11],S=t[e+12],_=t[e+13],A=t[e+14],T=t[e+15],L=i[0],k=i[1],I=i[2],O=i[3];L=u(L,k,I,O,a,7,s[0]),O=u(O,L,k,I,c,12,s[1]),I=u(I,O,L,k,p,17,s[2]),k=u(k,I,O,L,d,22,s[3]),L=u(L,k,I,O,y,7,s[4]),O=u(O,L,k,I,v,12,s[5]),I=u(I,O,L,k,m,17,s[6]),k=u(k,I,O,L,g,22,s[7]),L=u(L,k,I,O,b,7,s[8]),O=u(O,L,k,I,w,12,s[9]),I=u(I,O,L,k,E,17,s[10]),k=u(k,I,O,L,x,22,s[11]),L=u(L,k,I,O,S,7,s[12]),O=u(O,L,k,I,_,12,s[13]),I=u(I,O,L,k,A,17,s[14]),L=l(L,k=u(k,I,O,L,T,22,s[15]),I,O,c,5,s[16]),O=l(O,L,k,I,m,9,s[17]),I=l(I,O,L,k,x,14,s[18]),k=l(k,I,O,L,a,20,s[19]),L=l(L,k,I,O,v,5,s[20]),O=l(O,L,k,I,E,9,s[21]),I=l(I,O,L,k,T,14,s[22]),k=l(k,I,O,L,y,20,s[23]),L=l(L,k,I,O,w,5,s[24]),O=l(O,L,k,I,A,9,s[25]),I=l(I,O,L,k,d,14,s[26]),k=l(k,I,O,L,b,20,s[27]),L=l(L,k,I,O,_,5,s[28]),O=l(O,L,k,I,p,9,s[29]),I=l(I,O,L,k,g,14,s[30]),L=h(L,k=l(k,I,O,L,S,20,s[31]),I,O,v,4,s[32]),O=h(O,L,k,I,b,11,s[33]),I=h(I,O,L,k,x,16,s[34]),k=h(k,I,O,L,A,23,s[35]),L=h(L,k,I,O,c,4,s[36]),O=h(O,L,k,I,y,11,s[37]),I=h(I,O,L,k,g,16,s[38]),k=h(k,I,O,L,E,23,s[39]),L=h(L,k,I,O,_,4,s[40]),O=h(O,L,k,I,a,11,s[41]),I=h(I,O,L,k,d,16,s[42]),k=h(k,I,O,L,m,23,s[43]),L=h(L,k,I,O,w,4,s[44]),O=h(O,L,k,I,S,11,s[45]),I=h(I,O,L,k,T,16,s[46]),L=f(L,k=h(k,I,O,L,p,23,s[47]),I,O,a,6,s[48]),O=f(O,L,k,I,g,10,s[49]),I=f(I,O,L,k,A,15,s[50]),k=f(k,I,O,L,v,21,s[51]),L=f(L,k,I,O,S,6,s[52]),O=f(O,L,k,I,d,10,s[53]),I=f(I,O,L,k,E,15,s[54]),k=f(k,I,O,L,c,21,s[55]),L=f(L,k,I,O,b,6,s[56]),O=f(O,L,k,I,T,10,s[57]),I=f(I,O,L,k,m,15,s[58]),k=f(k,I,O,L,_,21,s[59]),L=f(L,k,I,O,y,6,s[60]),O=f(O,L,k,I,x,10,s[61]),I=f(I,O,L,k,p,15,s[62]),k=f(k,I,O,L,w,21,s[63]),i[0]=i[0]+L|0,i[1]=i[1]+k|0,i[2]=i[2]+I|0,i[3]=i[3]+O|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,r,n,o,i,a){var s=t+(e&r|~e&n)+o+a;return(s<<i|s>>>32-i)+e}function l(t,e,r,n,o,i,a){var s=t+(e&n|r&~n)+o+a;return(s<<i|s>>>32-i)+e}function h(t,e,r,n,o,i,a){var s=t+(e^r^n)+o+a;return(s<<i|s>>>32-i)+e}function f(t,e,r,n,o,i,a){var s=t+(r^(e|~n))+o+a;return(s<<i|s>>>32-i)+e}e.MD5=i._createHelper(c),e.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},5829:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o,n),this._prevBlock=t.slice(r,r+o)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);e.call(this,t,r,o,n),this._prevBlock=i}}),t}(),n.mode.CFB)},2064:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255&~(t>>24))t+=1<<24;else{var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var o=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,o=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),r(a);var s=a.slice(0);n.encryptBlock(s,0);for(var c=0;c<o;c++)t[e+c]^=s[c]}});return t.Decryptor=o,t}(),n.mode.CTRGladman)},807:function(t,e,r){var n,o,i;t.exports=(i=r(9305),r(6113),i.mode.CTR=(n=i.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);r.encryptBlock(a,0),i[n-1]=i[n-1]+1|0;for(var s=0;s<n;s++)t[e+s]^=a[s]}}),n.Decryptor=o,n),i.mode.CTR)},7333:function(t,e,r){var n,o;t.exports=(o=r(9305),r(6113),o.mode.ECB=((n=o.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),o.mode.ECB)},8617:function(t,e,r){var n,o,i;t.exports=(i=r(9305),r(6113),i.mode.OFB=(n=i.lib.BlockCipherMode.extend(),o=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var a=0;a<n;a++)t[e+a]^=i[a]}}),n.Decryptor=o,n),i.mode.OFB)},7197:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,o=n-r%n,i=r+o-1;t.clamp(),t.words[i>>>2]|=o<<24-i%4*8,t.sigBytes+=o},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},4917:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.Iso10126={pad:function(t,e){var r=4*e,o=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},3814:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},8816:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},8367:function(t,e,r){var n;t.exports=(n=r(9305),r(6113),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},n.pad.ZeroPadding)},6191:function(t,e,r){var n,o,i,a,s,c,u,l,h;t.exports=(h=r(9305),r(1115),r(9861),o=(n=h).lib,i=o.Base,a=o.WordArray,s=n.algo,c=s.SHA1,u=s.HMAC,l=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=u.create(r.hasher,t),o=a.create(),i=a.create([1]),s=o.words,c=i.words,l=r.keySize,h=r.iterations;s.length<l;){var f=n.update(e).finalize(i);n.reset();for(var p=f.words,d=p.length,y=f,v=1;v<h;v++){y=n.finalize(y),n.reset();for(var m=y.words,g=0;g<d;g++)p[g]^=m[g]}o.concat(f),c[0]++}return o.sigBytes=4*l,o}}),n.PBKDF2=function(t,e,r){return l.create(r).compute(t,e)},h.PBKDF2)},564:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=[],i=[],a=[],s=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(n[0]^=u,n[1]^=h,n[2]^=l,n[3]^=f,n[4]^=u,n[5]^=h,n[6]^=l,n[7]^=f,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],o=65535&n,s=n>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),n.RabbitLegacy)},446:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=[],i=[],a=[],s=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(e){var i=e.words,a=i[0],s=i[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(o[0]^=u,o[1]^=h,o[2]^=l,o[3]^=f,o[4]^=u,o[5]^=h,o[6]^=l,o[7]^=f,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(t,e){var r=this._X;c.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],o=65535&n,s=n>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),n.Rabbit)},4181:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,o=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var i=0;o<256;o++){var a=o%r,s=e[a>>>2]>>>24-a%4*8&255;i=(i+n[o]+s)%256;var c=n[o];n[o]=n[i],n[i]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var t=this._S,e=this._i,r=this._j,n=0,o=0;o<4;o++){r=(r+t[e=(e+1)%256])%256;var i=t[e];t[e]=t[r],t[r]=i,n|=t[(t[e]+t[r])%256]<<24-8*o}return this._i=e,this._j=r,n}t.RC4=e._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)i.call(this)}});t.RC4Drop=e._createHelper(a)}(),n.RC4)},3788:function(t,e,r){var n;t.exports=(n=r(9305),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(){var t=n,e=t.lib,r=e.WordArray,o=e.Hasher,i=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),h=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=i.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,f,b,w,E,x,S,_,A,T,L,k=this._hash.words,I=l.words,O=h.words,N=a.words,P=s.words,C=c.words,D=u.words;for(x=i=k[0],S=f=k[1],_=b=k[2],A=w=k[3],T=E=k[4],r=0;r<80;r+=1)L=i+t[e+N[r]]|0,L+=r<16?p(f,b,w)+I[0]:r<32?d(f,b,w)+I[1]:r<48?y(f,b,w)+I[2]:r<64?v(f,b,w)+I[3]:m(f,b,w)+I[4],L=(L=g(L|=0,C[r]))+E|0,i=E,E=w,w=g(b,10),b=f,f=L,L=x+t[e+P[r]]|0,L+=r<16?m(S,_,A)+O[0]:r<32?v(S,_,A)+O[1]:r<48?y(S,_,A)+O[2]:r<64?d(S,_,A)+O[3]:p(S,_,A)+O[4],L=(L=g(L|=0,D[r]))+T|0,x=T,T=A,A=g(_,10),_=S,S=L;L=k[1]+b+A|0,k[1]=k[2]+w+T|0,k[2]=k[3]+E+x|0,k[3]=k[4]+i+S|0,k[4]=k[0]+f+_|0,k[0]=L},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function d(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function v(t,e,r){return t&r|e&~r}function m(t,e,r){return t^(e|~r)}function g(t,e){return t<<e|t>>>32-e}t.RIPEMD160=o._createHelper(f),t.HmacRIPEMD160=o._createHmacHelper(f)}(),n.RIPEMD160)},1115:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),o=(n=l).lib,i=o.WordArray,a=o.Hasher,s=n.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var h=(n<<5|n>>>27)+s+c[u];h+=u<20?1518500249+(o&i|~o&a):u<40?1859775393+(o^i^a):u<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),l.SHA1)},2424:function(t,e,r){var n,o,i,a,s,c;t.exports=(c=r(9305),r(2141),o=(n=c).lib.WordArray,i=n.algo,a=i.SHA256,s=i.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),c.SHA224)},2141:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(s[o]=r(t.pow(n,.5))),c[o]=r(t.pow(n,1/3)),o++),n++}();var u=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],l=r[5],h=r[6],f=r[7],p=0;p<64;p++){if(p<16)u[p]=0|t[e+p];else{var d=u[p-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=u[p-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[p]=y+u[p-7]+m+u[p-16]}var g=n&o^n&i^o&i,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&h)+c[p]+u[p];f=h,h=l,l=s,s=a+w|0,a=i,i=o,o=n,n=w+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(l),e.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)},7501:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),function(t){var e=n,r=e.lib,o=r.WordArray,i=r.Hasher,a=e.x64.Word,s=e.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,r=0;r<24;r++){c[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,h=0,f=0;f<7;f++){if(1&o){var p=(1<<f)-1;p<32?h^=1<<p:s^=1<<p-32}128&o?o=o<<1^113:o<<=1}l[i]=a.create(s,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=a.create()}();var f=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,o=0;o<n;o++){var i=t[e+2*o],a=t[e+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(k=r[o]).high^=a,k.low^=i}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var p=0,d=0,y=0;y<5;y++)p^=(k=r[f+5*y]).high,d^=k.low;var v=h[f];v.high=p,v.low=d}for(f=0;f<5;f++){var m=h[(f+4)%5],g=h[(f+1)%5],b=g.high,w=g.low;for(p=m.high^(b<<1|w>>>31),d=m.low^(w<<1|b>>>31),y=0;y<5;y++)(k=r[f+5*y]).high^=p,k.low^=d}for(var E=1;E<25;E++){var x=(k=r[E]).high,S=k.low,_=c[E];_<32?(p=x<<_|S>>>32-_,d=S<<_|x>>>32-_):(p=S<<_-32|x>>>64-_,d=x<<_-32|S>>>64-_);var A=h[u[E]];A.high=p,A.low=d}var T=h[0],L=r[0];for(T.high=L.high,T.low=L.low,f=0;f<5;f++)for(y=0;y<5;y++){var k=r[E=f+5*y],I=h[E],O=h[(f+1)%5+5*y],N=h[(f+2)%5+5*y];k.high=I.high^~O.high&N.high,k.low=I.low^~O.low&N.low}k=r[0];var P=l[s];k.high^=P.high,k.low^=P.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var h=a[l],f=h.high,p=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(f)}return new o.init(u,s)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=i._createHelper(f),e.HmacSHA3=i._createHmacHelper(f)}(Math),n.SHA3)},5145:function(t,e,r){var n,o,i,a,s,c,u,l;t.exports=(l=r(9305),r(6044),r(520),o=(n=l).x64,i=o.Word,a=o.WordArray,s=n.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u),l.SHA384)},520:function(t,e,r){var n;t.exports=(n=r(9305),r(6044),function(){var t=n,e=t.lib.Hasher,r=t.x64,o=r.Word,i=r.WordArray,a=t.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],l=r[5],h=r[6],f=r[7],p=n.high,d=n.low,y=o.high,v=o.low,m=i.high,g=i.low,b=a.high,w=a.low,E=s.high,x=s.low,S=l.high,_=l.low,A=h.high,T=h.low,L=f.high,k=f.low,I=p,O=d,N=y,P=v,C=m,D=g,R=b,F=w,j=E,B=x,M=S,G=_,U=A,H=T,q=L,V=k,K=0;K<80;K++){var Y=u[K];if(K<16)var W=Y.high=0|t[e+2*K],z=Y.low=0|t[e+2*K+1];else{var X=u[K-15],$=X.high,J=X.low,Q=($>>>1|J<<31)^($>>>8|J<<24)^$>>>7,Z=(J>>>1|$<<31)^(J>>>8|$<<24)^(J>>>7|$<<25),tt=u[K-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,ot=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),it=u[K-7],at=it.high,st=it.low,ct=u[K-16],ut=ct.high,lt=ct.low;W=(W=(W=Q+at+((z=Z+st)>>>0<Z>>>0?1:0))+nt+((z+=ot)>>>0<ot>>>0?1:0))+ut+((z+=lt)>>>0<lt>>>0?1:0),Y.high=W,Y.low=z}var ht,ft=j&M^~j&U,pt=B&G^~B&H,dt=I&N^I&C^N&C,yt=O&P^O&D^P&D,vt=(I>>>28|O<<4)^(I<<30|O>>>2)^(I<<25|O>>>7),mt=(O>>>28|I<<4)^(O<<30|I>>>2)^(O<<25|I>>>7),gt=(j>>>14|B<<18)^(j>>>18|B<<14)^(j<<23|B>>>9),bt=(B>>>14|j<<18)^(B>>>18|j<<14)^(B<<23|j>>>9),wt=c[K],Et=wt.high,xt=wt.low,St=q+gt+((ht=V+bt)>>>0<V>>>0?1:0),_t=mt+yt;q=U,V=H,U=M,H=G,M=j,G=B,j=R+(St=(St=(St=St+ft+((ht+=pt)>>>0<pt>>>0?1:0))+Et+((ht+=xt)>>>0<xt>>>0?1:0))+W+((ht+=z)>>>0<z>>>0?1:0))+((B=F+ht|0)>>>0<F>>>0?1:0)|0,R=C,F=D,C=N,D=P,N=I,P=O,I=St+(vt+dt+(_t>>>0<mt>>>0?1:0))+((O=ht+_t|0)>>>0<ht>>>0?1:0)|0}d=n.low=d+O,n.high=p+I+(d>>>0<O>>>0?1:0),v=o.low=v+P,o.high=y+N+(v>>>0<P>>>0?1:0),g=i.low=g+D,i.high=m+C+(g>>>0<D>>>0?1:0),w=a.low=w+F,a.high=b+R+(w>>>0<F>>>0?1:0),x=s.low=x+B,s.high=E+j+(x>>>0<B>>>0?1:0),_=l.low=_+G,l.high=S+M+(_>>>0<G>>>0?1:0),T=h.low=T+H,h.high=A+U+(T>>>0<H>>>0?1:0),k=f.low=k+V,f.high=L+q+(k>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),n.SHA512)},7896:function(t,e,r){var n;t.exports=(n=r(9305),r(3118),r(9672),r(4894),r(6113),function(){var t=n,e=t.lib,r=e.WordArray,o=e.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var u=o[i]=[],l=c[i];for(r=0;r<24;r++)u[r/6|0]|=e[(s[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=e[28+(s[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=o[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=r[n],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^o[c])&l[c])>>>0];this._lBlock=a,this._rBlock=i^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function p(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=o._createHelper(h);var d=i.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(r.create(t.slice(0,2))),this._des2=h.createEncryptor(r.create(t.slice(2,4))),this._des3=h.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(d)}(),n.TripleDES)},6044:function(t,e,r){var n;t.exports=(n=r(9305),function(t){var e=n,r=e.lib,o=r.Base,i=r.WordArray,a=e.x64={};a.Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var o=t[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}})}(),n)},8239:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,l=-7,h=r?o-1:0,f=r?-1:1,p=t[e+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+h],h+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,h=l>>1,f=23===o?5.960464477539062e-8:0,p=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(s=isNaN(e)?1:0,a=l):(e*(c=Math.pow(2,-(a=Math.floor(Math.log(e)/Math.LN2))))<1&&(a--,c*=2),(e+=a+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*c-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[r+p]=255&a,p+=d,a/=256,u-=8);t[r+p-d]|=128*y}},2169:(t,e,r)=>{var n=r(8120).stringify,o=r(3990);t.exports=function(t){return{parse:o(t),stringify:n}},t.exports.parse=o(),t.exports.stringify=n},3990:(t,e,r)=>{var n=null;const o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;t.exports=function(t){"use strict";var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=t){if(!0===t.strict&&(e.strict=!0),!0===t.storeAsString&&(e.storeAsString=!0),e.alwaysParseAsBig=!0===t.alwaysParseAsBig&&t.alwaysParseAsBig,e.useNativeBigInt=!0===t.useNativeBigInt&&t.useNativeBigInt,void 0!==t.constructorAction){if("error"!==t.constructorAction&&"ignore"!==t.constructorAction&&"preserve"!==t.constructorAction)throw Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '+t.constructorAction);e.constructorAction=t.constructorAction}if(void 0!==t.protoAction){if("error"!==t.protoAction&&"ignore"!==t.protoAction&&"preserve"!==t.protoAction)throw Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '+t.protoAction);e.protoAction=t.protoAction}}var a,s,c,u,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},h=function(t){throw{name:"SyntaxError",message:t,at:a,text:c}},f=function(t){return t&&t!==s&&h("Expected '"+t+"' instead of '"+s+"'"),s=c.charAt(a),a+=1,s},p=function(){var t,o="";for("-"===s&&(o="-",f("-"));s>="0"&&s<="9";)o+=s,f();if("."===s)for(o+=".";f()&&s>="0"&&s<="9";)o+=s;if("e"===s||"E"===s)for(o+=s,f(),"-"!==s&&"+"!==s||(o+=s,f());s>="0"&&s<="9";)o+=s,f();if(isFinite(t=+o))return null==n&&(n=r(9030)),o.length>15?e.storeAsString?o:e.useNativeBigInt?BigInt(o):new n(o):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(t):new n(t):t;h("Bad number")},d=function(){var t,e,r,n="";if('"'===s)for(var o=a;f();){if('"'===s)return a-1>o&&(n+=c.substring(o,a-1)),f(),n;if("\\"===s){if(a-1>o&&(n+=c.substring(o,a-1)),f(),"u"===s){for(r=0,e=0;e<4&&(t=parseInt(f(),16),isFinite(t));e+=1)r=16*r+t;n+=String.fromCharCode(r)}else{if("string"!=typeof l[s])break;n+=l[s]}o=a}}h("Bad string")},y=function(){for(;s&&s<=" ";)f()};return u=function(){switch(y(),s){case"{":return function(){var t,r=Object.create(null);if("{"===s){if(f("{"),y(),"}"===s)return f("}"),r;for(;s;){if(t=d(),y(),f(":"),!0===e.strict&&Object.hasOwnProperty.call(r,t)&&h('Duplicate key "'+t+'"'),!0===o.test(t)?"error"===e.protoAction?h("Object contains forbidden prototype property"):"ignore"===e.protoAction?u():r[t]=u():!0===i.test(t)?"error"===e.constructorAction?h("Object contains forbidden constructor property"):"ignore"===e.constructorAction?u():r[t]=u():r[t]=u(),y(),"}"===s)return f("}"),r;f(","),y()}}h("Bad object")}();case"[":return function(){var t=[];if("["===s){if(f("["),y(),"]"===s)return f("]"),t;for(;s;){if(t.push(u()),y(),"]"===s)return f("]"),t;f(","),y()}}h("Bad array")}();case'"':return d();case"-":return p();default:return s>="0"&&s<="9"?p():function(){switch(s){case"t":return f("t"),f("r"),f("u"),f("e"),!0;case"f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case"n":return f("n"),f("u"),f("l"),f("l"),null}h("Unexpected '"+s+"'")}()}},function(t,e){var r;return c=t+"",a=0,s=" ",r=u(),y(),s&&h("Syntax error"),"function"==typeof e?function t(r,n){var o,i=r[n];return i&&"object"==typeof i&&Object.keys(i).forEach((function(e){void 0!==(o=t(i,e))?i[e]=o:delete i[e]})),e.call(r,n,i)}({"":r},""):r}}},8120:(t,e,r)=>{var n=r(9030),o=t.exports;!function(){"use strict";var t,e,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,(function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function c(o,i){var a,u,l,h,f,p=t,d=i[o],y=null!=d&&(d instanceof n||n.isBigNumber(d));switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(o)),"function"==typeof r&&(d=r.call(i,o,d)),typeof d){case"string":return y?d:s(d);case"number":return isFinite(d)?d+"":"null";case"boolean":case"null":case"bigint":return d+"";case"object":if(!d)return"null";if(t+=e,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(h=d.length,a=0;a<h;a+=1)f[a]=c(a,d)||"null";return l=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+p+"]":"["+f.join(",")+"]",t=p,l}if(r&&"object"==typeof r)for(h=r.length,a=0;a<h;a+=1)"string"==typeof r[a]&&(l=c(u=r[a],d))&&f.push(s(u)+(t?": ":":")+l);else Object.keys(d).forEach((function(e){var r=c(e,d);r&&f.push(s(e)+(t?": ":":")+r)}));return l=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+p+"}":"{"+f.join(",")+"}",t=p,l}}"function"!=typeof o.stringify&&(o.stringify=function(n,o,i){var a;if(t="",e="","number"==typeof i)for(a=0;a<i;a+=1)e+=" ";else"string"==typeof i&&(e=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw Error("JSON.stringify");return c("",{"":n})})}()},4759:(t,e)=>{var r,n,o,i,a,s,c,u,l,h,f,p={userAgent:!1},d={},y=y||(r=Math,o=(n={}).lib={},i=o.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=o.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=r.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*r.random()|0);return new a.init(e,t)}}),s=n.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,o=e.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=t?r.ceil(s):r.max((0|s)-this._minBufferSize,0))*i,u=r.min(4*c,o);if(c){for(var l=0;l<c;l+=i)this._doProcessBlock(n,l);var h=n.splice(0,c);e.sigBytes-=u}return new a.init(h,u)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),o.Hasher=h.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}}),f=n.algo={},n);!function(){var t,e=(t=y).lib,r=e.Base,n=e.WordArray;(t=t.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),t.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],o=0;o<e;o++){var i=t[o];r.push(i.high),r.push(i.low)}return n.create(r,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,o=0;o<n;o++)e[o]=e[o].clone();return t}})}(),y.lib.Cipher||function(){var t=(f=y).lib,e=t.Base,r=t.WordArray,n=t.BufferedBlockAlgorithm,o=f.enc.Base64,i=f.algo.EvpKDF,a=t.Cipher=n.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,n){return("string"==typeof r?p:h).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?p:h).decrypt(t,e,r,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=f.mode={},c=function(t,e,r){var n=this._iv;n?this._iv=undefined:n=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=n[o]},u=(t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;c.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),u.Decryptor=u.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=t.slice(e,e+n);r.decryptBlock(t,e),c.call(this,t,e,n),this._prevBlock=o}}),s=s.CBC=u,u=(f.pad={}).Pkcs7={pad:function(t,e){for(var n,o=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);n=r.create(i,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:s,padding:u}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(s=(f.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){var e=(t=o.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:n})}},t.SerializableCipher=e.extend({cfg:e.extend({format:s}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n);return e=o.finalize(e),o=o.cfg,l.create({ciphertext:e,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),f=(f.kdf={}).OpenSSL={execute:function(t,e,n,o){return o||(o=r.random(8)),t=i.create({keySize:e+n}).compute(t,o),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,l.create({key:t,iv:n,salt:o})}},p=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:f}),encrypt:function(t,e,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize),n.iv=r.iv,(t=h.encrypt.call(this,t,e,r.key,n)).mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.execute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,h.decrypt.call(this,t,e,r.key,n)}})}(),function(){for(var t=y,e=t.lib.BlockCipher,r=t.algo,n=[],o=[],i=[],a=[],s=[],c=[],u=[],l=[],h=[],f=[],p=[],d=0;256>d;d++)p[d]=128>d?d<<1:d<<1^283;var v=0,m=0;for(d=0;256>d;d++){var g=(g=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&g^99;n[v]=g,o[g]=v;var b=p[v],w=p[b],E=p[w],x=257*p[g]^16843008*g;i[v]=x<<24|x>>>8,a[v]=x<<16|x>>>16,s[v]=x<<8|x>>>24,c[v]=x,x=16843009*E^65537*w^257*b^16843008*v,u[g]=x<<24|x>>>8,l[g]=x<<16|x>>>16,h[g]=x<<8|x>>>24,f[g]=x,v?(v=b^p[p[p[E^b]]],m^=p[p[m]]):v=m=1}var S=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=e.extend({_doReset:function(){for(var t=(r=this._key).words,e=r.sigBytes/4,r=4*((this._nRounds=e+6)+1),o=this._keySchedule=[],i=0;i<r;i++)if(i<e)o[i]=t[i];else{var a=o[i-1];i%e?6<e&&4==i%e&&(a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a]):(a=n[(a=a<<8|a>>>24)>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a],a^=S[i/e|0]<<24),o[i]=o[i-e]^a}for(t=this._invKeySchedule=[],e=0;e<r;e++)i=r-e,a=e%4?o[i]:o[i-4],t[e]=4>e||4>=i?a:u[n[a>>>24]]^l[n[a>>>16&255]]^h[n[a>>>8&255]]^f[n[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,a,s,c,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,l,h,f,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,a,s){for(var c=this._nRounds,u=t[e]^r[0],l=t[e+1]^r[1],h=t[e+2]^r[2],f=t[e+3]^r[3],p=4,d=1;d<c;d++){var y=n[u>>>24]^o[l>>>16&255]^i[h>>>8&255]^a[255&f]^r[p++],v=n[l>>>24]^o[h>>>16&255]^i[f>>>8&255]^a[255&u]^r[p++],m=n[h>>>24]^o[f>>>16&255]^i[u>>>8&255]^a[255&l]^r[p++];f=n[f>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&h]^r[p++],u=y,l=v,h=m}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&f])^r[p++],v=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^r[p++],m=(s[h>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[p++],f=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^r[p++],t[e]=y,t[e+1]=v,t[e+2]=m,t[e+3]=f},keySize:8});t.AES=e._createHelper(r)}(),function(){function t(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function e(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}var r=y,n=(o=r.lib).WordArray,o=o.BlockCipher,i=r.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;56>r;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(t=this._subKeys=[],n=0;16>n;n++){var o=t[n]=[],i=c[n];for(r=0;24>r;r++)o[r/6|0]|=e[(s[r]-1+i)%28]<<31-r%6,o[4+(r/6|0)]|=e[28+(s[r+24]-1+i)%28]<<31-r%6;for(o[0]=o[0]<<1|o[0]>>>31,r=1;7>r;r++)o[r]>>>=4*(r-1)+3;o[7]=o[7]<<5|o[7]>>>27}for(e=this._invSubKeys=[],r=0;16>r;r++)e[r]=t[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(r,n,o){this._lBlock=r[n],this._rBlock=r[n+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var i=0;16>i;i++){for(var a=o[i],s=this._lBlock,c=this._rBlock,h=0,f=0;8>f;f++)h|=u[f][((c^a[f])&l[f])>>>0];this._lBlock=c,this._rBlock=s^h}o=this._lBlock,this._lBlock=this._rBlock,this._rBlock=o,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),r[n]=this._lBlock,r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=o._createHelper(h),i=i.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(n.create(t.slice(0,2))),this._des2=h.createEncryptor(n.create(t.slice(2,4))),this._des3=h.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=o._createHelper(i)}(),function(){var t=y,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var o=0;o<r;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<r;a++)t.push(n.charAt(i>>>6*(3-a)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,n=this._map;(o=n.charAt(64))&&(-1!=(o=t.indexOf(o))&&(r=o));for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(t.charAt(a-1))<<a%4*2,c=n.indexOf(t.charAt(a))>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return e.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,n,o,i,a){return((t=t+(e&r|~e&n)+o+a)<<i|t>>>32-i)+e}function r(t,e,r,n,o,i,a){return((t=t+(e&n|r&~n)+o+a)<<i|t>>>32-i)+e}function n(t,e,r,n,o,i,a){return((t=t+(e^r^n)+o+a)<<i|t>>>32-i)+e}function o(t,e,r,n,o,i,a){return((t=t+(r^(e|~n))+o+a)<<i|t>>>32-i)+e}for(var i=y,a=(c=i.lib).WordArray,s=c.Hasher,c=i.algo,u=[],l=0;64>l;l++)u[l]=4294967296*t.abs(t.sin(l+1))|0;c=c.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var a=0;16>a;a++){var s=t[c=i+a];t[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var c=t[i+0],l=(s=t[i+1],t[i+2]),h=t[i+3],f=t[i+4],p=t[i+5],d=t[i+6],y=t[i+7],v=t[i+8],m=t[i+9],g=t[i+10],b=t[i+11],w=t[i+12],E=t[i+13],x=t[i+14],S=t[i+15],_=e(_=a[0],L=a[1],T=a[2],A=a[3],c,7,u[0]),A=e(A,_,L,T,s,12,u[1]),T=e(T,A,_,L,l,17,u[2]),L=e(L,T,A,_,h,22,u[3]);_=e(_,L,T,A,f,7,u[4]),A=e(A,_,L,T,p,12,u[5]),T=e(T,A,_,L,d,17,u[6]),L=e(L,T,A,_,y,22,u[7]),_=e(_,L,T,A,v,7,u[8]),A=e(A,_,L,T,m,12,u[9]),T=e(T,A,_,L,g,17,u[10]),L=e(L,T,A,_,b,22,u[11]),_=e(_,L,T,A,w,7,u[12]),A=e(A,_,L,T,E,12,u[13]),T=e(T,A,_,L,x,17,u[14]),_=r(_,L=e(L,T,A,_,S,22,u[15]),T,A,s,5,u[16]),A=r(A,_,L,T,d,9,u[17]),T=r(T,A,_,L,b,14,u[18]),L=r(L,T,A,_,c,20,u[19]),_=r(_,L,T,A,p,5,u[20]),A=r(A,_,L,T,g,9,u[21]),T=r(T,A,_,L,S,14,u[22]),L=r(L,T,A,_,f,20,u[23]),_=r(_,L,T,A,m,5,u[24]),A=r(A,_,L,T,x,9,u[25]),T=r(T,A,_,L,h,14,u[26]),L=r(L,T,A,_,v,20,u[27]),_=r(_,L,T,A,E,5,u[28]),A=r(A,_,L,T,l,9,u[29]),T=r(T,A,_,L,y,14,u[30]),_=n(_,L=r(L,T,A,_,w,20,u[31]),T,A,p,4,u[32]),A=n(A,_,L,T,v,11,u[33]),T=n(T,A,_,L,b,16,u[34]),L=n(L,T,A,_,x,23,u[35]),_=n(_,L,T,A,s,4,u[36]),A=n(A,_,L,T,f,11,u[37]),T=n(T,A,_,L,y,16,u[38]),L=n(L,T,A,_,g,23,u[39]),_=n(_,L,T,A,E,4,u[40]),A=n(A,_,L,T,c,11,u[41]),T=n(T,A,_,L,h,16,u[42]),L=n(L,T,A,_,d,23,u[43]),_=n(_,L,T,A,m,4,u[44]),A=n(A,_,L,T,w,11,u[45]),T=n(T,A,_,L,S,16,u[46]),_=o(_,L=n(L,T,A,_,l,23,u[47]),T,A,c,6,u[48]),A=o(A,_,L,T,y,10,u[49]),T=o(T,A,_,L,x,15,u[50]),L=o(L,T,A,_,p,21,u[51]),_=o(_,L,T,A,w,6,u[52]),A=o(A,_,L,T,h,10,u[53]),T=o(T,A,_,L,g,15,u[54]),L=o(L,T,A,_,s,21,u[55]),_=o(_,L,T,A,v,6,u[56]),A=o(A,_,L,T,S,10,u[57]),T=o(T,A,_,L,d,15,u[58]),L=o(L,T,A,_,E,21,u[59]),_=o(_,L,T,A,f,6,u[60]),A=o(A,_,L,T,b,10,u[61]),T=o(T,A,_,L,l,15,u[62]),L=o(L,T,A,_,m,21,u[63]);a[0]=a[0]+_|0,a[1]=a[1]+L|0,a[2]=a[2]+T|0,a[3]=a[3]+A|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296);for(r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(r.length+1),this._process(),r=(e=this._hash).words,n=0;4>n;n++)o=r[n],r[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return e},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),i.MD5=s._createHelper(c),i.HmacMD5=s._createHmacHelper(c)}(Math),function(){var t=y,e=(o=t.lib).WordArray,r=o.Hasher,n=[],o=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,o=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=0;80>u;u++){if(16>u)n[u]=0|t[e+u];else{var l=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=l<<1|l>>>31}l=(o<<5|o>>>27)+c+n[u],l=20>u?l+(1518500249+(i&a|~i&s)):40>u?l+(1859775393+(i^a^s)):60>u?l+((i&a|i&s|a&s)-1894007588):l+((i^a^s)-899497514),c=s,s=a,a=i<<30|i>>>2,i=o,o=l}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(o),t.HmacSHA1=r._createHmacHelper(o)}(),function(t){for(var e=y,r=(o=e.lib).WordArray,n=o.Hasher,o=e.algo,i=[],a=[],s=function(t){return 4294967296*(t-(0|t))|0},c=2,u=0;64>u;){var l;t:{l=c;for(var h=t.sqrt(l),f=2;f<=h;f++)if(!(l%f)){l=!1;break t}l=!0}l&&(8>u&&(i[u]=s(t.pow(c,.5))),a[u]=s(t.pow(c,1/3)),u++),c++}var p=[];o=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(i.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],c=r[4],u=r[5],l=r[6],h=r[7],f=0;64>f;f++){if(16>f)p[f]=0|t[e+f];else{var d=p[f-15],y=p[f-2];p[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[f-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+p[f-16]}d=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+a[f]+p[f],y=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&o^n&i^o&i),h=l,l=u,u=c,c=s+d|0,s=i,i=o,o=n,n=d+y|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+u|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=n._createHelper(o),e.HmacSHA256=n._createHmacHelper(o)}(Math),function(){var t=y,e=t.lib.WordArray,r=(n=t.algo).SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(n),t.HmacSHA224=r._createHmacHelper(n)}(),function(){function t(){return n.create.apply(n,arguments)}for(var e=y,r=e.lib.Hasher,n=(i=e.x64).Word,o=i.WordArray,i=e.algo,a=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],s=[],c=0;80>c;c++)s[c]=t();i=i.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=(h=this._hash.words)[0],n=h[1],o=h[2],i=h[3],c=h[4],u=h[5],l=h[6],h=h[7],f=r.high,p=r.low,d=n.high,y=n.low,v=o.high,m=o.low,g=i.high,b=i.low,w=c.high,E=c.low,x=u.high,S=u.low,_=l.high,A=l.low,T=h.high,L=h.low,k=f,I=p,O=d,N=y,P=v,C=m,D=g,R=b,F=w,j=E,B=x,M=S,G=_,U=A,H=T,q=L,V=0;80>V;V++){var K=s[V];if(16>V)var Y=K.high=0|t[e+2*V],W=K.low=0|t[e+2*V+1];else{Y=((W=(Y=s[V-15]).high)>>>1|(z=Y.low)<<31)^(W>>>8|z<<24)^W>>>7;var z=(z>>>1|W<<31)^(z>>>8|W<<24)^(z>>>7|W<<25),X=((W=(X=s[V-2]).high)>>>19|($=X.low)<<13)^(W<<3|$>>>29)^W>>>6,$=($>>>19|W<<13)^($<<3|W>>>29)^($>>>6|W<<26),J=(W=s[V-7]).high,Q=(Z=s[V-16]).high,Z=Z.low;Y=(Y=(Y=Y+J+((W=z+W.low)>>>0<z>>>0?1:0))+X+((W=W+$)>>>0<$>>>0?1:0))+Q+((W=W+Z)>>>0<Z>>>0?1:0);K.high=Y,K.low=W}J=F&B^~F&G,Z=j&M^~j&U,K=k&O^k&P^O&P;var tt=I&N^I&C^N&C,et=(z=(k>>>28|I<<4)^(k<<30|I>>>2)^(k<<25|I>>>7),X=(I>>>28|k<<4)^(I<<30|k>>>2)^(I<<25|k>>>7),($=a[V]).high),rt=$.low;Q=H+((F>>>14|j<<18)^(F>>>18|j<<14)^(F<<23|j>>>9))+(($=q+((j>>>14|F<<18)^(j>>>18|F<<14)^(j<<23|F>>>9)))>>>0<q>>>0?1:0),H=G,q=U,G=B,U=M,B=F,M=j,F=D+(Q=(Q=(Q=Q+J+(($=$+Z)>>>0<Z>>>0?1:0))+et+(($=$+rt)>>>0<rt>>>0?1:0))+Y+(($=$+W)>>>0<W>>>0?1:0))+((j=R+$|0)>>>0<R>>>0?1:0)|0,D=P,R=C,P=O,C=N,O=k,N=I,k=Q+(K=z+K+((W=X+tt)>>>0<X>>>0?1:0))+((I=$+W|0)>>>0<$>>>0?1:0)|0}p=r.low=p+I,r.high=f+k+(p>>>0<I>>>0?1:0),y=n.low=y+N,n.high=d+O+(y>>>0<N>>>0?1:0),m=o.low=m+C,o.high=v+P+(m>>>0<C>>>0?1:0),b=i.low=b+R,i.high=g+D+(b>>>0<R>>>0?1:0),E=c.low=E+j,c.high=w+F+(E>>>0<j>>>0?1:0),S=u.low=S+M,u.high=x+B+(S>>>0<M>>>0?1:0),A=l.low=A+U,l.high=_+G+(A>>>0<U>>>0?1:0),L=h.low=L+q,h.high=T+H+(L>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=r._createHelper(i),e.HmacSHA512=r._createHmacHelper(i)}(),function(){var t=y,e=(o=t.x64).Word,r=o.WordArray,n=(o=t.algo).SHA512,o=o.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=n._createHelper(o),t.HmacSHA384=n._createHmacHelper(o)}(),function(){var t=y,e=(n=t.lib).WordArray,r=n.Hasher,n=t.algo,o=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),i=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=e.create([0,1518500249,1859775393,2400959708,2840853838]),u=e.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=r.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;16>r;r++){var n=t[w=e+r];t[w]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var l,h,f,p,d,y,v,m,g,b,w=this._hash.words,E=(n=c.words,u.words),x=o.words,S=i.words,_=a.words,A=s.words;y=l=w[0],v=h=w[1],m=f=w[2],g=p=w[3],b=d=w[4];var T;for(r=0;80>r;r+=1)T=l+t[e+x[r]]|0,T=16>r?T+((h^f^p)+n[0]):32>r?T+((h&f|~h&p)+n[1]):48>r?T+(((h|~f)^p)+n[2]):64>r?T+((h&p|f&~p)+n[3]):T+((h^(f|~p))+n[4]),T=(T=(T|=0)<<_[r]|T>>>32-_[r])+d|0,l=d,d=p,p=f<<10|f>>>22,f=h,h=T,T=y+t[e+S[r]]|0,T=16>r?T+((v^(m|~g))+E[0]):32>r?T+((v&g|m&~g)+E[1]):48>r?T+(((v|~m)^g)+E[2]):64>r?T+((v&m|~v&g)+E[3]):T+((v^m^g)+E[4]),T=(T=(T|=0)<<A[r]|T>>>32-A[r])+b|0,y=b,b=g,g=m<<10|m>>>22,m=v,v=T;T=w[1]+f+g|0,w[1]=w[2]+p+b|0,w[2]=w[3]+d+y|0,w[3]=w[4]+l+v|0,w[4]=w[0]+h+m|0,w[0]=T},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;for(e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,r=0;5>r;r++)n=e[r],e[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.RIPEMD160=r._createHelper(n),t.HmacRIPEMD160=r._createHmacHelper(n)}(),function(){var t=y,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,o=4*n;r.sigBytes>o&&(r=t.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,e=y,r=(t=e.lib).Base,n=t.WordArray,o=(t=e.algo).HMAC,i=t.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var r=this.cfg,i=o.create(r.hasher,t),a=n.create(),s=n.create([1]),c=a.words,u=s.words,l=r.keySize;for(r=r.iterations;c.length<l;){var h=i.update(e).finalize(s);i.reset();for(var f=h.words,p=f.length,d=h,y=1;y<r;y++){d=i.finalize(d),i.reset();for(var v=d.words,m=0;m<p;m++)f[m]^=v[m]}a.concat(h),u[0]++}return a.sigBytes=4*l,a}});e.PBKDF2=function(t,e,r){return i.create(r).compute(t,e)}}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function g(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=m.charAt(r>>6)+m.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=m.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=m.charAt(r>>2)+m.charAt((3&r)<<4)),"=";(3&n.length)>0;)n+="=";return n}function b(t){var e,r,n,o="",i=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(n=m.indexOf(t.charAt(e)))<0||(0==i?(o+=L(n>>2),r=3&n,i=1):1==i?(o+=L(r<<2|n>>4),r=15&n,i=2):2==i?(o+=L(r),o+=L(n>>2),r=3&n,i=3):(o+=L(r<<2|n>>4),o+=L(15&n),i=0));return 1==i&&(o+=L(r<<2)),o}function w(t){var e,r=b(t),n=[];for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function E(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function x(){return new E(null)}"Microsoft Internet Explorer"==p.appName?(E.prototype.am=function(t,e,r,n,o,i){for(var a=32767&e,s=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;o=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&o))>>>30)+(l>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},v=30):"Netscape"!=p.appName?(E.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var a=e*this[t++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},v=26):(E.prototype.am=function(t,e,r,n,o,i){for(var a=16383&e,s=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;o=((c=a*c+((16383&l)<<14)+r[n]+o)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return o},v=28),E.prototype.DB=v,E.prototype.DM=(1<<v)-1,E.prototype.DV=1<<v;E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-v,E.prototype.F2=2*v-52;var S,_,A="0123456789abcdefghijklmnopqrstuvwxyz",T=[];for(S=48,_=0;_<=9;++_)T[S++]=_;for(S=97,_=10;_<36;++_)T[S++]=_;for(S=65,_=10;_<36;++_)T[S++]=_;function L(t){return A.charAt(t)}function k(t,e){var r=T[t.charCodeAt(e)];return null==r?-1:r}function I(t){var e=x();return e.fromInt(t),e}function O(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function N(t){this.m=t}function P(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function C(t,e){return t&e}function D(t,e){return t|e}function R(t,e){return t^e}function F(t,e){return t&~e}function j(t){if(0==t)return-1;var e=0;return 65535&t||(t>>=16,e+=16),255&t||(t>>=8,e+=8),15&t||(t>>=4,e+=4),3&t||(t>>=2,e+=2),1&t||++e,e}function B(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function M(){}function G(t){return t}function U(t){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}N.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},N.prototype.revert=function(t){return t},N.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},N.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},N.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},P.prototype.convert=function(t){var e=x();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},P.prototype.revert=function(t){var e=x();return t.copyTo(e),this.reduce(e),e},P.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},P.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},P.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},E.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},E.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},E.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,o=!1,i=0;--n>=0;){var a=8==r?255&t[n]:k(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=r)>=this.DB&&(i-=this.DB))}8==r&&128&t[0]&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},E.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},E.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},E.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,o=this.DB-n,i=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+a+1]=this[r]>>o|s,s=(this[r]&i)<<n;for(r=a-1;r>=0;--r)e[r]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&i)<<o,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},E.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},E.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},E.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=x());var i=x(),a=this.s,s=t.s,c=this.DB-O(n[n.t-1]);c>0?(n.lShiftTo(c,i),o.lShiftTo(c,r)):(n.copyTo(i),o.copyTo(r));var u=i.t,l=i[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),f=this.FV/h,p=(1<<this.F1)/h,d=1<<this.F2,y=r.t,v=y-u,m=null==e?x():e;for(i.dlShiftTo(v,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),E.ONE.dlShiftTo(u,m),m.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--v>=0;){var g=r[--y]==l?this.DM:Math.floor(r[y]*f+(r[y-1]+d)*p);if((r[y]+=i.am(0,g,r,v,0,u))<g)for(i.dlShiftTo(v,m),r.subTo(m,r);r[y]<--g;)r.subTo(m,r)}null!=e&&(r.drShiftTo(u,e),a!=s&&E.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&E.ZERO.subTo(r,r)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(t,e){if(t>4294967295||t<1)return E.ONE;var r=x(),n=x(),o=e.convert(this),i=O(t)-1;for(o.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,o,r);else{var a=r;r=n,n=a}return e.revert(r)},E.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(o=!0,i=L(r));a>=0;)s<e?(r=(this[a]&(1<<s)-1)<<e-s,r|=this[--a]>>(s+=this.DB-e)):(r=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=L(r));return o?i:"0"},E.prototype.negate=function(){var t=x();return E.ZERO.subTo(this,t),t},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(t){var e=x();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e},E.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new N(e):new P(e),this.exp(t,r)},E.ZERO=I(0),E.ONE=I(1),M.prototype.convert=G,M.prototype.revert=G,M.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},M.prototype.sqrTo=function(t,e){t.squareTo(e)},U.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=x();return t.copyTo(e),this.reduce(e),e},U.prototype.revert=function(t){return t},U.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},U.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},U.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var H=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],q=(1<<26)/H[H.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function V(){this.i=0,this.j=0,this.S=[]}E.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},E.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=I(r),o=x(),i=x(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(t).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(t)+a},E.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,i=0,a=0,s=0;s<t.length;++s){var c=k(t,s);c<0?"-"==t.charAt(s)&&0==this.signum()&&(o=!0):(a=e*a+c,++i>=r&&(this.dMultiply(n),this.dAddOffset(a,0),i=0,a=0))}i>0&&(this.dMultiply(Math.pow(e,i)),this.dAddOffset(a,0)),o&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=[],o=7&t;n.length=1+(t>>3),e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},E.prototype.bitwiseTo=function(t,e,r){var n,o,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(o=t.s&this.DM,n=i;n<this.t;++n)r[n]=e(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<t.t;++n)r[n]=e(o,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},E.prototype.changeBit=function(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},E.prototype.addTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},E.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function(t,e,r){var n,o=Math.min(this.t+t.t,e);for(r.s=0,r.t=o;o>0;)r[--o]=0;for(n=r.t-this.t;o<n;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(n=Math.min(t.t,e);o<n;++o)this.am(0,t[o],r,o,0,e-o);r.clamp()},E.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},E.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},E.prototype.millerRabin=function(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>H.length&&(t=H.length);for(var o=x(),i=0;i<t;++i){o.fromInt(H[Math.floor(Math.random()*H.length)]);var a=o.modPow(n,this);if(0!=a.compareTo(E.ONE)&&0!=a.compareTo(e)){for(var s=1;s++<r&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},E.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var t=x();return this.copyTo(t),t},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,o=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[o++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),128&r&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(e[o++]=r);return e},E.prototype.equals=function(t){return 0==this.compareTo(t)},E.prototype.min=function(t){return this.compareTo(t)<0?this:t},E.prototype.max=function(t){return this.compareTo(t)>0?this:t},E.prototype.and=function(t){var e=x();return this.bitwiseTo(t,C,e),e},E.prototype.or=function(t){var e=x();return this.bitwiseTo(t,D,e),e},E.prototype.xor=function(t){var e=x();return this.bitwiseTo(t,R,e),e},E.prototype.andNot=function(t){var e=x();return this.bitwiseTo(t,F,e),e},E.prototype.not=function(){for(var t=x(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},E.prototype.shiftLeft=function(t){var e=x();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},E.prototype.shiftRight=function(t){var e=x();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},E.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+j(this[t]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=B(this[r]^e);return t},E.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:!!(this[e]&1<<t%this.DB)},E.prototype.setBit=function(t){return this.changeBit(t,D)},E.prototype.clearBit=function(t){return this.changeBit(t,F)},E.prototype.flipBit=function(t){return this.changeBit(t,R)},E.prototype.add=function(t){var e=x();return this.addTo(t,e),e},E.prototype.subtract=function(t){var e=x();return this.subTo(t,e),e},E.prototype.multiply=function(t){var e=x();return this.multiplyTo(t,e),e},E.prototype.divide=function(t){var e=x();return this.divRemTo(t,e,null),e},E.prototype.remainder=function(t){var e=x();return this.divRemTo(t,null,e),e},E.prototype.divideAndRemainder=function(t){var e=x(),r=x();return this.divRemTo(t,e,r),[e,r]},E.prototype.modPow=function(t,e){var r,n,o=t.bitLength(),i=I(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new N(e):e.isEven()?new U(e):new P(e);var a=[],s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=x();for(n.sqrTo(a[1],l);s<=u;)a[s]=x(),n.mulTo(l,a[s-2],a[s]),s+=2}var h,f,p=t.t-1,d=!0,y=x();for(o=O(t[p])-1;p>=0;){for(o>=c?h=t[p]>>o-c&u:(h=(t[p]&(1<<o+1)-1)<<c-o,p>0&&(h|=t[p-1]>>this.DB+o-c)),s=r;!(1&h);)h>>=1,--s;if((o-=s)<0&&(o+=this.DB,--p),d)a[h].copyTo(i),d=!1;else{for(;s>1;)n.sqrTo(i,y),n.sqrTo(y,i),s-=2;s>0?n.sqrTo(i,y):(f=i,i=y,y=f),n.mulTo(y,a[h],i)}for(;p>=0&&!(t[p]&1<<o);)n.sqrTo(i,y),f=i,i=y,y=f,--o<0&&(o=this.DB-1,--p)}return n.revert(i)},E.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return E.ZERO;for(var r=t.clone(),n=this.clone(),o=I(1),i=I(0),a=I(0),s=I(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(t,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(a,o),i.subTo(s,i)):(n.subTo(r,n),e&&a.subTo(o,a),s.subTo(i,s))}return 0!=n.compareTo(E.ONE)?E.ZERO:s.compareTo(t)>=0?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s},E.prototype.pow=function(t){return this.exp(t,new M)},E.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(o<i&&(i=o),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},E.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=H[H.length-1]){for(e=0;e<H.length;++e)if(r[0]==H[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<H.length;){for(var n=H[e],o=e+1;o<H.length&&n<q;)n*=H[o++];for(n=r.modInt(n);e<o;)if(n%H[e++]==0)return!1}return r.millerRabin(t)},E.prototype.square=function(){var t=x();return this.squareTo(t),t},V.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},V.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var K,Y,W;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){!function(t){Y[W++]^=255&t,Y[W++]^=t>>8&255,Y[W++]^=t>>16&255,Y[W++]^=t>>24&255,W>=256&&(W-=256)}((new Date).getTime())}if(null==Y){var X;if(Y=[],W=0,void 0!==d&&(void 0!==d.crypto||void 0!==d.msCrypto)){var $=d.crypto||d.msCrypto;if($.getRandomValues){var J=new Uint8Array(32);for($.getRandomValues(J),X=0;X<32;++X)Y[W++]=J[X]}else if("Netscape"==p.appName&&p.appVersion<"5"){var Q=d.crypto.random(32);for(X=0;X<Q.length;++X)Y[W++]=255&Q.charCodeAt(X)}}for(;W<256;)X=Math.floor(65536*Math.random()),Y[W++]=X>>>8,Y[W++]=255&X;W=0,z()}function Z(){if(null==K){for(z(),(K=new V).init(Y),W=0;W<Y.length;++W)Y[W]=0;W=0}return K.next()}function tt(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function et(t,e){return new E(t,e)}function rt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function nt(t,e){this.x=e,this.q=t}function ot(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?E.ONE:n,this.zinv=null}function it(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new ot(this,null,null)}tt.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=Z()},rt.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},rt.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=et(t,16),this.e=parseInt(e,16)}},rt.prototype.type="RSA",rt.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},rt.prototype.setPrivate=function(t,e,r){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=r;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key";this.n=et(t,16),this.e=parseInt(e,16),this.d=et(r,16)}},rt.prototype.setPrivateEx=function(t,e,r,n,o,i,a,s){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=et(t,16),this.e=parseInt(e,16),this.d=et(r,16),this.p=et(n,16),this.q=et(o,16),this.dmp1=et(i,16),this.dmq1=et(a,16),this.coeff=et(s,16)},rt.prototype.generate=function(t,e){var r=new tt,n=t>>1;this.e=parseInt(e,16);for(var o=new E(e,16),i=t/2-100,a=E.ONE.shiftLeft(i);;){for(;this.p=new E(t-n,1,r),0!=this.p.subtract(E.ONE).gcd(o).compareTo(E.ONE)||!this.p.isProbablePrime(10););for(;this.q=new E(n,1,r),0!=this.q.subtract(E.ONE).gcd(o).compareTo(E.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var c=this.q.subtract(this.p).abs();if(!(c.bitLength()<i||c.compareTo(a)<=0)){var u=this.p.subtract(E.ONE),l=this.q.subtract(E.ONE),h=u.multiply(l);if(0==h.gcd(o).compareTo(E.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==t)){this.d=o.modInverse(h),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},nt.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},nt.prototype.toBigInteger=function(){return this.x},nt.prototype.negate=function(){return new nt(this.q,this.x.negate().mod(this.q))},nt.prototype.add=function(t){return new nt(this.q,this.x.add(t.toBigInteger()).mod(this.q))},nt.prototype.subtract=function(t){return new nt(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},nt.prototype.multiply=function(t){return new nt(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},nt.prototype.square=function(){return new nt(this.q,this.x.square().mod(this.q))},nt.prototype.divide=function(t){return new nt(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},nt.prototype.sqrt=function(){return new nt(this.q,this.x.sqrt().mod(this.q))},ot.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO))},ot.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},ot.prototype.negate=function(){return new ot(this.curve,this.x,this.y.negate(),this.z)},ot.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(E.ZERO.equals(r))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new E("3"),o=this.x.toBigInteger(),i=this.y.toBigInteger(),a=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),s=a.multiply(r),c=o.multiply(a),u=e.square().multiply(this.z),l=u.subtract(c.shiftLeft(1)).multiply(t.z).subtract(s).multiply(r).mod(this.curve.q),h=c.multiply(n).multiply(e).subtract(i.multiply(s)).subtract(u.multiply(e)).multiply(t.z).add(e.multiply(s)).mod(this.curve.q),f=s.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),f)},ot.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new E("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),o=n.multiply(r).mod(this.curve.q),i=this.curve.a.toBigInteger(),a=e.square().multiply(t);E.ZERO.equals(i)||(a=a.add(this.z.square().multiply(i)));var s=(a=a.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(n).mod(this.curve.q),c=a.multiply(t).multiply(e).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(a.square().multiply(a)).mod(this.curve.q),u=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(c),u)},ot.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),o=this.negate(),i=this,a=this.curve.q.subtract(t),s=a.multiply(new E("3")),c=new ot(this.curve,this.x,this.y),u=c.negate();for(e=n.bitLength()-2;e>0;--e){i=i.twice();var l=n.testBit(e);l!=r.testBit(e)&&(i=i.add(l?this:o))}for(e=s.bitLength()-2;e>0;--e){c=c.twice();var h=s.testBit(e);h!=a.testBit(e)&&(c=c.add(h?c:u))}return i},ot.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var o=this.curve.getInfinity(),i=this.add(e);n>=0;)o=o.twice(),t.testBit(n)?o=r.testBit(n)?o.add(i):o.add(this):r.testBit(n)&&(o=o.add(e)),--n;return o},it.prototype.getQ=function(){return this.q},it.prototype.getA=function(){return this.a},it.prototype.getB=function(){return this.b},it.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},it.prototype.getInfinity=function(){return this.infinity},it.prototype.fromBigInteger=function(t){return new nt(this.q,t)},it.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var e=t.substr(0,2),r=(t.substr(2),this.fromBigInteger(new E(s,16))),n=this.getA(),o=this.getB(),i=r.square().add(n).multiply(r).add(o).sqrt();return"03"==e&&(i=i.negate()),new ot(this,r,i);case 4:case 6:case 7:var a=(t.length-2)/2,s=t.substr(2,a),c=t.substr(a+2,a);return new ot(this,this.fromBigInteger(new E(s,16)),this.fromBigInteger(new E(c,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
nt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ot.prototype.getEncoded=function(t){var e=function(t,e){var r=t.toByteArrayUnsigned();if(e<r.length)r=r.slice(r.length-e);else for(;e>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),o=e(r,32);return t?n.isEven()?o.unshift(2):o.unshift(3):(o.unshift(4),o=o.concat(e(n,32))),o},ot.decodeFrom=function(t,e){e[0];var r=e.length-1,n=e.slice(1,1+r/2),o=e.slice(1+r/2,1+r);n.unshift(0),o.unshift(0);var i=new E(n),a=new E(o);return new ot(t,t.fromBigInteger(i),t.fromBigInteger(a))},ot.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),o=e.substr(2+r/2,r/2),i=new E(n,16),a=new E(o,16);return new ot(t,t.fromBigInteger(i),t.fromBigInteger(a))},ot.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,o)},ot.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ot(this.curve,n,o)},ot.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E("3")),o=this.negate(),i=this;for(e=n.bitLength()-2;e>0;--e){i=i.twice();var a=n.testBit(e);a!=r.testBit(e)&&(i=i.add2D(a?this:o))}return i},ot.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),o=this.curve.getQ(),i=e.multiply(e).mod(o),a=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(o);return i.equals(a)},ot.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ot.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw Error("Point is at infinity.");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(t.subtract(E.ONE))>0)throw Error("x coordinate out of bounds");if(r.compareTo(E.ONE)<0||r.compareTo(t.subtract(E.ONE))>0)throw Error("y coordinate out of bounds");if(!this.isOnCurve())throw Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var at=function(){var t=RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var o=new String(""),i=Object.hasOwnProperty;return function(r,a){var s,c,u=r.match(t),l=u[0],h=!1;"{"===l?s={}:"["===l?s=[]:(s=[],h=!0);for(var f=[s],p=1-h,d=u.length;p<d;++p){var y;switch((l=u[p]).charCodeAt(0)){default:(y=f[0])[c||y.length]=+l,c=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(e,n)),y=f[0],!c){if(!(y instanceof Array)){c=l||o;break}c=y.length}y[c]=l,c=void 0;break;case 91:y=f[0],f.unshift(y[c||y.length]=[]),c=void 0;break;case 93:case 125:f.shift();break;case 102:(y=f[0])[c||y.length]=!1,c=void 0;break;case 110:(y=f[0])[c||y.length]=null,c=void 0;break;case 116:(y=f[0])[c||y.length]=!0,c=void 0;break;case 123:y=f[0],f.unshift(y[c||y.length]={}),c=void 0}}if(h){if(1!==f.length)throw Error();s=s[0]}else if(f.length)throw Error();if(a){var v=function(t,e){var r=t[e];if(r&&"object"==typeof r){var n=null;for(var o in r)if(i.call(r,o)&&r!==t){var s=v(r,o);void 0!==s?r[o]=s:(n||(n=[]),n.push(o))}if(n)for(var c=n.length;--c>=0;)delete r[n[c]]}return a.call(t,e,r)};s=v({"":s},"")}return s}}();void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),st.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){return zt(t)},this.getPEMStringFromHex=function(t,e){return Lt(t,e)},this.newObject=function(t){var e=st.asn1,r=e.ASN1Object,n=e.DERBoolean,o=e.DERInteger,i=e.DERBitString,a=e.DEROctetString,s=e.DERNull,c=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,h=e.DERNumericString,f=e.DERPrintableString,p=e.DERTeletexString,d=e.DERIA5String,y=e.DERUTCTime,v=e.DERGeneralizedTime,m=e.DERVisibleString,g=e.DERBMPString,b=e.DERSequence,w=e.DERSet,E=e.DERTaggedObject,x=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var S=Object.keys(t);if(1!=S.length)throw Error("key of param shall be only one.");var _=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+_+":"))throw Error("undefined key: "+_);if("bool"==_)return new n(t[_]);if("int"==_)return new o(t[_]);if("bitstr"==_)return new i(t[_]);if("octstr"==_)return new a(t[_]);if("null"==_)return new s(t[_]);if("oid"==_)return new c(t[_]);if("enum"==_)return new u(t[_]);if("utf8str"==_)return new l(t[_]);if("numstr"==_)return new h(t[_]);if("prnstr"==_)return new f(t[_]);if("telstr"==_)return new p(t[_]);if("ia5str"==_)return new d(t[_]);if("utctime"==_)return new y(t[_]);if("gentime"==_)return new v(t[_]);if("visstr"==_)return new m(t[_]);if("bmpstr"==_)return new g(t[_]);if("asn1"==_)return new r(t[_]);if("seq"==_){for(var A=t[_],T=[],L=0;L<A.length;L++){var k=x(A[L]);T.push(k)}return new b({array:T})}if("set"==_){for(A=t[_],T=[],L=0;L<A.length;L++){k=x(A[L]);T.push(k)}return new w({array:T})}if("tag"==_){var I=t[_];if("[object Array]"===Object.prototype.toString.call(I)&&3==I.length){var O=x(I[2]);return new E({tag:I[0],explicit:I[1],obj:O})}return new E(I)}},this.jsonToASN1HEX=function(t){return this.newObject(t).tohex()}},st.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),o=2;o<t.length;o+=2){var i=("00000000"+parseInt(t.substr(o,2),16).toString(2)).slice(-8);if(n+=i.substr(1,7),"0"==i.substr(0,1))e=e+"."+new E(n,2).toString(10),n=""}return e},st.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new E(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},st.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw Error("this.hV is null or undefined");if(this.hV.length%2==1)throw Error("value hex must be even length: n=0,v="+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw Error("ASN.1 length too long to represent by 8x: n = "+t.toString(16));return(128+r).toString(16)+e},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},st.asn1.DERAbstractString=function(t){st.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=bt(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},ee(st.asn1.DERAbstractString,st.asn1.ASN1Object),st.asn1.DERAbstractTime=function(t){st.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,r){var n=this.zeroPadding,o=this.localDateToUTC(t),i=o.getFullYear()+"";"utc"==e&&(i=i.substr(2,2));var a=i+n(o.getMonth()+1+"",2)+n(o.getDate()+"",2)+n(o.getHours()+"",2)+n(o.getMinutes()+"",2)+n(o.getSeconds()+"",2);if(!0===r){var s=o.getMilliseconds();if(0!=s){var c=n(s+"",3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},this.setByParam=function(t){this.hV=null,this.hTLV=null,this.params=t},this.getString=function(){},this.setString=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=t},this.setByDate=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=t},this.setByDateValue=function(t,e,r,n,o,i){var a=new Date(Date.UTC(t,e-1,r,n,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},ee(st.asn1.DERAbstractTime,st.asn1.ASN1Object),st.asn1.DERAbstractStructured=function(t){st.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=[],void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},ee(st.asn1.DERAbstractStructured,st.asn1.ASN1Object),st.asn1.DERBoolean=function(t){st.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==t?"010100":"0101ff"},ee(st.asn1.DERBoolean,st.asn1.ASN1Object),st.asn1.DERInteger=function(t){st.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var e=zt;this.setByBigInteger=function(t){this.isModified=!0,this.params={bigint:t}},this.setByInteger=function(t){this.isModified=!0,this.params=t},this.setValueHex=function(t){this.isModified=!0,this.params={hex:t}},this.getFreshValueHex=function(){var t=this.params,r=null;if(null==t)throw Error("value not set");if("object"==typeof t&&null!=t.hex)return this.hV=t.hex,this.hV;if("number"==typeof t)r=new E(t+"",10);else if(null!=t.int)r=new E(t.int+"",10);else{if(null==t.bigint)throw Error("wrong parameter");r=t.bigint}return this.hV=e(r),this.hV},null!=t&&(this.params=t)},ee(st.asn1.DERInteger,st.asn1.ASN1Object),st.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=st.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.tohex()}st.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0),t+="0000000".substr(0,e);for(var r="",n=0;n<t.length-1;n+=8){var o=t.substr(n,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),r+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},ee(st.asn1.DERBitString,st.asn1.ASN1Object),st.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=st.asn1.ASN1Util.newObject(t.obj);t.hex=e.tohex()}st.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},ee(st.asn1.DEROctetString,st.asn1.DERAbstractString),st.asn1.DERNull=function(){st.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ee(st.asn1.DERNull,st.asn1.ASN1Object),st.asn1.DERObjectIdentifier=function(t){st.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=Kt(t);if(null==e)throw Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=st.asn1.x509.OID.name2oid(t);if(""===e)throw Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){"string"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},ee(st.asn1.DERObjectIdentifier,st.asn1.ASN1Object),st.asn1.DEREnumerated=function(t){st.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=zt(t)},this.setByInteger=function(t){var e=new E(t+"",10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},ee(st.asn1.DEREnumerated,st.asn1.ASN1Object),st.asn1.DERUTF8String=function(t){st.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},ee(st.asn1.DERUTF8String,st.asn1.DERAbstractString),st.asn1.DERNumericString=function(t){st.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},ee(st.asn1.DERNumericString,st.asn1.DERAbstractString),st.asn1.DERPrintableString=function(t){st.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},ee(st.asn1.DERPrintableString,st.asn1.DERAbstractString),st.asn1.DERTeletexString=function(t){st.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},ee(st.asn1.DERTeletexString,st.asn1.DERAbstractString),st.asn1.DERIA5String=function(t){st.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},ee(st.asn1.DERIA5String,st.asn1.DERAbstractString),st.asn1.DERVisibleString=function(t){st.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"},ee(st.asn1.DERVisibleString,st.asn1.DERAbstractString),st.asn1.DERBMPString=function(t){st.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"},ee(st.asn1.DERBMPString,st.asn1.DERAbstractString),st.asn1.DERUTCTime=function(t){st.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{12}Z$/)&&!t.match(/^[0-9]{12}\.[0-9]+Z$/))throw Error("malformed string for UTCTime: "+t);this.hV=dt(t)}else if(null!=t.str)this.hV=dt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=dt(this.formatDate(e,"utc",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=dt(this.formatDate(t.date,"utc",r))}else t instanceof Date&&(this.hV=dt(this.formatDate(t,"utc")));if(null==this.hV)throw Error("parameter not specified properly for UTCTime");return this.hV},null!=t&&this.setByParam(t)},ee(st.asn1.DERUTCTime,st.asn1.DERAbstractTime),st.asn1.DERGeneralizedTime=function(t){st.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.params=t,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{14}Z$/)&&!t.match(/^[0-9]{14}\.[0-9]+Z$/))throw Error("malformed string for GeneralizedTime: "+t);this.hV=dt(t)}else if(null!=t.str)this.hV=dt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=dt(this.formatDate(e,"gen",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=dt(this.formatDate(t.date,"gen",r))}else t instanceof Date&&(this.hV=dt(this.formatDate(t,"gen")));if(null==this.hV)throw Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=t&&this.setByParam(t)},ee(st.asn1.DERGeneralizedTime,st.asn1.DERAbstractTime),st.asn1.DERSequence=function(t){st.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].tohex()}return this.hV=t,this.hV}},ee(st.asn1.DERSequence,st.asn1.DERAbstractStructured),st.asn1.DERSet=function(t){st.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=[],e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.tohex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},ee(st.asn1.DERSet,st.asn1.DERAbstractStructured),st.asn1.DERTaggedObject=function(t){st.asn1.DERTaggedObject.superclass.constructor.call(this);var e=st.asn1,r=lt,n=r.getV,o=(r.isASN1HEX,e.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(t,e,r){this.params={tag:e,explicit:t,obj:r}},this.getFreshValueHex=function(){var t=this.params;if(null==t.explicit&&(t.explicit=!0),null!=t.tage&&(t.tag=t.tage,t.explicit=!0),null!=t.tagi&&(t.tag=t.tagi,t.explicit=!1),null!=t.str)this.hV=bt(t.str);else if(null!=t.hex)this.hV=t.hex;else{if(null==t.obj)throw Error("str, hex nor obj not specified");var r;t.obj instanceof e.ASN1Object?r=t.obj.tohex():"object"==typeof t.obj&&(r=o(t.obj).tohex()),t.explicit?this.hV=r:this.hV=n(r,0)}return null==t.tag&&(t.tag="a0"),this.hT=t.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.DERTaggedObject,st.asn1.ASN1Object);var st,ct,ut,lt=new function(){};function ht(t){for(var e=[],r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function ft(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function pt(t){for(var e="",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n="0"+n),e+=n}return e}function dt(t){return pt(ht(t))}function yt(t){return t=(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function vt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),t=(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function mt(t){return t.length%2==1&&(t="0"+t),yt(g(t))}function gt(t){return b(vt(t))}function bt(t){return Pt(Ut(t)).toLowerCase()}function wt(t){try{return decodeURIComponent(Ct(t))}catch(t){return null}}function Et(t){return wt(function(t){for(var e=t.match(/.{1,2}/g),r=[],n=0;n<e.length;n++){var o=parseInt(e[n],16);161<=o&&o<=191?(r.push("c2"),r.push(e[n])):192<=o&&o<=255?(r.push("c3"),r.push((o-64).toString(16))):r.push(e[n])}return r.join("")}(t))}function xt(t){for(var e="",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function St(t){for(var e="",r=0;r<t.length;r++)e+=("0"+t.charCodeAt(r).toString(16)).slice(-2);return e}function _t(t){return g(t)}function At(t,e){return t=(t=t.replace(RegExp("(.{"+e+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function Tt(t){return b(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Lt(t,e){return"-----BEGIN "+e+"-----\r\n"+At(_t(t),64)+"\r\n-----END "+e+"-----\r\n"}function kt(t,e){if(-1==t.indexOf("-----BEGIN "))throw Error("can't find PEM header");return Tt(t=void 0!==e?(t=t.replace(RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(RegExp("-----END "+e+"-----[^]*$"),""):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function It(t){var e,r,n,o,i,a,s,c,u,l;if(l=(t=Nt(t)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return e=parseInt(l[1]),r=parseInt(l[2])-1,n=parseInt(l[3]),o=parseInt(l[4]),i=parseInt(l[5]),a=parseInt(l[6]),s=0,""!==(c=l[7])&&(u=(c.substr(1)+"00").substr(0,3),s=parseInt(u)),Date.UTC(e,r,n,o,i,a,s);throw Error("unsupported zulu format: "+t)}function Ot(t){return Math.round(It(t)/1e3)}function Nt(t){return t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}[.][0-9]*Z$/)?t.match(/^[0-4]/)?"20"+t:"19"+t:t}function Pt(t){return t.replace(/%/g,"")}function Ct(t){return t.replace(/(..)/g,"%$1")}function Dt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(":").length-1;if(r<2)throw e;var n=":".repeat(7-r+2),o=(t=t.replace("::",n)).split(":");if(8!=o.length)throw e;for(var i=0;i<8;i++)o[i]=("0000"+o[i]).slice(-4);return o.join("")}function Rt(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw Error("malformed IPv6 address: "+t);var e=(t=t.toLowerCase()).match(/.{1,4}/g);e=e.map((function(t){return t.replace(/^0+/,"")})),e=e.map((function(t){return""==t?"0":t}));var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null==r)return t.slice(1,-1);var n=r.sort().slice(-1)[0];return"::"!=(t=t.replace(n.substr(0,n.length-1),":")).substr(0,2)&&(t=t.substr(1)),"::"!=t.substr(-2,2)&&(t=t.substr(0,t.length-1)),t}function Ft(t){var e=Error("malformed hex value");if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8==t.length){try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}else{if(16!=t.length){if(32==t.length)return Rt(t);if(64==t.length){try{return Rt(t.substr(0,32))+"/"+jt(t.substr(32))}catch(t){throw e}return}return t}try{return Ft(t.substr(0,8))+"/"+jt(t.substr(8))}catch(t){throw e}}}function jt(t){var e,r=Error("malformed mask");try{e=new E(t,16).toString(2)}catch(t){throw r}if(!e.match(/^1*0*$/))throw r;return e.replace(/0+$/,"").length}function Bt(t){var e=Error("malformed IP address");if(!(t=t.toLowerCase(t)).match(/^[0-9a-f.:/]+$/))throw e;if(!t.match(/^[0-9.]+$/)){var r;if(t.match(/^[0-9.]+\/[0-9]+$/))return Bt((r=t.split("/"))[0])+Mt(parseInt(r[1]),32);if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Dt(t);if(t.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==t.indexOf(":"))return Dt((r=t.split("/"))[0])+Mt(parseInt(r[1]),128);throw e}var n=t.split(".");if(4!==n.length)throw e;var o="";try{for(var i=0;i<4;i++){o+=("0"+parseInt(n[i]).toString(16)).slice(-2)}return o}catch(t){throw e}}function Mt(t,e){return 32==e&&0==t?"00000000":128==e&&0==t?"00000000000000000000000000000000":new E(Array(t+1).join("1")+Array(e-t+1).join("0"),2).toString(16)}function Gt(t){var e=t.match(/.{4}/g).map((function(t){var e=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2),16);if(0==e&r<128)return String.fromCharCode(r);if(e<8){var n=128|63&r;return wt((192|(7&e)<<3|(192&r)>>6).toString(16)+n.toString(16))}n=128|(15&e)<<2|(192&r)>>6;var o=128|63&r;return wt((224|(240&e)>>4).toString(16)+n.toString(16)+o.toString(16))}));return e.join("")}function Ut(t){for(var e=encodeURIComponent(t),r="",n=0;n<e.length;n++)"%"==e[n]?(r+=e.substr(n,3),n+=2):r=r+"%"+dt(e[n]);return r}function Ht(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function qt(t){return!!t.match(/^[0-9A-Za-z-_.]+$/)}function Vt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}lt.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},lt.getL=function(t,e){var r=lt.getLblen(t,e);return r<1?"":t.substr(e+2,2*r)},lt.getVblen=function(t,e){var r;return""==(r=lt.getL(t,e))?-1:("8"===r.substr(0,1)?new E(r.substr(2),16):new E(r,16)).intValue()},lt.getVidx=function(t,e){var r=lt.getLblen(t,e);return r<0?r:e+2*(r+1)},lt.getV=function(t,e){var r=lt.getVidx(t,e),n=lt.getVblen(t,e);return t.substr(r,2*n)},lt.getTLV=function(t,e){return t.substr(e,2)+lt.getL(t,e)+lt.getV(t,e)},lt.getTLVblen=function(t,e){return 2+2*lt.getLblen(t,e)+2*lt.getVblen(t,e)},lt.getNextSiblingIdx=function(t,e){return lt.getVidx(t,e)+2*lt.getVblen(t,e)},lt.getChildIdx=function(t,e){var r,n,o,i=lt,a=[];r=i.getVidx(t,e),n=2*i.getVblen(t,e),"03"==t.substr(e,2)&&(r+=2,n-=2),o=0;for(var s=r;o<=n;){var c=i.getTLVblen(t,s);if((o+=c)<=n&&a.push(s),s+=c,o>=n)break}return a},lt.getNthChildIdx=function(t,e,r){return lt.getChildIdx(t,e)[r]},lt.getIdxbyList=function(t,e,r,n){var o,i,a=lt;return 0==r.length?void 0!==n&&t.substr(e,2)!==n?-1:e:(o=r.shift())>=(i=a.getChildIdx(t,e)).length?-1:a.getIdxbyList(t,i[o],r,n)},lt.getIdxbyListEx=function(t,e,r,n){var o,i,a=lt;if(0==r.length)return void 0!==n&&t.substr(e,2)!==n?-1:e;o=r.shift(),i=a.getChildIdx(t,e);for(var s=0,c=0;c<i.length;c++){var u=t.substr(i[c],2);if("number"==typeof o&&!a.isContextTag(u)&&s==o||"string"==typeof o&&a.isContextTag(u,o))return a.getIdxbyListEx(t,i[c],r,n);a.isContextTag(u)||s++}return-1},lt.getTLVbyList=function(t,e,r,n){var o=lt,i=o.getIdxbyList(t,e,r,n);return-1==i||i>=t.length?null:o.getTLV(t,i)},lt.getTLVbyListEx=function(t,e,r,n){var o=lt,i=o.getIdxbyListEx(t,e,r,n);return-1==i?null:o.getTLV(t,i)},lt.getVbyList=function(t,e,r,n,o){var i,a,s=lt;return-1==(i=s.getIdxbyList(t,e,r,n))||i>=t.length?null:(a=s.getV(t,i),!0===o&&(a=a.substr(2)),a)},lt.getVbyListEx=function(t,e,r,n,o){var i,a,s=lt;return-1==(i=s.getIdxbyListEx(t,e,r,n))?null:(a=s.getV(t,i),"03"==t.substr(i,2)&&!1!==o&&(a=a.substr(2)),a)},lt.getInt=function(t,e,r){null==r&&(r=-1);try{var n=t.substr(e,2);if("02"!=n&&"03"!=n)return r;var o=lt.getV(t,e);return"02"==n?parseInt(o,16):$t(o)}catch(t){return r}},lt.getOID=function(t,e,r){null==r&&(r=null);try{return"06"!=t.substr(e,2)?r:Yt(lt.getV(t,e))}catch(t){return r}},lt.getOIDName=function(t,e,r){null==r&&(r=null);try{var n=lt.getOID(t,e,r);if(n==r)return r;var o=st.asn1.x509.OID.oid2name(n);return""==o?n:o}catch(t){return r}},lt.getString=function(t,e,r){null==r&&(r=null);try{return xt(lt.getV(t,e))}catch(t){return r}},lt.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:Array(e-t.length+1).join("0")+t},r=[],n=t.substr(0,2),o=parseInt(n,16);r[0]=new String(Math.floor(o/40)),r[1]=new String(o%40);for(var i=t.substr(2),a=[],s=0;s<i.length/2;s++)a.push(parseInt(i.substr(2*s,2),16));var c=[],u="";for(s=0;s<a.length;s++)128&a[s]?u+=e((127&a[s]).toString(2),7):(u+=e((127&a[s]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=r.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},lt.dump=function(t,e,r,n){var o=lt,i=o.getV,a=o.dump,s=o.getChildIdx,c=t;t instanceof st.asn1.ASN1Object&&(c=t.tohex());var u=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,h=e.ommit_long_octet;if("01"==(l=c.substr(r,2)))return"00"==(f=i(c,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+u(f=i(c,r),h)+"\n";if("03"==l){var f=i(c,r);if(o.isASN1HEX(f.substr(2))){var p=n+"BITSTRING, encapsulates\n";return p+=a(f.substr(2),e,0,n+"  ")}return n+"BITSTRING "+u(f,h)+"\n"}if("04"==l){f=i(c,r);if(o.isASN1HEX(f)){p=n+"OCTETSTRING, encapsulates\n";return p+=a(f,e,0,n+"  ")}return n+"OCTETSTRING "+u(f,h)+"\n"}if("05"==l)return n+"NULL\n";if("06"==l){var d=i(c,r),y=st.asn1.ASN1Util.oidHexToInt(d),v=st.asn1.x509.OID.oid2name(y),m=y.replace(/\./g," ");return""!=v?n+"ObjectIdentifier "+v+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(i(c,r))+"\n";if("0c"==l)return n+"UTF8String '"+wt(i(c,r))+"'\n";if("13"==l)return n+"PrintableString '"+wt(i(c,r))+"'\n";if("14"==l)return n+"TeletexString '"+wt(i(c,r))+"'\n";if("16"==l)return n+"IA5String '"+wt(i(c,r))+"'\n";if("17"==l)return n+"UTCTime "+wt(i(c,r))+"\n";if("18"==l)return n+"GeneralizedTime "+wt(i(c,r))+"\n";if("1a"==l)return n+"VisualString '"+wt(i(c,r))+"'\n";if("1e"==l)return n+"BMPString '"+Gt(i(c,r))+"'\n";if("30"==l){if("3000"==c.substr(r,4))return n+"SEQUENCE {}\n";p=n+"SEQUENCE\n";var g=e;if((2==(E=s(c,r)).length||3==E.length)&&"06"==c.substr(E[0],2)&&"04"==c.substr(E[E.length-1],2)){v=o.oidname(i(c,E[0]));var b=JSON.parse(JSON.stringify(e));b.x509ExtName=v,g=b}for(var w=0;w<E.length;w++)p+=a(c,g,E[w],n+"  ");return p}if("31"==l){p=n+"SET\n";var E=s(c,r);for(w=0;w<E.length;w++)p+=a(c,e,E[w],n+"  ");return p}if(128&(l=parseInt(l,16))){var x=31&l;if(32&l){for(p=n+"["+x+"]\n",E=s(c,r),w=0;w<E.length;w++)p+=a(c,e,E[w],n+"  ");return p}f=i(c,r);if(lt.isASN1HEX(f)){var p=n+"["+x+"]\n";return p+=a(f,e,0,n+"  ")}return("68747470"==f.substr(0,8)||"subjectAltName"===e.x509ExtName&&2==x)&&(f=wt(f)),p=n+"["+x+"] "+f+"\n"}return n+"UNKNOWN("+l+") "+i(c,r)+"\n"},lt.parse=function(t){var e=lt,r=e.parse,n=e.isASN1HEX,o=e.getV,i=e.getTLV,a=e.getChildIdx,s=st.asn1,c=s.ASN1Util.oidHexToInt,u=s.x509.OID.oid2name,l=wt,h=Gt,f=Et,p={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},d=t.substr(0,2),y={},v=o(t,0);if("01"==d)return"0101ff"==t?{bool:!0}:{bool:!1};if("02"==d)return{int:{hex:v}};if("03"==d)try{if("00"!=v.substr(0,2))throw"not encap";var m=v.substr(2);if(!n(m))throw"not encap";return{bitstr:{obj:r(m)}}}catch(t){var g=null;return v.length<=10&&(g=Qt(v)),null==g?{bitstr:{hex:v}}:{bitstr:{bin:g}}}else if("04"==d)try{if(!n(v))throw"not encap";return{octstr:{obj:r(v)}}}catch(t){return{octstr:{hex:v}}}else{if("05"==d)return{null:""};if("06"==d){var b=c(v),w=u(b);return""==w?{oid:b}:{oid:w}}if("0a"==d)return v.length>4?{enum:{hex:v}}:{enum:parseInt(v,16)};if("30"==d||"31"==d)return y[p[d]]=function(t){for(var e=[],n=a(t,0),o=0;o<n.length;o++){var s=n[o],c=i(t,s),u=r(c);e.push(u)}return e}(t),y;if("14"==d){var E=f(v);return y[p[d]]={str:E},y}if("1e"==d){E=h(v);return y[p[d]]={str:E},y}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(d)){E=l(v);return y[p[d]]={str:E},y}if(d.match(/^8[0-9]$/))return null==(E=l(v))|""==E||null!=E.match(/[\x00-\x1F\x7F-\x9F]/)||null!=E.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:d,explicit:!1,hex:v}}:{tag:{tag:d,explicit:!1,str:E}};if(!d.match(/^a[0-9]$/)){var x=new st.asn1.ASN1Object;return x.hV=v,{asn1:{tlv:d+x.getLengthHexFromValue()+v}}}try{if(!n(v))throw Error("not encap");return{tag:{tag:d,explicit:!0,obj:r(v)}}}catch(t){return{tag:{tag:d,explicit:!0,hex:v}}}}},lt.isContextTag=function(t,e){var r,n;t=t.toLowerCase();try{r=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&r);try{return null!=e.match(/^\[[0-9]+\]$/)&&(!((n=parseInt(e.substr(1,e.length-1),10))>31)&&(128==(192&r)&&(31&r)==n))}catch(t){return!1}},lt.isASN1HEX=function(t){var e=lt;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),o=e.getL(t,0);return t.length-n.length-o.length==2*r},lt.checkStrictDER=function(t,e,r,n,o){var i=lt;if(void 0===r){if("string"!=typeof t)throw Error("not hex string");if(t=t.toLowerCase(),!st.lang.String.isHex(t))throw Error("not hex string");r=t.length,o=(n=t.length/2)<128?1:Math.ceil(n.toString(16))+1}if(i.getL(t,e).length>2*o)throw Error("L of TLV too long: idx="+e);var a=i.getVblen(t,e);if(a>n)throw Error("value of L too long than hex: idx="+e);var s=i.getTLV(t,e),c=s.length-2-i.getL(t,e).length;if(c!==2*a)throw Error("V string length and L's value not the same:"+c+"/"+2*a);if(0===e&&t.length!=s.length)throw Error("total length and TLV length unmatch:"+t.length+"!="+s.length);var u=t.substr(e,2);if("02"===u){var l=i.getVidx(t,e);if("00"==t.substr(l,2)&&t.charCodeAt(l+2)<56)throw Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var h=i.getVblen(t,e),f=0,p=i.getChildIdx(t,e),d=0;d<p.length;d++){f+=i.getTLV(t,p[d]).length,i.checkStrictDER(t,p[d],r,n,o)}if(2*h!=f)throw Error("sum of children's TLV length and L unmatch: "+2*h+"!="+f)}},lt.oidname=function(t){var e=st.asn1;st.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return""===r&&(r=t),r},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.x509&&st.asn1.x509||(st.asn1.x509={}),st.asn1.x509.Certificate=function(t){st.asn1.x509.Certificate.superclass.constructor.call(this);var e=st.asn1,r=e.DERBitString,n=e.DERSequence,o=e.x509,i=o.TBSCertificate,a=o.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.sigalg;null!=t.sigalg.name&&(e=t.sigalg.name);var r=t.tbsobj.tohex(),n=new st.crypto.Signature({alg:e});n.init(t.cakey),n.updateHex(r),t.sighex=n.sign()},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var t=this.params;if(null!=t.tbsobj&&null!=t.tbsobj||(t.tbsobj=new i(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new a({name:t.sigalg})),e.push(new r({hex:"00"+t.sighex})),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ee(st.asn1.x509.Certificate,st.asn1.ASN1Object),st.asn1.x509.TBSCertificate=function(t){st.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=st.asn1,r=e.x509,n=e.DERTaggedObject,o=e.DERInteger,i=e.DERSequence,a=r.AlgorithmIdentifier,s=r.Time,c=r.X500Name,u=r.Extensions,l=r.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=[],e=this.params;if(null!=e.version||1!=e.version){var r=2;null!=e.version&&(r=e.version-1);var h=new n({obj:new o({int:r})});t.push(h)}return t.push(new o(e.serial)),t.push(new a({name:e.sigalg})),t.push(new c(e.issuer)),t.push(new i({array:[new s(e.notbefore),new s(e.notafter)]})),t.push(new c(e.subject)),t.push(new l(re.getKey(e.sbjpubkey))),void 0!==e.ext&&e.ext.length>0&&t.push(new n({tag:"a3",obj:new u(e.ext)})),new st.asn1.DERSequence({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.TBSCertificate,st.asn1.ASN1Object),st.asn1.x509.Extensions=function(t){st.asn1.x509.Extensions.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.x509;this.aParam=[],this.setByParam=function(t){this.aParam=t},this.tohex=function(){for(var t=[],e=0;e<this.aParam.length;e++){var o=this.aParam[e],i=o.extname,a=null;if(null!=o.extn)a=new n.PrivateExtension(o);else if("subjectKeyIdentifier"==i)a=new n.SubjectKeyIdentifier(o);else if("keyUsage"==i)a=new n.KeyUsage(o);else if("subjectAltName"==i)a=new n.SubjectAltName(o);else if("issuerAltName"==i)a=new n.IssuerAltName(o);else if("basicConstraints"==i)a=new n.BasicConstraints(o);else if("nameConstraints"==i)a=new n.NameConstraints(o);else if("cRLDistributionPoints"==i)a=new n.CRLDistributionPoints(o);else if("certificatePolicies"==i)a=new n.CertificatePolicies(o);else if("policyMappings"==i)a=new n.PolicyMappings(o);else if("policyConstraints"==i)a=new n.PolicyConstraints(o);else if("inhibitAnyPolicy"==i)a=new n.InhibitAnyPolicy(o);else if("authorityKeyIdentifier"==i)a=new n.AuthorityKeyIdentifier(o);else if("extKeyUsage"==i)a=new n.ExtKeyUsage(o);else if("authorityInfoAccess"==i)a=new n.AuthorityInfoAccess(o);else if("cRLNumber"==i)a=new n.CRLNumber(o);else if("cRLReason"==i)a=new n.CRLReason(o);else if("ocspNonce"==i)a=new n.OCSPNonce(o);else if("ocspNoCheck"==i)a=new n.OCSPNoCheck(o);else if("adobeTimeStamp"==i)a=new n.AdobeTimeStamp(o);else{if("subjectDirectoryAttributes"!=i)throw Error("extension not supported:"+JSON.stringify(o));a=new n.SubjectDirectoryAttributes(o)}null!=a&&t.push(a)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.x509.Extensions,st.asn1.ASN1Object),st.asn1.x509.Extension=function(t){st.asn1.x509.Extension.superclass.constructor.call(this);var e=st.asn1,r=e.DERObjectIdentifier,n=e.DEROctetString,o=(e.DERBitString,e.DERBoolean),i=e.DERSequence;this.tohex=function(){var t=new r({oid:this.oid}),e=new n({hex:this.getExtnValueHex()}),a=[];return a.push(t),this.critical&&a.push(new o),a.push(e),new i({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},ee(st.asn1.x509.Extension,st.asn1.ASN1Object),st.asn1.x509.KeyUsage=function(t){st.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Error,r={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var t=this.getBinValue();return this.asn1ExtnValue=new st.asn1.DERBitString({bin:t}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var t=this.params;if("object"!=typeof t||"object"!=typeof t.names&&"string"!=typeof t.bin)throw new e("parameter not yet set");if(null!=t.names)return Zt(t.names,r);if(null!=t.bin)return t.bin;throw new e("parameter not set properly")},this.oid="2.5.29.15",void 0!==t&&(this.params=t)},ee(st.asn1.x509.KeyUsage,st.asn1.x509.Extension),st.asn1.x509.BasicConstraints=function(t){st.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERBoolean,n=e.DERInteger,o=e.DERSequence;this.getExtnValueHex=function(){var t=[];this.cA&&t.push(new r),this.pathLen>-1&&t.push(new n({int:this.pathLen}));var e=new o({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},ee(st.asn1.x509.BasicConstraints,st.asn1.x509.Extension),st.asn1.x509.CRLDistributionPoints=function(t){st.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(t){for(var n=[],o=0;o<t.length;o++)if(t[o]instanceof st.asn1.ASN1Object)n.push(t[o]);else{var i=new r.DistributionPoint(t[o]);n.push(i)}this.asn1ExtnValue=new e.DERSequence({array:n})},this.setByOneURI=function(t){var e=new r.DistributionPoint({fulluri:t});this.setByDPArray([e])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},ee(st.asn1.x509.CRLDistributionPoints,st.asn1.x509.Extension),st.asn1.x509.DistributionPoint=function(t){st.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=st.asn1,r=e.x509.DistributionPointName;this.tohex=function(){var t=new e.DERSequence;if(null!=this.asn1DP){var r=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(r)}return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.dpobj?this.asn1DP=t.dpobj:void 0!==t.dpname?this.asn1DP=new r(t.dpname):void 0!==t.fulluri&&(this.asn1DP=new r({full:[{uri:t.fulluri}]})))},ee(st.asn1.x509.DistributionPoint,st.asn1.ASN1Object),st.asn1.x509.DistributionPointName=function(t){st.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=st.asn1,r=e.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t)if(e.x509.GeneralNames.prototype.isPrototypeOf(t))this.type="full",this.tag="a0",this.asn1V=t;else{if(void 0===t.full)throw Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new e.x509.GeneralNames(t.full)}},ee(st.asn1.x509.DistributionPointName,st.asn1.ASN1Object),st.asn1.x509.CertificatePolicies=function(t){st.asn1.x509.CertificatePolicies.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509,n=e.DERSequence,o=r.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++)t.push(new o(this.params.array[e]));var r=new n({array:t});return this.asn1ExtnValue=r,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==t&&(this.params=t)},ee(st.asn1.x509.CertificatePolicies,st.asn1.x509.Extension),st.asn1.x509.PolicyInformation=function(t){st.asn1.x509.PolicyInformation.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=e.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw Error("parameter oid and array missing");var t=[new n(this.params.policyoid)];if(void 0!==this.params.array){for(var e=[],i=0;i<this.params.array.length;i++)e.push(new o(this.params.array[i]));e.length>0&&t.push(new r({array:e}))}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyInformation,st.asn1.ASN1Object),st.asn1.x509.PolicyQualifierInfo=function(t){st.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.DERIA5String,o=e.DERObjectIdentifier,i=e.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new r({array:[new o({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).tohex():null!=this.params.unotice?new r({array:[new o({oid:"1.3.6.1.5.5.7.2.2"}),new i(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyQualifierInfo,st.asn1.ASN1Object),st.asn1.x509.UserNotice=function(t){st.asn1.x509.UserNotice.superclass.constructor.call(this,t);var e=st.asn1.DERSequence,r=(st.asn1.DERInteger,st.asn1.x509.DisplayText),n=st.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var t=[];return void 0!==this.params.noticeref&&t.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&t.push(new r(this.params.exptext)),new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.UserNotice,st.asn1.ASN1Object),st.asn1.x509.NoticeReference=function(t){st.asn1.x509.NoticeReference.superclass.constructor.call(this,t);var e=st.asn1.DERSequence,r=st.asn1.DERInteger,n=st.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var t=[];if(void 0!==this.params.org&&t.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var o=[],i=this.params.noticenum,a=0;a<i.length;a++)o.push(new r(i[a]));t.push(new e({array:o}))}if(0==t.length)throw Error("parameter is empty");return new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ee(st.asn1.x509.NoticeReference,st.asn1.ASN1Object),st.asn1.x509.DisplayText=function(t){st.asn1.x509.DisplayText.superclass.constructor.call(this,t),this.hT="0c",void 0!==t&&("ia5"===t.type?this.hT="16":"vis"===t.type?this.hT="1a":"bmp"===t.type&&(this.hT="1e"))},ee(st.asn1.x509.DisplayText,st.asn1.DERAbstractString),st.asn1.x509.PolicyMappings=function(t){st.asn1.x509.PolicyMappings.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var t=this.params,e=[],n=0;n<t.array.length;n++){var o=t.array[n];e.push({seq:[{oid:o[0]},{oid:o[1]}]})}return this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyMappings,st.asn1.x509.Extension),st.asn1.x509.PolicyConstraints=function(t){st.asn1.x509.PolicyConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];return null!=t.reqexp&&e.push({tag:{tagi:"80",obj:{int:t.reqexp}}}),null!=t.inhibit&&e.push({tag:{tagi:"81",obj:{int:t.inhibit}}}),this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==t&&(this.params=t)},ee(st.asn1.x509.PolicyConstraints,st.asn1.x509.Extension),st.asn1.x509.InhibitAnyPolicy=function(t){st.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,t);var e=st.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=r({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==t&&(this.params=t)},ee(st.asn1.x509.InhibitAnyPolicy,st.asn1.x509.Extension),st.asn1.x509.NameConstraints=function(t){st.asn1.x509.NameConstraints.superclass.constructor.call(this,t);var e=st.asn1,r=e.x509,n=e.ASN1Util.newObject,o=r.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];if(null!=t.permit&&null!=t.permit.length){for(var r=[],i=0;i<t.permit.length;i++)r.push(new o(t.permit[i]));e.push({tag:{tagi:"a0",obj:{seq:r}}})}if(null!=t.exclude&&null!=t.exclude.length){var a=[];for(i=0;i<t.exclude.length;i++)a.push(new o(t.exclude[i]));e.push({tag:{tagi:"a1",obj:{seq:a}}})}return this.asn1ExtnValue=n({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==t&&(this.params=t)},ee(st.asn1.x509.NameConstraints,st.asn1.x509.Extension),st.asn1.x509.GeneralSubtree=function(t){st.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var e=st.asn1,r=e.x509.GeneralName,n=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,e=[new r(t)];return null!=t.min&&e.push({tag:{tagi:"80",obj:{int:t.min}}}),null!=t.max&&e.push({tag:{tagi:"81",obj:{int:t.max}}}),n({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.GeneralSubtree,st.asn1.ASN1Object),st.asn1.x509.ExtKeyUsage=function(t){st.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=st.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new e.DERSequence;for(var r=0;r<t.length;r++){var n=new e.DERObjectIdentifier(t[r]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},ee(st.asn1.x509.ExtKeyUsage,st.asn1.x509.Extension),st.asn1.x509.AuthorityKeyIdentifier=function(t){st.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=st,r=e.asn1,n=r.DERTaggedObject,o=r.x509.GeneralNames;e.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=[];this.asn1KID&&t.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new n({explicit:!1,tag:"a1",obj:new o([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&t.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var e=new r.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new st.asn1.DEROctetString(t);else if("object"==typeof t&&st.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN ")){var e=t;"string"==typeof t&&(e=re.getKey(t));var r=re.getKeyID(e);this.asn1KID=new st.asn1.DEROctetString({hex:r})}},this.setCertIssuerByParam=function(t){void 0!==t.str||void 0!==t.ldapstr||void 0!==t.hex||void 0!==t.certsubject||void 0!==t.certissuer?this.asn1CertIssuer=new st.asn1.x509.X500Name(t):"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&-1!=t.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new st.asn1.x509.X500Name({certissuer:t}))},this.setCertSNByParam=function(t){if(void 0!==t.str||void 0!==t.bigint||void 0!==t.hex)this.asn1CertSN=new st.asn1.DERInteger(t);else if("string"==typeof t&&-1!=t.indexOf("BEGIN ")&&t.indexOf("CERTIFICATE")){var e=new ae;e.readCertPEM(t);var r=e.getSerialNumberHex();this.asn1CertSN=new st.asn1.DERInteger({hex:r})}},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn),void 0!==t.issuersn&&"string"==typeof t.issuersn&&-1!=t.issuersn.indexOf("BEGIN ")&&t.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(t.issuersn),this.setCertIssuerByParam(t.issuersn)))},ee(st.asn1.x509.AuthorityKeyIdentifier,st.asn1.x509.Extension),st.asn1.x509.SubjectKeyIdentifier=function(t){st.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,t);var e=st.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new e(t);else if("object"==typeof t&&st.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN")){var r=t;"string"==typeof t&&(r=re.getKey(t));var n=re.getKeyID(r);this.asn1KID=new st.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==t&&void 0!==t.kid&&this.setKIDByParam(t.kid)},ee(st.asn1.x509.SubjectKeyIdentifier,st.asn1.x509.Extension),st.asn1.x509.AuthorityInfoAccess=function(t){st.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=[],r=st.asn1,n=r.DERSequence,o=r.DERObjectIdentifier,i=r.x509.GeneralName,a=0;a<t.length;a++){var s,c=t[a];if(void 0!==c.ocsp)s=new n({array:[new o({oid:"1.3.6.1.5.5.7.48.1"}),new i({uri:c.ocsp})]});else{if(void 0===c.caissuer)throw Error("unknown AccessMethod parameter: "+JSON.stringify(c));s=new n({array:[new o({oid:"1.3.6.1.5.5.7.48.2"}),new i({uri:c.caissuer})]})}e.push(s)}this.asn1ExtnValue=new n({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},ee(st.asn1.x509.AuthorityInfoAccess,st.asn1.x509.Extension),st.asn1.x509.SubjectAltName=function(t){st.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new st.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ee(st.asn1.x509.SubjectAltName,st.asn1.x509.Extension),st.asn1.x509.IssuerAltName=function(t){st.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new st.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ee(st.asn1.x509.IssuerAltName,st.asn1.x509.Extension),st.asn1.x509.SubjectDirectoryAttributes=function(t){st.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERSequence,n=e.ASN1Util.newObject,o=e.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++){var i=this.params.array[e];if(null==i.attr||null==i.array){var a={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={gentime:i.str};else if("placeOfBirth"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={utf8str:i.str};else if("gender"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str};else if("countryOfCitizenship"==i.attr)a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str};else{if("countryOfResidence"!=i.attr)throw Error("unsupported attribute: "+i.attr);a.seq[0].oid=o(i.attr),a.seq[1].set[0]={prnstr:i.str}}t.push(new n(a))}else{var s={seq:[{oid:i.attr},{set:i.array}]};t.push(n(s))}}var c=new r({array:t});return this.asn1ExtnValue=c,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==t&&(this.params=t)},ee(st.asn1.x509.SubjectDirectoryAttributes,st.asn1.x509.Extension),st.asn1.x509.PrivateExtension=function(t){st.asn1.x509.PrivateExtension.superclass.constructor.call(this,t);var e=st,r=e.lang.String.isHex,n=e.asn1,o=n.x509.OID.name2oid,i=n.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.oid=o(t.extname),this.params=t},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw Error("extname or extnhex not specified");var t=this.params.extn;if("string"==typeof t&&r(t))return t;if("object"==typeof t)try{return i(t).tohex()}catch(t){}throw Error("unsupported extn value")},null!=t&&this.setByParam(t)},ee(st.asn1.x509.PrivateExtension,st.asn1.x509.Extension),st.asn1.x509.CRL=function(t){st.asn1.x509.CRL.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.DERBitString,o=e.x509,i=o.AlgorithmIdentifier,a=o.TBSCertList;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=new a(this.params).tohex(),e=new st.crypto.Signature({alg:this.params.sigalg});e.init(this.params.cakey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Lt(this.tohex(),"X509 CRL")},this.tohex=function(){var t=this.params;if(null==t.tbsobj&&(t.tbsobj=new a(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new i({name:t.sigalg})),e.push(new n({hex:"00"+t.sighex})),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ee(st.asn1.x509.CRL,st.asn1.ASN1Object),st.asn1.x509.TBSCertList=function(t){st.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=st.asn1,r=e.DERInteger,n=e.DERSequence,o=e.DERTaggedObject,i=(e.DERObjectIdentifier,e.x509),a=i.AlgorithmIdentifier,s=i.Time,c=i.Extensions,u=i.X500Name;this.params=null,this.setByParam=function(t){this.params=t},this.getRevCertSequence=function(){for(var t=[],e=this.params.revcert,o=0;o<e.length;o++){var i=[new r(e[o].sn),new s(e[o].date)];null!=e[o].ext&&i.push(new c(e[o].ext)),t.push(new n({array:i}))}return new n({array:t})},this.tohex=function(){var t=[],e=this.params;if(null!=e.version){var i=e.version-1,l=new r({int:i});t.push(l)}if(t.push(new a({name:e.sigalg})),t.push(new u(e.issuer)),t.push(new s(e.thisupdate)),null!=e.nextupdate&&t.push(new s(e.nextupdate)),null!=e.revcert&&t.push(this.getRevCertSequence()),null!=e.ext){var h=new c(e.ext);t.push(new o({tag:"a0",explicit:!0,obj:h}))}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.TBSCertList,st.asn1.ASN1Object),st.asn1.x509.CRLEntry=function(t){st.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=st.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.tohex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},ee(st.asn1.x509.CRLEntry,st.asn1.ASN1Object),st.asn1.x509.CRLNumber=function(t){st.asn1.x509.CRLNumber.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=t&&(this.params=t)},ee(st.asn1.x509.CRLNumber,st.asn1.x509.Extension),st.asn1.x509.CRLReason=function(t){st.asn1.x509.CRLReason.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=t&&(this.params=t)},ee(st.asn1.x509.CRLReason,st.asn1.x509.Extension),st.asn1.x509.OCSPNonce=function(t){st.asn1.x509.OCSPNonce.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=t&&(this.params=t)},ee(st.asn1.x509.OCSPNonce,st.asn1.x509.Extension),st.asn1.x509.OCSPNoCheck=function(t){st.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new st.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=t&&(this.params=t)},ee(st.asn1.x509.OCSPNoCheck,st.asn1.x509.Extension),st.asn1.x509.AdobeTimeStamp=function(t){st.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,t);var e=st.asn1,r=e.DERInteger,n=e.DERBoolean,o=e.DERSequence,i=e.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[new r(1)];return e.push(new i({uri:t.uri})),null!=t.reqauth&&e.push(new n(t.reqauth)),this.asn1ExtnValue=new o({array:e}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.AdobeTimeStamp,st.asn1.x509.Extension),st.asn1.x509.X500Name=function(t){st.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=st.asn1,r=e.x509,n=r.RDN;this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.split("/");r.shift();for(var o=[],i=0;i<r.length;i++)if(r[i].match(/^[^=]+=.+$/))o.push(r[i]);else{var a=o.length-1;o[a]=o[a]+"/"+r[i]}for(i=0;i<o.length;i++)this.asn1Array.push(new n({str:o[i],rule:this.sRule}))},this.setByLdapString=function(t,e){void 0!==e&&(this.sRule=e);var n=r.X500Name.ldapToCompat(t);this.setByString(n,e)},this.setByObject=function(t,e){for(var r in void 0!==e&&(this.sRule=e),t)if(t.hasOwnProperty(r)){var o=new n({str:r+"="+t[r],rule:this.sRule});this.asn1Array?this.asn1Array.push(o):this.asn1Array=[o]}},this.setByParam=function(t){var e;(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.array)?this.paramArray=t.array:void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):void 0!==t.hex?this.hTLV=t.hex:void 0!==t.certissuer?((e=new ae).readCertPEM(t.certissuer),this.hTLV=e.getIssuerHex()):void 0!==t.certsubject?((e=new ae).readCertPEM(t.certsubject),this.hTLV=e.getSubjectHex()):"object"==typeof t&&void 0===t.certsubject&&void 0===t.certissuer&&this.setByObject(t)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r={array:this.paramArray[t]};"utf8"!=this.sRule&&(r.rule=this.sRule);var o=new n(r);this.asn1Array.push(o)}var i=new e.DERSequence({array:this.asn1Array});return this.hTLV=i.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.X500Name,st.asn1.ASN1Object),st.asn1.x509.X500Name.compatToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),e=e.map((function(t){return t.replace(/,/,"\\,")})),e.join(",")},st.asn1.x509.X500Name.onelineToLDAP=function(t){return st.asn1.x509.X500Name.compatToLDAP(t)},st.asn1.x509.X500Name.ldapToCompat=function(t){for(var e=t.split(","),r=!1,n=[],o=0;e.length>0;o++){var i=e.shift();if(!0===r){var a=(n.pop()+","+i).replace(/\\,/g,",");n.push(a),r=!1}else n.push(i);"\\"===i.substr(-1,1)&&(r=!0)}return n=n.map((function(t){return t.replace("/","\\/")})),n.reverse(),"/"+n.join("/")},st.asn1.x509.X500Name.ldapToOneline=function(t){return st.asn1.x509.X500Name.ldapToCompat(t)},st.asn1.x509.RDN=function(t){st.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=st.asn1.x509.AttributeTypeAndValue;this.setByParam=function(t){void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.str&&this.addByMultiValuedString(t.str),void 0!==t.array&&(this.paramArray=t.array)},this.addByString=function(t){this.asn1Array.push(new st.asn1.x509.AttributeTypeAndValue({str:t,rule:this.sRule}))},this.addByMultiValuedString=function(t){for(var e=st.asn1.x509.RDN.parseString(t),r=0;r<e.length;r++)this.addByString(e[r])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r=this.paramArray[t];void 0!==r.rule&&"utf8"!=this.sRule&&(r.rule=this.sRule);var n=new e(r);this.asn1Array.push(n)}var o=new st.asn1.DERSet({array:this.asn1Array});return this.TLV=o.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.RDN,st.asn1.ASN1Object),st.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),r=!1,n=[],o=0;e.length>0;o++){var i=e.shift();if(!0===r){var a=(n.pop()+"+"+i).replace(/\\\+/g,"+");n.push(a),r=!1}else n.push(i);"\\"===i.substr(-1,1)&&(r=!0)}var s=!1,c=[];for(o=0;n.length>0;o++){i=n.shift();if(!0===s){var u=c.pop();if(i.match(/"$/)){a=(u+"+"+i).replace(/^([^=]+)="(.*)"$/,"$1=$2");c.push(a),s=!1}else c.push(u+"+"+i)}else c.push(i);i.match(/^[^=]+="/)&&(s=!0)}return c},st.asn1.x509.AttributeTypeAndValue=function(t){st.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var e=st,r=e.asn1,n=r.DERSequence,o=r.DERUTF8String,i=r.DERPrintableString,a=r.DERTeletexString,s=r.DERIA5String,c=r.DERVisibleString,u=r.DERBMPString,l=e.lang.String.isMail,h=e.lang.String.isPrintable;this.setByParam=function(t){if(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.ds&&(this.dsType=t.ds),void 0===t.value&&void 0!==t.str){var e=t.str.match(/^([^=]+)=(.+)$/);if(!e)throw Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=e[1],this.sValue=e[2]}else this.sType=t.type,this.sValue=t.value},this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.match(/^([^=]+)=(.+)$/);if(!r)throw Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(r[1],r[2])},this._getDsType=function(){var t=this.sType,e=this.sValue,r=this.sRule;return"prn"===r?"CN"==t&&l(e)?"ia5":h(e)?"prn":"utf8":"utf8"===r?"CN"==t&&l(e)?"ia5":"C"==t?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(t,e,r){void 0!==r&&(this.sRule=r),this.sType=t,this.sValue=e},this.getValueObj=function(t,e){if("utf8"==t)return new o({str:e});if("prn"==t)return new i({str:e});if("tel"==t)return new a({str:e});if("ia5"==t)return new s({str:e});if("vis"==t)return new c({str:e});if("bmp"==t)return new u({str:e});throw Error("unsupported directory string type: type="+t+" value="+e)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var t=st.asn1.x509.OID.atype2obj(this.sType),e=this.getValueObj(this.dsType,this.sValue),r=new n({array:[t,e]});return this.TLV=r.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.AttributeTypeAndValue,st.asn1.ASN1Object),st.asn1.x509.SubjectPublicKeyInfo=function(t){st.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=st,r=e.asn1,n=r.DERInteger,o=r.DERBitString,i=r.DERObjectIdentifier,a=r.DERSequence,s=r.ASN1Util.newObject,c=r.x509.AlgorithmIdentifier,u=e.crypto;u.ECDSA,u.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new a({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var t=this.getASN1Object();return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(t){try{if(t instanceof rt){var e=s({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).tohex();this.asn1AlgId=new c({name:"rsaEncryption"}),this.asn1SubjPKey=new o({hex:"00"+e})}}catch(t){}try{if(t instanceof st.crypto.ECDSA){var r=new i({name:t.curveName});this.asn1AlgId=new c({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new o({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof st.crypto.DSA){r=new s({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]});this.asn1AlgId=new c({name:"dsa",asn1params:r});var a=new n({bigint:t.y});this.asn1SubjPKey=new o({hex:"00"+a.tohex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},ee(st.asn1.x509.SubjectPublicKeyInfo,st.asn1.ASN1Object),st.asn1.x509.Time=function(t){st.asn1.x509.Time.superclass.constructor.call(this);var e=st.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(t){this.timeParams=t},this.setByParam=function(t){this.params=t},this.getType=function(t){return t.match(/^[0-9]{12}Z$/)?"utc":t.match(/^[0-9]{14}Z$/)?"gen":t.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":t.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var t=this.params,e=null;if("string"==typeof t&&(t={str:t}),null==t||!t.str||null!=t.type&&null!=t.type||(t.type=this.getType(t.str)),null!=t&&t.str?("utc"==t.type&&(e=new r(t.str)),"gen"==t.type&&(e=new n(t.str))):e="gen"==this.type?new n:new r,null==e)throw Error("wrong setting for Time");return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},st.asn1.x509.Time_bak=function(t){st.asn1.x509.Time_bak.superclass.constructor.call(this);var e=st.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.tohex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new n(this.timeParams):"utc"==this.type?new r:new n,this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},ee(st.asn1.x509.Time,st.asn1.ASN1Object),st.asn1.x509.AlgorithmIdentifier=function(t){st.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=st.asn1,r=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw Error("algorithm not specified");if(null!==this.nameAlg){var t=null;for(var n in r)n===this.nameAlg&&(t=r[n]);if(null!==t)return this.hTLV=t,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var o=[this.asn1Alg];null!==this.asn1Params&&o.push(this.asn1Params);var i=new e.DERSequence({array:o});return this.hTLV=i.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},ee(st.asn1.x509.AlgorithmIdentifier,st.asn1.ASN1Object),st.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},st.asn1.x509.GeneralName=function(t){st.asn1.x509.GeneralName.superclass.constructor.call(this);var e=st.asn1,r=e.x509,n=r.X500Name,o=r.OtherName,i=e.DERIA5String,a=(e.DERPrintableString,e.DEROctetString),s=e.DERTaggedObject,c=e.ASN1Object,u=Error;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t,e,r=this.params,l=!1;if(void 0!==r.other)t="a0",e=new o(r.other);else if(void 0!==r.rfc822)t="81",e=new i({str:r.rfc822});else if(void 0!==r.dns)t="82",e=new i({str:r.dns});else if(void 0!==r.dn)t="a4",l=!0,e="string"==typeof r.dn?new n({str:r.dn}):r.dn instanceof st.asn1.x509.X500Name?r.dn:new n(r.dn);else if(void 0!==r.ldapdn)t="a4",l=!0,e=new n({ldapstr:r.ldapdn});else if(void 0!==r.certissuer||void 0!==r.certsubj){var h,f;t="a4",l=!0;var p=null;if(void 0!==r.certsubj?(h=!1,f=r.certsubj):(h=!0,f=r.certissuer),f.match(/^[0-9A-Fa-f]+$/),-1!=f.indexOf("-----BEGIN ")&&(p=kt(f)),null==p)throw Error("certsubj/certissuer not cert");var d,y=new ae;y.hex=p,d=h?y.getIssuerHex():y.getSubjectHex(),(e=new c).hTLV=d}else if(void 0!==r.uri)t="86",e=new i({str:r.uri});else{if(void 0===r.ip)throw new u("improper params");var v;t="87";var m=r.ip;try{if(m.match(/^[0-9a-f]+$/)){var g=m.length;if(8!=g&&16!=g&&32!=g&&64!=g)throw"err";v=m}else v=Bt(m)}catch(t){throw new u("malformed IP address: "+r.ip+":"+t.message)}e=new a({hex:v})}return new s({tag:t,explicit:l,obj:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.GeneralName,st.asn1.ASN1Object),st.asn1.x509.GeneralNames=function(t){st.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=st.asn1;this.setByParamArray=function(t){for(var r=0;r<t.length;r++){var n=new e.x509.GeneralName(t[r]);this.asn1Array.push(n)}},this.tohex=function(){return new e.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=[],void 0!==t&&this.setByParamArray(t)},ee(st.asn1.x509.GeneralNames,st.asn1.ASN1Object),st.asn1.x509.OtherName=function(t){st.asn1.x509.OtherName.superclass.constructor.call(this);var e=st.asn1,r=e.DERObjectIdentifier,n=e.DERSequence,o=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null==t.oid||null==t.value)throw Error("oid or value not specified");var e=new r({oid:t.oid}),i=o({tag:{tag:"a0",explicit:!0,obj:t.value}});return new n({array:[e,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.x509.OtherName,st.asn1.ASN1Object),st.asn1.x509.OID=new function(){var t=st.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var r=this.name2oidList[e],n=new t({oid:r});return this.objCache[e]=n,n},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];var r;if(e.match(/^\d+\.\d+\.[0-9.]+$/))r=e;else if(void 0!==this.atype2oidList[e])r=this.atype2oidList[e];else{if(void 0===this.name2oidList[e])throw Error("AttributeType name undefined: "+e);r=this.name2oidList[e]}var n=new t({oid:r});return this.objCache[e]=n,n},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var e in t)this.name2oidList[e]=t[e]},this.checkOIDs=function(t){try{var e=Object.keys(t);return 0!=e.length&&(e.map((function(t,e,r){if(!this[t].match(/^[0-2]\.[0-9.]+$/))throw Error("value is not OID")}),t),!0)}catch(t){return!1}}},st.asn1.x509.OID.oid2name=function(t){var e=st.asn1.x509.OID.name2oidList;for(var r in e)if(e[r]==t)return r;return""},st.asn1.x509.OID.oid2atype=function(t){var e=st.asn1.x509.OID.atype2oidList;for(var r in e)if(e[r]==t)return r;return t},st.asn1.x509.OID.name2oid=function(t){if(t.match(/^[0-9.]+$/))return t;var e=st.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},st.asn1.x509.X509Util={},st.asn1.x509.X509Util.newCertPEM=function(t){var e=st.asn1.x509;e.TBSCertificate;return new(0,e.Certificate)(t).getPEM()},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.cms&&st.asn1.cms||(st.asn1.cms={}),st.asn1.cms.Attribute=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERSet,i=r.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(t){this.params=t},this.getValueArray=function(){throw new e("not yet implemented abstract")},this.tohex=function(){var t=new i({oid:this.typeOid}),e=new o({array:this.getValueArray()});return new n({array:[t,e]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},ee(st.asn1.cms.Attribute,st.asn1.ASN1Object),st.asn1.cms.ContentType=function(t){var e=st.asn1;e.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new e.DERObjectIdentifier(this.params.type)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ContentType,st.asn1.cms.Attribute),st.asn1.cms.MessageDigest=function(t){var e=st.asn1,r=e.DEROctetString;e.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new r(this.params)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.MessageDigest,st.asn1.cms.Attribute),st.asn1.cms.SigningTime=function(t){var e=st.asn1;e.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new e.x509.Time(this.params)]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningTime,st.asn1.cms.Attribute),st.asn1.cms.SigningCertificate=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=n.cms,a=i.ESSCertID;r.crypto;i.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],i=0;i<r.length;i++){var s=r[i];0!=t.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!lt.isASN1HEX(s)||(s={cert:s}),0!=s.hasis&&0==t.hasis&&(s.hasis=!1),n.push(new a(s))}var c=new o({array:n});return[new o({array:[c]})]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningCertificate,st.asn1.cms.Attribute),st.asn1.cms.ESSCertID=function(t){st.asn1.cms.ESSCertID.superclass.constructor.call(this);var e=Error,r=st,n=r.asn1,o=n.DEROctetString,i=n.DERSequence,a=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(t,n){if(null!=t.hash)return t.hash;if("string"==typeof t&&-1==t.indexOf("-----BEGIN")&&!lt.isASN1HEX(t))return t;var o,i,a;if("string"==typeof t)o=t;else{if(null==t.cert)throw new e("hash nor cert unspecified");o=t.cert}if(i=-1!=o.indexOf("-----BEGIN")?kt(o):o,"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?i=kt(t):lt.isASN1HEX(t)&&(i=t)),null!=t.alg)a=t.alg;else{if(null==n)throw new e("hash alg unspecified");a=n}return r.crypto.Util.hashHex(i,a)},this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha1"),r=[];return r.push(new o({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&r.push(new a(t)),new i({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ESSCertID,st.asn1.ASN1Object),st.asn1.cms.SigningCertificateV2=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=(n.x509,n.cms),a=i.ESSCertIDv2;r.crypto;i.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],i=0;i<r.length;i++){var s=r[i];null==t.alg&&0!=t.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!lt.isASN1HEX(s)||(s={cert:s}),null==s.alg&&null!=t.alg&&(s.alg=t.alg),0!=s.hasis&&0==t.hasis&&(s.hasis=!1),n.push(new a(s))}var c=new o({array:n});return[new o({array:[c]})]},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SigningCertificateV2,st.asn1.cms.Attribute),st.asn1.cms.ESSCertIDv2=function(t){st.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var e=st.asn1,r=e.DEROctetString,n=e.DERSequence,o=e.cms.IssuerSerial,i=e.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha256"),a=[];return null!=t.alg&&"sha256"!=t.alg&&a.push(new i({name:t.alg})),a.push(new r({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&a.push(new o(t)),new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ESSCertIDv2,st.asn1.cms.ESSCertID),st.asn1.cms.IssuerSerial=function(t){var e=Error,r=st.asn1,n=r.DERInteger,o=r.DERSequence,i=r.cms,a=r.x509.GeneralNames,s=ae;i.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.tohex=function(){var t,r,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var c;c=null!=i.cert?i.cert:i;var u=new s;u.readCertPEM(c),t=u.getIssuer(),r={hex:u.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new e("cert or issuer and serial parameter not specified");t=i.issuer,r=i.serial}var l=new a([{dn:t}]),h=new n(r);return new o({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.IssuerSerial,st.asn1.ASN1Object),st.asn1.cms.SignerIdentifier=function(t){var e=st.asn1,r=(e.DERInteger,e.DERSequence,e.cms),n=r.IssuerAndSerialNumber,o=r.SubjectKeyIdentifier;e.x509.X500Name;r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("isssn"==t.type)return new n(t).tohex();if("skid"==t.type)return new o(t).tohex();throw Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignerIdentifier,st.asn1.ASN1Object),st.asn1.cms.IssuerAndSerialNumber=function(t){var e=st.asn1,r=e.DERInteger,n=e.DERSequence,o=e.cms,i=e.x509.X500Name,a=ae,s=Error;o.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t,e,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var c;c=null!=o.cert?o.cert:o;var u=new a;u.readCertPEM(c),t=u.getIssuer(),e={hex:u.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new s("cert or issuer and serial parameter not specified");t=o.issuer,e=o.serial}var l=new i(t),h=new r(e);return new n({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.IssuerAndSerialNumber,st.asn1.ASN1Object),st.asn1.cms.SubjectKeyIdentifier=function(t){var e=st.asn1,r=(e.DERInteger,e.DERSequence,e.ASN1Util.newObject),n=e.cms,o=(n.IssuerAndSerialName,n.SubjectKeyIdentifier,e.x509.X500Name,ae),i=Error;n.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var t,e=this.params;if(null==e.cert&&null==e.skid)throw new i("property cert nor skid undefined");null!=e.cert?t=new o(e.cert).getExtSubjectKeyIdentifier().kid.hex:null!=e.skid&&(t=e.skid);return r({tag:{tage:"a0",obj:{octstr:{hex:t}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SubjectKeyIdentifier,st.asn1.ASN1Object),st.asn1.cms.AttributeList=function(t){var e=Error,r=st.asn1,n=r.DERSet,o=r.cms;o.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null!=this.hTLV)return this.hTLV;var r=!0;null!=t.sortflag&&(r=t.sortflag);for(var i=t.array,a=[],s=0;s<i.length;s++){var c=i[s],u=c.attr;if("contentType"==u)a.push(new o.ContentType(c));else if("messageDigest"==u)a.push(new o.MessageDigest(c));else if("signingTime"==u)a.push(new o.SigningTime(c));else if("signingCertificate"==u)a.push(new o.SigningCertificate(c));else if("signingCertificateV2"==u)a.push(new o.SigningCertificateV2(c));else if("signaturePolicyIdentifier"==u)a.push(new st.asn1.cades.SignaturePolicyIdentifier(c));else{if("signatureTimeStamp"!=u&&"timeStampToken"!=u)throw new e("unknown attr: "+u);a.push(new st.asn1.cades.SignatureTimeStamp(c))}}var l=new n({array:a,sortflag:r});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.AttributeList,st.asn1.ASN1Object),st.asn1.cms.SignerInfo=function(t){var e=Error,r=st,n=r.asn1,o=n.DERInteger,i=n.DEROctetString,a=n.DERSequence,s=n.DERTaggedObject,c=n.cms,u=c.SignerIdentifier,l=c.AttributeList,h=(c.ContentType,c.EncapsulatedContentInfo,c.MessageDigest,c.SignedData,n.x509.AlgorithmIdentifier),f=r.crypto,p=re;c.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var t=this.params,e=t.sigalg,r=new l(t.sattrs).tohex(),n=p.getKey(t.signkey),o=new f.Signature({alg:e});o.init(n),o.updateHex(r);var i=o.sign();t.sighex=i},this.tohex=function(){var t=this.params,r=[];if(r.push(new o({int:t.version})),r.push(new u(t.id)),r.push(new h({name:t.hashalg})),null!=t.sattrs){var n=new l(t.sattrs);try{r.push(new s({tag:"a0",explicit:!1,obj:n}))}catch(t){throw new e("si sattr error: "+t)}}if(null!=t.sigalgfield?r.push(new h({name:t.sigalgfield})):r.push(new h({name:t.sigalg})),null==t.sighex&&null!=t.signkey&&this.sign(),r.push(new i({hex:t.sighex})),null!=t.uattrs){n=new l(t.uattrs);try{r.push(new s({tag:"a1",explicit:!1,obj:n}))}catch(t){throw new e("si uattr error: "+t)}}return new a({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignerInfo,st.asn1.ASN1Object),st.asn1.cms.EncapsulatedContentInfo=function(t){var e=st.asn1,r=e.DERTaggedObject,n=e.DERSequence,o=e.DERObjectIdentifier,i=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];if(e.push(new o(t.type)),null!=t.content&&(null!=t.content.hex||null!=t.content.str)&&1!=t.isDetached){var a=new i(t.content),s=new r({tag:"a0",explicit:!0,obj:a});e.push(s)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.EncapsulatedContentInfo,st.asn1.ASN1Object),st.asn1.cms.ContentInfo=function(t){var e=st.asn1,r=e.DERTaggedObject,n=e.DERSequence,o=e.DERObjectIdentifier;e.x509.OID.name2obj;st.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];e.push(new o(t.type));var i=new r({tag:"a0",explicit:!0,obj:t.obj});return e.push(i),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cms.ContentInfo,st.asn1.ASN1Object),st.asn1.cms.SignedData=function(t){var e=st.asn1,r=(e.ASN1Object,e.DERInteger),n=e.DERSet,o=e.DERSequence,i=(e.DERTaggedObject,e.cms),a=i.EncapsulatedContentInfo,s=i.SignerInfo,c=i.ContentInfo,u=i.CertificateSet,l=i.RevocationInfoChoices,h=e.x509.AlgorithmIdentifier;st.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var t=this.params;this._setDigestAlgs(t),this._setContentTypeByEContent(t),this._setMessageDigestByEContent(t),this._setSignerInfoVersion(t),this._setSignedDataVersion(t)},this._setDigestAlgs=function(t){for(var e={},r=t.sinfos,n=0;n<r.length;n++){e[r[n].hashalg]=1}t.hashalgs=Object.keys(e).sort()},this._setContentTypeByEContent=function(t){for(var e=t.econtent.type,r=t.sinfos,n=0;n<r.length;n++){var o=r[n];this._getAttrParamByName(o,"contentType").type=e}},this._setMessageDigestByEContent=function(t){var e=t.econtent,r=(t.econtent.type,e.content.hex);null==r&&"data"==e.type&&null!=e.content.str&&(r=St(e.content.str));for(var n=t.sinfos,o=0;o<n.length;o++){var i=n[o],a=i.hashalg,s=this._getAttrParamByName(i,"messageDigest"),c=st.crypto.Util.hashHex(r,a);s.hex=c}},this._getAttrParamByName=function(t,e){for(var r=t.sattrs.array,n=0;n<r.length;n++)if(r[n].attr==e)return r[n]},this._setSignerInfoVersion=function(t){for(var e=t.sinfos,r=0;r<e.length;r++){var n=e[r],o=1;"skid"==n.id.type&&(o=3),n.version=o}},this._setSignedDataVersion=function(t){var e=this._getSignedDataVersion(t);t.version=e},this._getSignedDataVersion=function(t){if(null!=t.revinfos)for(var e=t.revinfos,r=0;r<e.length;r++){if(null!=e[r].ocsp)return 5}var n=t.sinfos;for(r=0;r<n.length;r++){if(3==t.sinfos[r].version)return 3}return"data"!=t.econtent.type?3:1},this.tohex=function(){var t=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=t.fixed&&this.checkAndFixParam();var e=[];e.push(new r({int:t.version}));for(var i=[],c=0;c<t.hashalgs.length;c++){var f=t.hashalgs[c];i.push(new h({name:f}))}e.push(new n({array:i})),e.push(new a(t.econtent)),null!=t.certs&&e.push(new u(t.certs)),null!=t.revinfos&&e.push(new l(t.revinfos));var p=[];for(c=0;c<t.sinfos.length;c++){var d=t.sinfos[c];p.push(new s(d))}return e.push(new n({array:p})),new o({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.SignedData,st.asn1.ASN1Object),st.asn1.cms.CertificateSet=function(t){st.asn1.cms.CertificateSet.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.DERTaggedObject,o=r.DERSet,i=r.ASN1Object;this.params=null,this.tohex=function(){var t,r=this.params,a=[];if(r instanceof Array)t=r;else{if(null==r.array)throw new e("cert array not specified");t=r.array}for(var s=0;s<t.length;s++){var c=kt(t[s]),u=new i;u.hTLV=c,a.push(u)}var l={array:a};0==r.sortflag&&(l.sortflag=!1);var h=new o(l);return new n({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.CertificateSet,st.asn1.ASN1Object),st.asn1.cms.RevocationInfoChoices=function(t){st.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw Error("params is not array");for(var e=[],r=0;r<t.length;r++)e.push(new st.asn1.cms.RevocationInfoChoice(t[r]));return st.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:e}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.RevocationInfoChoices,st.asn1.ASN1Object),st.asn1.cms.RevocationInfoChoice=function(t){st.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null!=t.crl&&"string"==typeof t.crl){var e=t.crl;return-1!=t.crl.indexOf("-----BEGIN")&&(e=kt(t.crl)),e}if(null!=t.ocsp)return st.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new st.asn1.cms.OtherRevocationFormat(t)}}).tohex();throw Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.RevocationInfoChoice,st.asn1.ASN1Object),st.asn1.cms.OtherRevocationFormat=function(t){st.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var e=Error,r=st,n=r.asn1.ASN1Util.newObject,o=r.lang.String.isHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.ocsp)throw new e("property ocsp not specified");if(!o(t.ocsp)||!lt.isASN1HEX(t.ocsp))throw new e("ocsp value not ASN.1 hex string");return n({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:t.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cms.OtherRevocationFormat,st.asn1.ASN1Object),st.asn1.cms.CMSUtil=new function(){},st.asn1.cms.CMSUtil.newSignedData=function(t){return new st.asn1.cms.SignedData(t)},st.asn1.cms.CMSUtil.verifySignedData=function(t){var e=st,r=e.asn1,n=r.cms,o=(n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2,r.cades.SignaturePolicyIdentifier,e.lang.String.isHex),i=lt,a=i.getVbyList,s=i.getTLVbyList,c=i.getIdxbyList,u=i.getChildIdx,l=i.getTLV,h=i.oidname,f=e.crypto.Util.hashHex;void 0===t.cms&&o(t.cms);var p=t.cms,d=function(t,e){var r=e.idx;e.signerid_issuer1=s(t,r,[1,0],"30"),e.signerid_serial1=a(t,r,[1,1],"02"),e.hashalg=h(a(t,r,[2,0],"06"));var n=c(t,r,[3],"a0");e.idxSignedAttrs=n,y(t,e,n);var o=u(t,r).length;if(o<6)throw"malformed SignerInfo";e.sigalg=h(a(t,r,[o-2,0],"06")),e.sigval=a(t,r,[o-1],"04")},y=function(t,e,r){var n=u(t,r);e.signedAttrIdxList=n;for(var o=0;o<n.length;o++){var i,s=n[o],c=a(t,s,[0],"06");"2a864886f70d010905"===c?(i=wt(a(t,s,[1,0])),e.saSigningTime=i):"2a864886f70d010904"===c&&(i=a(t,s,[1,0],"04"),e.saMessageDigest=i)}},v=function(t,e,r,n){r.verifyDetail={};var o=r.verifyDetail,i=e.parse.econtent,a=r.hashalg,s=r.saMessageDigest;o.validMessageDigest=!1,f(i,a)===s&&(o.validMessageDigest=!0),function(t,e,r){var n,o=e.parse.certsIdx;if(void 0===e.certs){n=[],e.certkeys=[];for(var i=u(t,o),a=0;a<i.length;a++){var s=l(t,i[a]),c=new ae;c.readCertHex(s),n[a]=c,e.certkeys[a]=c.getPublicKey()}e.certs=n}else n=e.certs;for(e.cccc=n.length,e.cccci=i.length,a=0;a<n.length;a++){var h=c.getIssuerHex(),f=c.getSerialNumberHex();r.signerid_issuer1===h&&r.signerid_serial1===f&&(r.certkey_idx=a)}}(t,e,r),o.validSignatureValue=!1;var c=r.sigalg,h="31"+l(t,r.idxSignedAttrs).substr(2);r.signedattrshex=h;var p=e.certs[r.certkey_idx].getPublicKey(),d=new st.crypto.Signature({alg:c});d.init(p),d.updateHex(h);var y=d.verify(r.sigval);o.validSignatureValue_isValid=y,!0===y&&(o.validSignatureValue=!0),r.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(r.isValid=!0)},m={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==a(t,0,[0],"06"))return e;e.cmsType="signedData",e.econtent=a(t,0,[1,0,2,1,0]),function(t,e){for(var r,n=3;n<6;n++)if(void 0!==(r=c(t,0,[1,0,n]))){var o=t.substr(r,2);"a0"===o&&(e.certsIdx=r),"a1"===o&&(e.revinfosIdx=r),"31"===o&&(e.signerinfosIdx=r)}}(t,e),e.signerInfos=[],function(t,e){var r=e.signerinfosIdx;if(void 0!==r){var n=u(t,r);e.signerInfoIdxList=n;for(var o=0;o<n.length;o++){var i={idx:n[o]};d(t,i),e.signerInfos.push(i)}}}(t,e)}(p,m.parse),function(t,e){for(var r=e.parse.signerInfos,n=r.length,o=!0,i=0;i<n;i++){var a=r[i];v(t,e,a,i),a.isValid||(o=!1)}e.isValid=o}(p,m),m},st.asn1.cms.CMSParser=function(){var t=Error,e=ae,r=new e,n=lt,o=n.getV,i=n.getTLV,a=(n.getIdxbyList,n.getTLVbyList),s=n.getTLVbyListEx,c=n.getVbyList,u=n.getVbyListEx,l=n.getChildIdx;this.getCMSSignedData=function(t){var e=a(t,0,[1,0]);return this.getSignedData(e)},this.getSignedData=function(t){var e=l(t,0),r={},n=o(t,e[0]),a=parseInt(n,16);r.version=a;var c=i(t,e[1]);r.hashalgs=this.getHashAlgArray(c);var u=i(t,e[2]);r.econtent=this.getEContent(u);var h=s(t,0,["[0]"]);null!=h&&(r.certs=this.getCertificateSet(h));s(t,0,["[1]"]);var f=s(t,0,[3]);return r.sinfos=this.getSignerInfos(f),r},this.getHashAlgArray=function(t){for(var r=l(t,0),n=new e,o=[],a=0;a<r.length;a++){var s=i(t,r[a]),c=n.getAlgorithmIdentifierName(s);o.push(c)}return o},this.getEContent=function(t){var e={},r=c(t,0,[0]),n=c(t,0,[1,0]);return e.type=st.asn1.x509.OID.oid2name(lt.hextooidstr(r)),e.content={hex:n},e},this.getSignerInfos=function(t){for(var e=[],r=l(t,0),n=0;n<r.length;n++){var o=i(t,r[n]),a=this.getSignerInfo(o);e.push(a)}return e},this.getSignerInfo=function(t){var e={},o=l(t,0),a=n.getInt(t,o[0],-1);-1!=a&&(e.version=a);var c=i(t,o[1]),h=this.getIssuerAndSerialNumber(c);e.id=h;var f=i(t,o[2]),p=r.getAlgorithmIdentifierName(f);e.hashalg=p;var d=s(t,0,["[0]"]);if(null!=d){var y=this.getAttributeList(d);e.sattrs=y}var v=s(t,0,[3]),m=r.getAlgorithmIdentifierName(v);e.sigalg=m;var g=u(t,0,[4]);e.sighex=g;var b=s(t,0,["[1]"]);if(null!=b){var w=this.getAttributeList(b);e.uattrs=w}return e},this.getSignerIdentifier=function(t){if("30"==t.substr(0,2))return this.getIssuerAndSerialNumber(t);throw Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(t){var e={type:"isssn"},n=l(t,0),a=i(t,n[0]);e.issuer=r.getX500Name(a);var s=o(t,n[1]);return e.serial={hex:s},e},this.getAttributeList=function(t){for(var e=[],r=l(t,0),n=0;n<r.length;n++){var o=i(t,r[n]),a=this.getAttribute(o);e.push(a)}return{array:e}},this.getAttribute=function(t){var e={},r=l(t,0),o=n.getOID(t,r[0]),a=st.asn1.x509.OID.oid2name(o);e.attr=a;var s=i(t,r[1]),c=l(s,0);if(1==c.length)e.valhex=i(s,c[0]);else{for(var u=[],h=0;h<c.length;h++)u.push(i(s,c[h]));e.valhex=u}return"contentType"==a?this.setContentType(e):"messageDigest"==a?this.setMessageDigest(e):"signingTime"==a?this.setSigningTime(e):"signingCertificate"==a?this.setSigningCertificate(e):"signingCertificateV2"==a?this.setSigningCertificateV2(e):"signaturePolicyIdentifier"==a&&this.setSignaturePolicyIdentifier(e),e},this.setContentType=function(t){var e=n.getOIDName(t.valhex,0,null);null!=e&&(t.type=e,delete t.valhex)},this.setSigningTime=function(t){var e=wt(o(t.valhex,0));t.str=e,delete t.valhex},this.setMessageDigest=function(t){var e=o(t.valhex,0);t.hex=e,delete t.valhex},this.setSigningCertificate=function(t){var e=l(t.valhex,0);if(e.length>0){for(var r=i(t.valhex,e[0]),n=l(r,0),o=[],a=0;a<n.length;a++){var s=i(r,n[a]),c=this.getESSCertID(s);o.push(c)}t.array=o}if(e.length>1){var u=i(t.valhex,e[1]);t.polhex=u}delete t.valhex},this.setSignaturePolicyIdentifier=function(t){var r=l(t.valhex,0);if(r.length>0){var a=n.getOID(t.valhex,r[0]);t.oid=a}if(r.length>1){var s=new e,c=l(t.valhex,r[1]),u=i(t.valhex,c[0]),h=s.getAlgorithmIdentifierName(u);t.alg=h;var f=o(t.valhex,c[1]);t.hash=f}delete t.valhex},this.setSigningCertificateV2=function(t){var e=l(t.valhex,0);if(e.length>0){for(var r=i(t.valhex,e[0]),n=l(r,0),o=[],a=0;a<n.length;a++){var s=i(r,n[a]),c=this.getESSCertIDv2(s);o.push(c)}t.array=o}if(e.length>1){var u=i(t.valhex,e[1]);t.polhex=u}delete t.valhex},this.getESSCertID=function(t){var e={},r=l(t,0);if(r.length>0){var n=o(t,r[0]);e.hash=n}if(r.length>1){var a=i(t,r[1]),s=this.getIssuerSerial(a);null!=s.serial&&(e.serial=s.serial),null!=s.issuer&&(e.issuer=s.issuer)}return e},this.getESSCertIDv2=function(e){var n={},a=l(e,0);if(a.length<1||3<a.length)throw new t("wrong number of elements");var s=0;if("30"==e.substr(a[0],2)){var c=i(e,a[0]);n.alg=r.getAlgorithmIdentifierName(c),s++}else n.alg="sha256";var u=o(e,a[s]);if(n.hash=u,a.length>s+1){var h=i(e,a[s+1]),f=this.getIssuerSerial(h);n.issuer=f.issuer,n.serial=f.serial}return n},this.getIssuerSerial=function(t){var e={},n=l(t,0),a=i(t,n[0]),s=r.getGeneralNames(a)[0].dn;e.issuer=s;var c=o(t,n[1]);return e.serial={hex:c},e},this.getCertificateSet=function(t){for(var e=l(t,0),r=[],n=0;n<e.length;n++){var o=i(t,e[n]);if("30"==o.substr(0,2)){var a=Lt(o,"CERTIFICATE");r.push(a)}}return{array:r,sortflag:!1}}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.tsp&&st.asn1.tsp||(st.asn1.tsp={}),st.asn1.tsp.TimeStampToken=function(t){var e=st.asn1.tsp;e.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var t=new e.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=t.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampToken,st.asn1.cms.SignedData),st.asn1.tsp.TSTInfo=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERInteger,o=e.DERBoolean,i=e.DERGeneralizedTime,a=e.DERObjectIdentifier,s=e.DERTaggedObject,c=e.tsp,u=c.MessageImprint,l=c.Accuracy,h=(e.x509.X500Name,e.x509.GeneralName);if(c.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw Error("policy shall be specified.");if(t.push(this.dPolicy),null==this.dMessageImprint)throw Error("messageImprint shall be specified.");if(t.push(this.dMessageImprint),null==this.dSerial)throw Error("serialNumber shall be specified.");if(t.push(this.dSerial),null==this.dGenTime)throw Error("genTime shall be specified.");t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new u(t.messageImprint)),void 0!==t.serial&&(this.dSerial=new n(t.serial)),void 0!==t.genTime&&(this.dGenTime=new i(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new l(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new o),void 0!==t.nonce&&(this.dNonce=new n(t.nonce)),void 0!==t.tsa&&(this.dTsa=new s({tag:"a0",explicit:!0,obj:new h({dn:t.tsa})}))}},ee(st.asn1.tsp.TSTInfo,st.asn1.ASN1Object),st.asn1.tsp.Accuracy=function(t){var e=st.asn1,r=e.ASN1Util.newObject;e.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return null!=t.seconds&&"number"==typeof t.seconds&&e.push({int:t.seconds}),null!=t.millis&&"number"==typeof t.millis&&e.push({tag:{tagi:"80",obj:{int:t.millis}}}),null!=t.micros&&"number"==typeof t.micros&&e.push({tag:{tagi:"81",obj:{int:t.micros}}}),r({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.Accuracy,st.asn1.ASN1Object),st.asn1.tsp.MessageImprint=function(t){var e=st.asn1,r=e.DERSequence,n=e.DEROctetString,o=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=new o({name:t.alg}),i=new n({hex:t.hash});return new r({array:[e,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.tsp.MessageImprint,st.asn1.ASN1Object),st.asn1.tsp.TimeStampReq=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERInteger,o=e.DERBoolean,i=(e.ASN1Object,e.DERObjectIdentifier),a=e.tsp,s=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n({int:1})),t.messageImprint instanceof st.asn1.ASN1Object?e.push(t.messageImprint):e.push(new s(t.messageImprint)),null!=t.policy&&e.push(new i(t.policy)),null!=t.nonce&&e.push(new n(t.nonce)),1==t.certreq&&e.push(new o),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampReq,st.asn1.ASN1Object),st.asn1.tsp.TimeStampResp=function(t){var e=st.asn1,r=e.DERSequence,n=(e.ASN1Object,e.tsp),o=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,i=[];if(null!=t.econtent||null!=t.tst)if(null!=t.statusinfo?i.push(new o(t.statusinfo)):i.push(new o("granted")),null!=t.econtent)i.push(new n.TimeStampToken(t).getContentInfo());else{if(!(t.tst instanceof e.ASN1Object))throw Error("improper member tst value");i.push(t.tst)}else{if(null==t.statusinfo)throw Error("parameter for token nor statusinfo not specified");i.push(new o(t.statusinfo))}return new r({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.TimeStampResp,st.asn1.ASN1Object),st.asn1.tsp.PKIStatusInfo=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.tsp,i=o.PKIStatus,a=o.PKIFreeText,s=o.PKIFailureInfo;o.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if("string"==typeof t)r.push(new i(t));else{if(null==t.status)throw new e("property 'status' unspecified");r.push(new i(t.status)),null!=t.statusstr&&r.push(new a(t.statusstr)),null!=t.failinfo&&r.push(new s(t.failinfo))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIStatusInfo,st.asn1.ASN1Object),st.asn1.tsp.PKIStatus=function(t){var e=Error,r=st.asn1,n=r.DERInteger;r.tsp.PKIStatus.superclass.constructor.call(this);var o={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var t,r=this.params;if("string"==typeof r)try{t=o[r]}catch(t){throw new e("undefined name: "+r)}else{if("number"!=typeof r)throw new e("unsupported params");t=r}return new n({int:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIStatus,st.asn1.ASN1Object),st.asn1.tsp.PKIFreeText=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERUTF8String;r.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new e("wrong params: not array");for(var r=[],i=0;i<t.length;i++)r.push(new o({str:t[i]}));return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIFreeText,st.asn1.ASN1Object),st.asn1.tsp.PKIFailureInfo=function(t){var e=Error,r=st.asn1,n=r.DERBitString,o=r.tsp.PKIFailureInfo,i={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};o.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var t=this.params,r=0;if("number"==typeof t&&0<=t&&t<=25){for(var n=(r|=1<<t).toString(2),o="",a=n.length-1;a>=0;a--)o+=n[a];return o}if("string"==typeof t&&null!=i[t])return Zt([t],i);if("object"==typeof t&&null!=t.length)return Zt(t,i);throw new e("wrong params")},this.tohex=function(){this.params;var t=this.getBinValue();return new n({bin:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.tsp.PKIFailureInfo,st.asn1.ASN1Object),st.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},st.asn1.tsp.SimpleTSAAdapter=function(t){var e=st,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var o=n(t,e);this.params.econtent.content.messageImprint={alg:e,hash:o},this.params.econtent.content.serial={int:this.serial++};var i=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:i},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ee(st.asn1.tsp.SimpleTSAAdapter,st.asn1.tsp.AbstractTSAAdapter),st.asn1.tsp.FixedTSAAdapter=function(t){var e=st,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var o=n(t,e);return this.params.econtent.content.messageImprint={alg:e,hash:o},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ee(st.asn1.tsp.FixedTSAAdapter,st.asn1.tsp.AbstractTSAAdapter),st.asn1.tsp.TSPUtil=new function(){},st.asn1.tsp.TSPUtil.newTimeStampToken=function(t){return new st.asn1.tsp.TimeStampToken(t)},st.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){return(new st.asn1.tsp.TSPParser).getTimeStampReq(t)},st.asn1.tsp.TSPUtil.parseMessageImprint=function(t){return(new st.asn1.tsp.TSPParser).getMessageImprint(t)},st.asn1.tsp.TSPParser=function(){var t=new ae,e=lt,r=e.getV,n=e.getTLV,o=e.getIdxbyList,i=(e.getTLVbyListEx,e.getChildIdx),a=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],s={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(t){var e=i(t,0);if(1==e.length)return this.getPKIStatusInfo(n(t,e[0]));if(e.length>1){var r=this.getPKIStatusInfo(n(t,e[0])),o=n(t,e[1]),a=this.getToken(o);return a.statusinfo=r,a}},this.getToken=function(t){var e=(new st.asn1.cms.CMSParser).getCMSSignedData(t);return this.setTSTInfo(e),e},this.setTSTInfo=function(t){var e=t.econtent;if("tstinfo"==e.type){var r=e.content.hex,n=this.getTSTInfo(r);e.content=n}},this.getTSTInfo=function(e){var o={},a=i(e,0),s=r(e,a[1]);o.policy=Yt(s);var c=n(e,a[2]);o.messageImprint=this.getMessageImprint(c);var u=r(e,a[3]);o.serial={hex:u};var l=r(e,a[4]);o.genTime={str:wt(l)};var h=0;if(a.length>5&&"30"==e.substr(a[5],2)){var f=n(e,a[5]);o.accuracy=this.getAccuracy(f),h++}a.length>5+h&&"01"==e.substr(a[5+h],2)&&("ff"==r(e,a[5+h])&&(o.ordering=!0),h++);if(a.length>5+h&&"02"==e.substr(a[5+h],2)){var p=r(e,a[5+h]);o.nonce={hex:p},h++}if(a.length>5+h&&"a0"==e.substr(a[5+h],2)){var d=n(e,a[5+h]);d="30"+d.substr(2),pGeneralNames=t.getGeneralNames(d);var y=pGeneralNames[0].dn;o.tsa=y,h++}if(a.length>5+h&&"a1"==e.substr(a[5+h],2)){var v=n(e,a[5+h]);v="30"+v.substr(2);var m=t.getExtParamArray(v);o.ext=m,h++}return o},this.getAccuracy=function(t){for(var e={},n=i(t,0),o=0;o<n.length;o++){var a=t.substr(n[o],2),s=r(t,n[o]),c=parseInt(s,16);"02"==a?e.seconds=c:"80"==a?e.millis=c:"81"==a&&(e.micros=c)}return e},this.getMessageImprint=function(t){if("30"!=t.substr(0,2))throw Error("head of messageImprint hex shall be x30");var n={},a=(i(t,0),o(t,0,[0,0])),s=r(t,a),c=e.hextooidstr(s),u=st.asn1.x509.OID.oid2name(c);if(""==u)throw Error("hashAlg name undefined: "+c);var l=u,h=o(t,0,[1]);return n.alg=l,n.hash=r(t,h),n},this.getPKIStatusInfo=function(t){var e={},o=i(t,0),s=0;try{var c=r(t,o[0]),u=parseInt(c,16);e.status=a[u]}catch(t){}if(o.length>1&&"30"==t.substr(o[1],2)){var l=n(t,o[1]);e.statusstr=this.getPKIFreeText(l),s++}if(o.length>s&&"03"==t.substr(o[1+s],2)){var h=n(t,o[1+s]);e.failinfo=this.getPKIFailureInfo(h)}return e},this.getPKIFreeText=function(t){for(var r=[],n=i(t,0),o=0;o<n.length;o++)r.push(e.getString(t,n[o]));return r},this.getPKIFailureInfo=function(t){var r=e.getInt(t,0);return null!=s[r]?s[r]:r},this.getTimeStampReq=function(t){var o={certreq:!1},a=i(t,0);if(a.length<2)throw Error("TimeStampReq must have at least 2 items");var s=n(t,a[1]);o.messageImprint=st.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var c=2;c<a.length;c++){var u=a[c],l=t.substr(u,2);if("06"==l){var h=r(t,u);o.policy=e.hextooidstr(h)}"02"==l&&(o.nonce=r(t,u)),"01"==l&&(o.certreq=!0)}return o}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.cades&&st.asn1.cades||(st.asn1.cades={}),st.asn1.cades.SignaturePolicyIdentifier=function(t){var e=st.asn1.cades,r=e.SignaturePolicyId;e.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignaturePolicyIdentifier,st.asn1.cms.Attribute),st.asn1.cades.SignaturePolicyId=function(t){var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=(e.x509.AlgorithmIdentifier,e.cades),i=o.SignaturePolicyId,a=o.OtherHashAlgAndValue;i.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n(t.oid)),e.push(new a(t)),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignaturePolicyId,st.asn1.ASN1Object),st.asn1.cades.OtherHashAlgAndValue=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DEROctetString,i=r.x509.AlgorithmIdentifier;r.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null==t.alg)throw new e("property 'alg' not specified");if(null==t.hash&&null==t.cert)throw new e("property 'hash' nor 'cert' not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var a=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(a=kt(t.cert)),r=st.crypto.Util.hashHex(a,t.alg)}var s=[];return s.push(new i({name:t.alg})),s.push(new o({hex:r})),new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHashAlgAndValue,st.asn1.ASN1Object),st.asn1.cades.OtherHashValue=function(t){st.asn1.cades.OtherHashValue.superclass.constructor.call(this);var e=Error,r=st,n=(r.lang.String.isHex,r.asn1.DEROctetString);r.crypto.Util.hashHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.hash&&null==t.cert)throw new e("hash or cert not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var o=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(o=kt(t.cert)),r=st.crypto.Util.hashHex(o,"sha1")}return new n({hex:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHashValue,st.asn1.ASN1Object),st.asn1.cades.SignatureTimeStamp=function(t){var e=Error,r=st,n=r.lang.String.isHex,o=r.asn1,i=o.ASN1Object;o.x509;o.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var t=this.params;if(null!=t.tst){if(n(t.tst))return(o=new i).hTLV=t.tst,[o];if(t.tst instanceof i)return[t.tst];throw new e("params.tst has wrong value")}if(null!=t.res){var r=t.res;if(r instanceof i&&(r=r.tohex()),"string"!=typeof r||!n(r))throw new e("params.res has wrong value");var o;lt.getTLVbyList(r,0,[1]);return(o=new i).hTLV=t.tst,[o]}},null!=t&&this.setByParam(t)},ee(st.asn1.cades.SignatureTimeStamp,st.asn1.cms.Attribute),st.asn1.cades.CompleteCertificateRefs=function(t){var e=Error,r=st,n=r.asn1,o=n.DERSequence,i=n.cades,a=i.OtherCertID,s=r.lang.String.isHex;i.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var t=this.params,r=[],n=0;n<t.array.length;n++){var i=t.array[n];if("string"==typeof i)if(-1!=i.indexOf("-----BEGIN"))i={cert:i};else{if(!s(i))throw new e("unsupported value: "+i);i={hash:i}}null!=t.alg&&null==i.alg&&(i.alg=t.alg),null!=t.hasis&&null==i.hasis&&(i.hasis=t.hasis);var c=new a(i);r.push(c)}return[new o({array:r})]},null!=t&&this.setByParam(t)},ee(st.asn1.cades.CompleteCertificateRefs,st.asn1.cms.Attribute),st.asn1.cades.OtherCertID=function(t){var e=st.asn1,r=e.DERSequence,n=e.cms.IssuerSerial,o=e.cades,i=o.OtherHashValue,a=o.OtherHashAlgAndValue;o.OtherCertID.superclass.constructor.call(this),this.params=t,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:_isHex(t)&&(t={hash:t}));var e=[],o=null;if(o=null!=t.alg?new a(t):new i(t),e.push(o),null!=t.cert&&1==t.hasis||null!=t.issuer&&null!=t.serial){var s=new n(t);e.push(s)}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherCertID,st.asn1.ASN1Object),st.asn1.cades.OtherHash=function(t){var e=st,r=e.asn1,n=(r.cms,r.cades),o=n.OtherHashAlgAndValue,i=n.OtherHashValue,a=(e.crypto.Util.hashHex,e.lang.String.isHex);n.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:a(t)&&(t={hash:t}));return(null!=t.alg?new o(t):new i(t)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.cades.OtherHash,st.asn1.ASN1Object),st.asn1.cades.CAdESUtil=new function(){},st.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){return(new st.asn1.cms.CMSParser).getCMSSignedData(t)},st.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,r){var n=lt,o=n.getChildIdx,i=n.getTLV,a=n.getV,s=st.asn1,c=s.ASN1Object,u=s.cms,l=u.AttributeList,h=u.SignerInfo,f={},p=o(t,e);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var d=p.shift();f.version=i(t,d);var y=p.shift();f.si=i(t,y);var v=p.shift();f.digalg=i(t,v);var m=p.shift();f.sattrs=i(t,m);var g=p.shift();f.sigalg=i(t,g);var b=p.shift();f.sig=i(t,b),f.sigval=a(t,b);var w=null;return f.obj=new h,(w=new c).hTLV=f.version,f.obj.dCMSVersion=w,(w=new c).hTLV=f.si,f.obj.dSignerIdentifier=w,(w=new c).hTLV=f.digalg,f.obj.dDigestAlgorithm=w,(w=new c).hTLV=f.sattrs,f.obj.dSignedAttrs=w,(w=new c).hTLV=f.sigalg,f.obj.dSigAlg=w,(w=new c).hTLV=f.sig,f.obj.dSig=w,f.obj.dUnsignedAttrs=new l,f},void 0!==st.asn1.csr&&st.asn1.csr||(st.asn1.csr={}),st.asn1.csr.CertificationRequest=function(t){var e=st.asn1,r=e.DERBitString,n=e.DERSequence,o=e.csr,i=(e.x509,o.CertificationRequestInfo);o.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.sign=function(){var t=new i(this.params).tohex(),e=new st.crypto.Signature({alg:this.params.sigalg});e.init(this.params.sbjprvkey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Lt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var t=this.params,e=new st.asn1.csr.CertificationRequestInfo(this.params),o=new st.asn1.x509.AlgorithmIdentifier({name:t.sigalg});if(null==t.sighex&&null!=t.sbjprvkey&&this.sign(),null==t.sighex)throw Error("sighex or sbjprvkey parameter not defined");var i=new r({hex:"00"+t.sighex});return new n({array:[e,o,i]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.csr.CertificationRequest,st.asn1.ASN1Object),st.asn1.csr.CertificationRequestInfo=function(t){var e=st.asn1,r=(e.DERBitString,e.DERSequence),n=e.DERInteger,o=e.DERUTF8String,i=e.DERTaggedObject,a=e.ASN1Util.newObject,s=e.csr,c=e.x509,u=c.X500Name,l=c.Extensions,h=c.SubjectPublicKeyInfo;s.AttributeList;s.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(t){null!=t&&(this.params=t)},this.tohex=function(){var t=this.params,e=[];if(e.push(new n({int:0})),e.push(new u(t.subject)),e.push(new h(re.getKey(t.sbjpubkey))),null!=t.attrs){var s=function(t){for(var e=Error,r=st.asn1.x509.Extensions,n=[],o=0;o<t.length;o++){var i=t[o],a=i.attr;if("extensionRequest"==a){var s={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new r(i.ext)]}]};n.push(s)}else if("unstructuredName"==a){s={seq:[{oid:"1.2.840.113549.1.9.2"},{set:i.names}]};n.push(s)}else{if("challengePassword"!=a)throw new e("unknown CSR attribute");s={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:i.password}]}]};n.push(s)}}return{set:n}}(t.attrs),c=a({tag:{tage:"a0",obj:s}});e.push(c)}else if(null!=t.extreq){var f=new l(t.extreq);c=a({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[f]}]}}});e.push(c)}else e.push(new i({tag:"a0",explicit:!1,obj:new o({str:""})}));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ee(st.asn1.csr.CertificationRequestInfo,st.asn1.ASN1Object),st.asn1.csr.AttributeList=function(t){},ee(st.asn1.csr.AttributeList,st.asn1.ASN1Object),st.asn1.csr.CSRUtil=new function(){},st.asn1.csr.CSRUtil.newCSRPEM=function(t){return new st.asn1.csr.CertificationRequest(t).getPEM()},st.asn1.csr.CSRUtil.getParam=function(t,e){var r=lt,n=r.getV,o=r.getIdxbyList,i=r.getTLVbyList,a=r.getTLVbyListEx,s=r.getVbyListEx,c={};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw Error("argument is not PEM file");var u=kt(t,"CERTIFICATE REQUEST");e&&(c.tbs=i(u,0,[0]));try{var l=a(u,0,[0,1]);if("3000"==l)c.subject={};else{var h=new ae;c.subject=h.getX500Name(l)}}catch(t){}var f=a(u,0,[0,2]),p=re.getKey(f,null,"pkcs8pub");c.sbjpubkey=re.getPEM(p,"PKCS8PUB");var d=function(t){var e=o(t,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=n(t,e)?null:i(t,0,[0,3,0,1,0],"30")}(u);h=new ae;null!=d&&(c.extreq=h.getExtParamArray(d));try{var y=a(u,0,[1],"30");h=new ae;c.sigalg=h.getAlgorithmIdentifierName(y)}catch(t){}try{var v=s(u,0,[2]);c.sighex=v}catch(t){}return c},st.asn1.csr.CSRUtil.verifySignature=function(t){try{var e=null;if("string"==typeof t&&-1!=t.indexOf("-----BEGIN CERTIFICATE REQUEST")?e=st.asn1.csr.CSRUtil.getParam(t,!0):"object"==typeof t&&null!=t.sbjpubkey&&null!=t.sigalg&&null!=t.sighex&&null!=t.tbs&&(e=t),null==e)return!1;var r=new st.crypto.Signature({alg:e.sigalg});return r.init(e.sbjpubkey),r.updateHex(e.tbs),r.verify(e.sighex)}catch(t){return alert(t),!1}},void 0!==st&&st||(st={}),void 0!==st.asn1&&st.asn1||(st.asn1={}),void 0!==st.asn1.ocsp&&st.asn1.ocsp||(st.asn1.ocsp={}),st.asn1.ocsp.DEFAULT_HASH="sha1",st.asn1.ocsp.OCSPResponse=function(t){st.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);st.asn1.DEREnumerated;var e=st.asn1.ASN1Util.newObject,r=st.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var t=this.params.resstatus;return"number"==typeof t?t:"string"!=typeof t?-1:n.indexOf(t)},this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,n=this._getStatusCode();if(-1==n)throw Error("responseStatus not supported: "+t.resstatus);if(0!=n)return e({seq:[{enum:{int:n}}]}).tohex();var o=new r(t);return e({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:o}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.OCSPResponse,st.asn1.ASN1Object),st.asn1.ocsp.ResponseBytes=function(t){st.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,o=e.DEROctetString,i=e.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if("ocspBasic"!=t.restype)throw Error("not supported responseType: "+t.restype);var e=new i(t),a=[];return a.push(new n({name:"ocspBasic"})),a.push(new o({hex:e.tohex()})),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponseBytes,st.asn1.ASN1Object),st.asn1.ocsp.BasicOCSPResponse=function(t){st.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.ASN1Object,o=r.DERSequence,i=(r.DERGeneralizedTime,r.DERTaggedObject),a=r.DERBitString,s=(r.x509.Extensions,r.x509.AlgorithmIdentifier),c=r.ocsp;c.ResponderID;_SingleResponseList=c.SingleResponseList,_ResponseData=c.ResponseData,this.params=null,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.tbsresp.tohex(),r=new st.crypto.Signature({alg:t.sigalg});r.init(t.reskey),r.updateHex(e),t.sighex=r.sign()},this.tohex=function(){var t=this.params;null==t.tbsresp&&(t.tbsresp=new _ResponseData(t)),null==t.sighex&&null!=t.reskey&&this.sign();var r=[];if(r.push(t.tbsresp),r.push(new s({name:t.sigalg})),r.push(new a({hex:"00"+t.sighex})),null!=t.certs&&null!=t.certs.length){for(var c=[],u=0;u<t.certs.length;u++){var l=t.certs[u],h=null;if(lt.isASN1HEX(l))h=l;else{if(!l.match(/-----BEGIN/))throw new e("certs["+u+"] not hex or PEM");h=kt(l)}c.push(new n({tlv:h}))}var f=new o({array:c});r.push(new i({tag:"a0",explicit:!0,obj:f}))}return new o({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.BasicOCSPResponse,st.asn1.ASN1Object),st.asn1.ocsp.ResponseData=function(t){st.asn1.ocsp.ResponseData.superclass.constructor.call(this);var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERGeneralizedTime,i=r.DERTaggedObject,a=r.x509.Extensions,s=r.ocsp,c=s.ResponderID;_SingleResponseList=s.SingleResponseList,this.params=null,this.tohex=function(){var t=this.params;null!=t.respid&&new e("respid not specified"),null!=t.prodat&&new e("prodat not specified"),null!=t.array&&new e("array not specified");var r=[];if(r.push(new c(t.respid)),r.push(new o(t.prodat)),r.push(new _SingleResponseList(t.array)),null!=t.ext){var s=new a(t.ext);r.push(new i({tag:"a1",explicit:!0,obj:s}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponseData,st.asn1.ASN1Object),st.asn1.ocsp.ResponderID=function(t){st.asn1.ocsp.ResponderID.superclass.constructor.call(this);var e=st,r=e.asn1,n=r.ASN1Util.newObject,o=r.x509.X500Name,i=e.lang.String.isHex,a=Error;this.params=null,this.tohex=function(){var t=this.params;if(null!=t.key){var e,r=null;if("string"==typeof t.key){if(i(t.key)&&(r=t.key),t.key.match(/-----BEGIN CERTIFICATE/))null!=(e=new ae(t.key).getExtSubjectKeyIdentifier())&&(r=e.kid.hex)}else if(t.key instanceof ae)null!=(e=t.key.getExtSubjectKeyIdentifier())&&(r=e.kid.hex);if(null==r)throw new a("wrong key member value");return n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:r}}}}).tohex()}if(null!=t.name){var s=null;if("string"==typeof t.name&&t.name.match(/-----BEGIN CERTIFICATE/))s=new ae(t.name).getSubject();else t.name instanceof ae?s=t.name.getSubject():"object"!=typeof t.name||null==t.name.array&&null==t.name.str||(s=t.name);if(null==s)throw new a("wrong name member value");return n({tag:{tag:"a1",explicit:!0,obj:new o(s)}}).tohex()}throw new a("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.ResponderID,st.asn1.ASN1Object),st.asn1.ocsp.SingleResponseList=function(t){st.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var e=st.asn1,r=e.DERSequence,n=e.ocsp.SingleResponse;this.params=null,this.tohex=function(){var t=this.params;if("object"!=typeof t||null==t.length)throw Error("params not specified properly");for(var e=[],o=0;o<t.length;o++)e.push(new n(t[o]));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.SingleResponseList,st.asn1.ASN1Object),st.asn1.ocsp.SingleResponse=function(t){var e=Error,r=st.asn1,n=r.DERSequence,o=r.DERGeneralizedTime,i=r.DERTaggedObject,a=r.ocsp,s=a.CertID,c=a.CertStatus,u=r.x509.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if(null==t.certid)throw new e("certid unspecified");if(null==t.status)throw new e("status unspecified");if(null==t.thisupdate)throw new e("thisupdate unspecified");if(r.push(new s(t.certid)),r.push(new c(t.status)),r.push(new o(t.thisupdate)),null!=t.nextupdate){var a=new o(t.nextupdate);r.push(new i({tag:"a0",explicit:!0,obj:a}))}if(null!=t.ext){var l=new u(t.ext);r.push(new i({tag:"a1",explicit:!0,obj:l}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.SingleResponse,st.asn1.ASN1Object),st.asn1.ocsp.CertID=function(t){var e=st,r=e.asn1,n=r.DEROctetString,o=r.DERInteger,i=r.DERSequence,a=r.x509.AlgorithmIdentifier,s=r.ocsp,c=(s.DEFAULT_HASH,e.crypto.Util.hashHex),u=ae,l=lt.getVbyList;s.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(t,e,r,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issname:t,isskey:e,sbjsn:r}},this.setByCert=function(t,e,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issuerCert:t,subjectCert:e}},this.getParamByCerts=function(t,e,r){null==r&&(r=this.DEFAULT_HASH);var n=new u(t),o=new u(e),i=c(n.getSubjectHex(),r),a=n.getPublicKeyHex();return{alg:r,issname:i,isskey:c(l(a,0,[1],"03",!0),r),sbjsn:o.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw Error("params not set");var t,e,r,s,c=this.params;if(s=null==c.alg?this.DEFAULT_HASH:c.alg,null!=c.issuerCert&&null!=c.subjectCert){var u=this.getParamByCerts(c.issuerCert,c.subjectCert,s);t=u.issname,e=u.isskey,r=u.sbjsn}else{if(null==c.issname||null==c.isskey||null==c.sbjsn)throw Error("required param members not defined");t=c.issname,e=c.isskey,r=c.sbjsn}var l=new a({name:s}),h=new n({hex:t}),f=new n({hex:e}),p=new o({hex:r}),d=new i({array:[l,h,f,p]});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.CertID,st.asn1.ASN1Object),st.asn1.ocsp.CertStatus=function(t){st.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("good"==t.status)return"8000";if("unknown"==t.status)return"8200";if("revoked"==t.status){var e=[{gentime:{str:t.time}}];null!=t.reason&&e.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var r={tag:"a1",explicit:!1,obj:{seq:e}};return st.asn1.ASN1Util.newObject({tag:r}).tohex()}throw Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ee(st.asn1.ocsp.CertStatus,st.asn1.ASN1Object),st.asn1.ocsp.Request=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){var o=new n.CertID(t);this.dReqCert=o}},ee(st.asn1.ocsp.Request,st.asn1.ASN1Object),st.asn1.ocsp.TBSRequest=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],r=0;r<t.length;r++){var o=new n.Request(t[0]);e.push(o)}this.dRequestList=e},this.tohex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new r({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:t});return this.hTLV=n.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},ee(st.asn1.ocsp.TBSRequest,st.asn1.ASN1Object),st.asn1.ocsp.OCSPRequest=function(t){var e=st.asn1,r=e.DERSequence,n=e.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList){var o=new n.TBSRequest(t);this.dTbsRequest=o}},ee(st.asn1.ocsp.OCSPRequest,st.asn1.ASN1Object),st.asn1.ocsp.OCSPUtil={},st.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,r){var n=st.asn1.ocsp;void 0===r&&(r=n.DEFAULT_HASH);var o={alg:r,issuerCert:t,subjectCert:e};return new n.OCSPRequest({reqList:[o]}).tohex()},st.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=lt,r=e.getVbyList,n=e.getVbyListEx,o=e.getIdxbyList,i=(e.getIdxbyListEx,e.getV),a={};try{var s=n(t,0,[0],"0a");a.responseStatus=parseInt(s,16)}catch(t){}if(0!==a.responseStatus)return a;try{var c=o(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(c,2)?a.certStatus="good":"a1"===t.substr(c,2)?(a.certStatus="revoked",a.revocationTime=wt(r(t,c,[0]))):"82"===t.substr(c,2)&&(a.certStatus="unknown")}catch(t){}try{var u=o(t,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=wt(i(t,u))}catch(t){}try{var l=o(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(l,2)&&(a.nextUpdate=wt(r(t,l,[0])))}catch(t){}return a},st.asn1.ocsp.OCSPParser=function(){var t=Error,e=ae,r=new e,n=lt,o=n.getV,i=n.getTLV,a=n.getIdxbyList,s=n.getVbyList,c=n.getTLVbyList,u=n.getVbyListEx,l=n.getTLVbyListEx,h=n.getChildIdx;this.getOCSPRequest=function(e){var r=h(e,0);if(1!=r.length&&2!=r.length)throw new t("wrong number elements: "+r.length);return this.getTBSRequest(i(e,r[0]))},this.getTBSRequest=function(t){var e={},n=l(t,0,[0],"30");e.array=this.getRequestList(n);var o=l(t,0,["[2]",0],"30");return null!=o&&(e.ext=r.getExtParamArray(o)),e},this.getRequestList=function(t){for(var e=[],r=h(t,0),n=0;n<r.length;n++){t=i(t,r[n]);e.push(this.getRequest(t))}return e},this.getRequest=function(e){var n=h(e,0);if(1!=n.length&&2!=n.length)throw new t("wrong number elements: "+n.length);var o=this.getCertID(i(e,n[0]));if(2==n.length){var s=a(e,0,[1,0]);o.ext=r.getExtParamArray(i(e,s))}return o},this.getCertID=function(r){var n=h(r,0);if(4!=n.length)throw new t("wrong number elements: "+n.length);var a=new e,s={};return s.alg=a.getAlgorithmIdentifierName(i(r,n[0])),s.issname=o(r,n[1]),s.isskey=o(r,n[2]),s.sbjsn=o(r,n[3]),s},this.getOCSPResponse=function(t){var e,r=h(t,0),n=o(t,r[0]),i=parseInt(n);if(1==r.length)return{resstatus:i};var a=c(t,0,[1,0]);return(e=this.getResponseBytes(a)).resstatus=i,e},this.getResponseBytes=function(t){var e,r=h(t,0),n=c(t,0,[1,0]);e=this.getBasicOCSPResponse(n);var i=o(t,r[0]);return e.restype=st.asn1.x509.OID.oid2name(Yt(i)),e},this.getBasicOCSPResponse=function(t){var e,r=h(t,0);e=this.getResponseData(i(t,r[0]));var n=new ae;e.alg=n.getAlgorithmIdentifierName(i(t,r[1]));var a=o(t,r[2]);e.sighex=a.substr(2);var s=u(t,0,["[0]"]);if(null!=s){for(var c=h(s,0),l=[],f=0;f<c.length;f++){var p=i(s,c[f]);l.push(p)}e.certs=l}return e},this.getResponseData=function(t){var e=h(t,0),r=e.length,n={},a=0;"a0"==t.substr(e[0],2)&&a++,n.respid=this.getResponderID(i(t,e[a++]));var s=o(t,e[a++]);if(n.prodat=wt(s),n.array=this.getSingleResponseList(i(t,e[a++])),"a1"==t.substr(e[r-1],2)){var u=c(t,e[r-1],[0]),l=new ae;n.ext=l.getExtParamArray(u)}return n},this.getResponderID=function(t){var e={};if("a2"==t.substr(0,2)){var r=s(t,0,[0]);e.key=r}if("a1"==t.substr(0,2)){var n=c(t,0,[0]),o=new ae;e.name=o.getX500Name(n)}return e},this.getSingleResponseList=function(t){for(var e=h(t,0),r=[],n=0;n<e.length;n++){var o=this.getSingleResponse(i(t,e[n]));r.push(o)}return r},this.getSingleResponse=function(t){var e=h(t,0),r={},n=this.getCertID(i(t,e[0]));r.certid=n;var a=this.getCertStatus(i(t,e[1]));if(r.status=a,"18"==t.substr(e[2],2)){var u=o(t,e[2]);r.thisupdate=wt(u)}for(var l=3;l<e.length;l++){if("a0"==t.substr(e[l],2)){var f=s(t,e[l],[0],"18");r.nextupdate=wt(f)}if("a1"==t.substr(e[l],2)){var p=new ae,d=c(t,0,[l,0]);r.ext=p.getExtParamArray(d)}}return r},this.getCertStatus=function(t){var e={};if("8000"==t)return{status:"good"};if("8200"==t)return{status:"unknown"};if("a1"==t.substr(0,2)){e.status="revoked";var r=wt(s(t,0,[0]));e.time=r}return e}},void 0!==st&&st||(st={}),void 0!==st.lang&&st.lang||(st.lang={}),st.lang.String=function(){},"function"==typeof Buffer?(ct=function(t){return yt(Buffer.from(t,"utf8").toString("base64"))},ut=function(t){return Buffer.from(vt(t),"base64").toString("utf8")}):(ct=function(t){return mt(Pt(Ut(t)))},ut=function(t){return decodeURIComponent(Ct(gt(t)))}),st.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},st.lang.String.isHex=function(t){return Ht(t)},st.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},st.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=vt(t),st.lang.String.isBase64(t))},st.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},st.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},st.lang.String.isIA5=function(t){return null!==t.match(/^[\x20-\x21\x23-\x7f]*$/)},st.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function Kt(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=parseInt(t,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";n=i+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};try{if(!t.match(/^[0-9.]+$/))return null;var n="",o=t.split("."),i=40*parseInt(o[0],10)+parseInt(o[1],10);n+=e(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n}catch(t){return null}}function Yt(t){if(!Ht(t))return null;try{var e=[],r=t.substr(0,2),n=parseInt(r,16);e[0]=new String(Math.floor(n/40)),e[1]=new String(n%40);for(var o=t.substr(2),i=[],a=0;a<o.length/2;a++)i.push(parseInt(o.substr(2*a,2),16));var s=[],c="";for(a=0;a<i.length;a++)128&i[a]?c+=Xt((127&i[a]).toString(2),7):(c+=Xt((127&i[a]).toString(2),7),s.push(new String(parseInt(c,2))),c="");var u=e.join(".");return s.length>0&&(u=u+"."+s.join(".")),u}catch(t){return null}}function Wt(t){return zt(new E(t+"",10))}function zt(t){var e=t.toString(16);if("-"!=e.substr(0,1))return e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e),e;var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",o=0;o<r;o++)n+="f";return e=new E(n,16).xor(t).add(E.ONE).toString(16).replace(/^-/,"")}var Xt=function(t,e,r){return null==r&&(r="0"),t.length>=e?t:Array(e-t.length+1).join(r)+t};function $t(t){if(t.length%2!=0)return-1;if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var e=t.substr(0,2);if("00"==e)return parseInt(t.substr(2),16);var r=parseInt(e,16);if(r>7)return-1;var n=t.substr(2),o=parseInt(n,16).toString(2);"0"==o&&(o="00000000"),o=o.slice(0,0-r);var i=parseInt(o,2);return NaN==i?-1:i}catch(t){return-1}}function Jt(t){if("number"!=typeof t)return null;if(t<0)return null;var e=Number(t).toString(2),r=8-e.length%8;8==r&&(r=0),e+=Xt("",r,"0");var n=parseInt(e,2).toString(16);return n.length%2==1&&(n="0"+n),"0"+r+n}function Qt(t){if("string"!=typeof t)return null;if(t.length%2!=0)return null;if(!t.match(/^[0-9a-f]+$/))return null;try{var e=parseInt(t.substr(0,2),16);if(e<0||7<e)return null;for(var r=t.substr(2),n="",o=0;o<r.length;o+=2){var i=r.substr(o,2),a=parseInt(i,16).toString(2);n+=a=("0000000"+a).slice(-8)}return n.substr(0,n.length-e)}catch(t){return null}}function Zt(t,e){for(var r=0,n=0;n<t.length;n++)r|=1<<e[t[n]];var o=r.toString(2),i="";for(n=o.length-1;n>=0;n--)i+=o[n];return i}function te(t,e,r){if("object"==typeof t){e=(e+"").split(".");for(var n=0;n<e.length&&t;n++){var o=e[n];o.match(/^[0-9]+$/)&&(o=parseInt(o)),t=t[o]}return t||!1===t?t:r}}function ee(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),o=r/4;if(n.length+22>o)throw"key is too short for SigAlg: keylen="+r+","+e;for(var i="0001",a="00"+n,s="",c=o-4-a.length,u=0;u<c;u+=2)s+="ff";return i+s+a},this.hashString=function(t,e){return new st.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new st.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof rt||t instanceof st.crypto.DSA||t instanceof st.crypto.ECDSA}},st.crypto.Util.md5=function(t){return new st.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},st.crypto.Util.ripemd160=function(t){return new st.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},st.crypto.Util.SECURERANDOMGEN=new tt,st.crypto.Util.getRandomHexOfNbytes=function(t){var e=Array(t);return st.crypto.Util.SECURERANDOMGEN.nextBytes(e),pt(e)},st.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new E(st.crypto.Util.getRandomHexOfNbytes(t),16)},st.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=Array((t-e)/8+1);return st.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],pt(r)},st.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new E(st.crypto.Util.getRandomHexOfNbits(t),16)},st.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=st.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},st.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw"biMin is greater than biMax";if(0==r)return t;var n=e.subtract(t);return st.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},st.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=st.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=st.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=st.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},st.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},st.crypto.MessageDigest.getHashLength=function(t){var e=st.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw"not supported algorithm: "+t;return e.HASHLENGTH[r]},st.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},st.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=st.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var r=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==e){try{var n=st.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=St(t)),void(this.pass=y.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=bt(t.utf8)),void 0!==t.rstr&&(e=St(t.rstr)),void 0!==t.b64&&(e=b(t.b64)),void 0!==t.b64u&&(e=gt(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=y.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},st.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(t,e){for(var r="",n=e/4-t.length,o=0;o<n;o++)r+="0";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new st.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(t,e){var r=null;try{r=void 0===e?re.getKey(t):re.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==st.crypto.ECDSA&&(this.prvKey=new st.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof rt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof rt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof st.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof st.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==st.crypto.ECDSA&&(this.pubKey=new st.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof rt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof rt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==st.crypto.ECDSA&&this.pubKey instanceof st.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==st.crypto.DSA&&this.pubKey instanceof st.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=st.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=re.getKey(t.prvkeypem);this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},st.crypto.Cipher=function(t){},st.crypto.Cipher.encrypt=function(t,e,r,n){if(null!=te(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var o=e,i=t;null!=te(n,"key")&&(o=n.key),null!=te(n,"enc")&&(hEnc=n.enc);var a,s=y.enc.Hex.parse(o),c=y.enc.Hex.parse(i),u=y.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)a=y.TripleDES.encrypt(c,s,{iv:u});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw Error("unsupported algorithm: "+r);a=y.AES.encrypt(c,s,{iv:u})}return a+""}throw Error("Cipher.encrypt: unsupported key or algorithm")},st.crypto.Cipher.decrypt=function(t,e,r,n){if(null!=te(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var o=e,i=t;null!=te(n,"key")&&(o=n.key),null!=te(n,"enc")&&(i=n.enc);var a,s=y.enc.Hex.parse(o),c=y.enc.Hex.parse(i),u=y.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)a=y.TripleDES.decrypt({ciphertext:c},s,{iv:u});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw Error("unsupported algorithm: "+r);a=y.AES.decrypt({ciphertext:c},s,{iv:u})}return y.enc.Hex.stringify(a)}throw Error("Cipher.decrypt: unsupported key or algorithm")},st.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.ECDSA=function(t){var e=Error,r=E,n=ot,o=st.crypto.ECDSA,i=st.crypto.ECParameterDB,a=o.getName,s=lt,c=s.getVbyListEx,u=s.isASN1HEX,l=new tt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new r(t.bitLength(),l).mod(t.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(t){this.ecparams=i.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keycharlen;if(t.length!==2+2*e)throw"malformed public key hex length";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":"secp521r1"===t||"NIST P-521"===t||"P-521"===t?"P-521":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),r=this.ecparams.keycharlen,n=("0000000000"+e.toString(16)).slice(-r);return this.setPrivateKeyHex(n),{ecprvhex:n,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var t=new r(this.prvKeyHex,16),e=this.ecparams.G.multiply(t),n=e.getX().toBigInteger(),o=e.getY().toBigInteger(),i=this.ecparams.keycharlen,a="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+o.toString(16)).slice(-i);return this.setPublicKeyHex(a),a},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new r(e,16),i=this.ecparams.n,a=new r(t.substring(0,this.ecparams.keycharlen),16);do{var s=this.getBigRandom(i),c=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(c.compareTo(r.ZERO)<=0);var u=s.modInverse(i).multiply(a.add(n.multiply(c))).mod(i);return o.biRSSigToASN1Sig(c,u)},this.sign=function(t,e){var n=e,o=this.ecparams.n,i=r.fromByteArrayUnsigned(t);do{var a=this.getBigRandom(o),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(s.compareTo(E.ZERO)<=0);var c=a.modInverse(o).multiply(i.add(n.multiply(s))).mod(o);return this.serializeSig(s,c)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,i){try{var a,s,c=o.parseSigHex(e);a=c.r,s=c.s;var u=n.decodeFromHex(this.ecparams.curve,i),l=new r(t.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(l,a,s,u)}catch(t){return!1}},this.verify=function(t,e,o){var i,a,s;if(Bitcoin.Util.isArray(e)){var c=this.parseSig(e);i=c.r,a=c.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";i=e.r,a=e.s}if(o instanceof ot)s=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=n.decodeFrom(this.ecparams.curve,o)}var u=r.fromByteArrayUnsigned(t);return this.verifyRaw(u,i,a,s)},this.verifyRaw=function(t,e,n,o){var i=this.ecparams.n,a=this.ecparams.G;if(e.compareTo(r.ONE)<0||e.compareTo(i)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(i)>=0)return!1;var s=n.modInverse(i),c=t.multiply(s).mod(i),u=e.multiply(s).mod(i);return a.multiply(c).add(o.multiply(u)).getX().toBigInteger().mod(i).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),o=[];return o.push(2),o.push(r.length),(o=o.concat(r)).push(2),o.push(n.length),(o=o.concat(n)).unshift(o.length),o.unshift(48),o},this.parseSig=function(t){var e;if(48!=t[0])throw Error("Signature not a valid DERSequence");if(2!=t[e=2])throw Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw Error("Second element in signature must be a DERInteger");var o=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(o)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===u(t))throw Error("not ASN.1 hex string");var e,r,n;try{e=c(t,0,["[0]",0],"06"),r=c(t,0,[1],"04");try{n=c(t,0,["[1]",0],"03")}catch(t){}}catch(t){throw Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===u(t))throw new e("not ASN.1 hex string");var r,n,o;try{c(t,0,[1,0],"06"),r=c(t,0,[1,1],"06"),n=c(t,0,[2,0,1],"04");try{o=c(t,0,[2,0,"[1]",0],"03")}catch(t){}}catch(t){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(r),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===u(t))throw new e("not ASN.1 hex string");var r,n;try{c(t,0,[0,0],"06"),r=c(t,0,[0,1],"06"),n=c(t,0,[1],"03")}catch(t){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,r){if(!1===u(t))throw new e("not ASN.1 hex string");var n,o;try{n=c(t,0,[0,5,0,1],"06"),o=c(t,0,[0,5,1],"03")}catch(t){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},st.crypto.ECDSA.parseSigHex=function(t){var e=st.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new E(e.r,16),s:new E(e.s,16)}},st.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=lt,r=e.getChildIdx,n=e.getV;if(e.checkStrictDER(t,0),"30"!=t.substr(0,2))throw Error("signature is not a ASN.1 sequence");var o=r(t,0);if(2!=o.length)throw Error("signature shall have two elements");var i=o[0],a=o[1];if("02"!=t.substr(i,2))throw Error("1st item not ASN.1 integer");if("02"!=t.substr(a,2))throw Error("2nd item not ASN.1 integer");return{r:n(t,i),s:n(t,a)}},st.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=st.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if(r.length>=130&&r.length<=134){if(r.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==r.substr(0,2)&&(r=r.substr(2)),"00"==n.substr(0,2)&&(n=n.substr(2));var o=Math.max(r.length,n.length);return(r=("000000"+r).slice(-o))+(n=("000000"+n).slice(-o))}if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return r+n},st.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return st.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},st.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new E(t,16),n=new E(e,16);return st.crypto.ECDSA.biRSSigToASN1Sig(r,n)},st.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=st.asn1,n=new r.DERInteger({bigint:t}),o=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,o]}).tohex()},st.crypto.ECDSA.getName=function(t){return"2b8104001f"===t?"secp192k1":"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040021"===t?"secp224r1":"2b81040022"===t?"secp384r1":"2b81040023"===t?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(t)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(t)?"secp521r1":null},void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new E(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,o,i,a,s,c,u,l,h,f,p,d){t[n]={};var y=r(i),v=r(a),m=r(s),g=r(c),b=r(u),w=new it(y,v,m),E=w.decodePointHex("04"+l+h);t[n].name=n,t[n].keylen=o,t[n].keycharlen=2*Math.ceil(o/8),t[n].curve=w,t[n].G=E,t[n].n=g,t[n].h=b,t[n].oid=p,t[n].info=d;for(var x=0;x<f.length;x++)e[f[x]]=n}},st.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),st.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),st.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),st.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),st.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),st.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),st.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),st.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),st.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),st.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==st&&st||(st={}),void 0!==st.crypto&&st.crypto||(st.crypto={}),st.crypto.DSA=function(){var t=lt,e=(t.getVbyList,t.getVbyListEx),r=t.isASN1HEX,n=E;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,r,n,o){this.isPrivate=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=o},this.setPrivateHex=function(t,e,r,n,o){var i,a,s,c,u;i=new E(t,16),a=new E(e,16),s=new E(r,16),c="string"==typeof n&&n.length>1?new E(n,16):null,u=new E(o,16),this.setPrivate(i,a,s,c,u)},this.setPublic=function(t,e,r,n){this.isPublic=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=null},this.setPublicHex=function(t,e,r,n){var o,i,a,s;o=new E(t,16),i=new E(e,16),a=new E(r,16),s=new E(n,16),this.setPublic(o,i,a,s)},this.signWithMessageHash=function(t){var e=this.p,r=this.q,n=this.g,o=(this.y,this.x),i=st.crypto.Util.getRandomBigIntegerMinToMax(E.ONE.add(E.ONE),r.subtract(E.ONE)),a=new E(t.substr(0,r.bitLength()/4),16),s=n.modPow(i,e).mod(r),c=i.modInverse(r).multiply(a.add(o.multiply(s))).mod(r);return st.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:c}}]})},this.verifyWithMessageHash=function(t,e){var r=this.p,n=this.q,o=this.g,i=this.y,a=this.parseASN1Signature(e),s=a[0],c=a[1],u=new E(t.substr(0,n.bitLength()/4),16);if(E.ZERO.compareTo(s)>0||s.compareTo(n)>0)throw"invalid DSA signature";if(E.ZERO.compareTo(c)>=0||c.compareTo(n)>0)throw"invalid DSA signature";var l=c.modInverse(n),h=u.multiply(l).mod(n),f=s.multiply(l).mod(n);return 0==o.modPow(h,r).multiply(i.modPow(f,r)).mod(r).mod(n).compareTo(s)},this.parseASN1Signature=function(t){try{return[new n(e(t,0,[0],"02"),16),new n(e(t,0,[1],"02"),16)]}catch(t){throw Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(t){var n,o,i,a,s;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[1],"02"),o=e(t,0,[2],"02"),i=e(t,0,[3],"02"),a=e(t,0,[4],"02"),s=e(t,0,[5],"02")}catch(t){throw Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,o,i,a,s)},this.readPKCS8PrvKeyHex=function(t){var n,o,i,a;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[1,1,0],"02"),o=e(t,0,[1,1,1],"02"),i=e(t,0,[1,1,2],"02"),a=e(t,0,[2,0],"02")}catch(t){throw Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,o,i,null,a)},this.readPKCS8PubKeyHex=function(t){var n,o,i,a;if(!1===r(t))throw Error("not ASN.1 hex string");try{n=e(t,0,[0,1,0],"02"),o=e(t,0,[0,1,1],"02"),i=e(t,0,[0,1,2],"02"),a=e(t,0,[1,0],"02")}catch(t){throw Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,o,i,a)},this.readCertPubKeyHex=function(t,n){var o,i,a,s;if(!1===r(t))throw Error("not ASN.1 hex string");try{o=e(t,0,[0,5,0,1,0],"02"),i=e(t,0,[0,5,0,1,1],"02"),a=e(t,0,[0,5,0,1,2],"02"),s=e(t,0,[0,5,1,0],"02")}catch(t){throw Error("malformed X.509 certificate DSA public key")}this.setPublicHex(o,i,a,s)}};var re=function(){var t=function(t,r,n){return e(y.AES,t,r,n)},e=function(t,e,r,n){var o=y.enc.Hex.parse(e),i=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s={};s.key=i,s.iv=a,s.ciphertext=o;var c=t.decrypt(s,i,{iv:a});return y.enc.Hex.stringify(c)},r=function(t,e,r){return n(y.AES,t,e,r)},n=function(t,e,r,n){var o=y.enc.Hex.parse(e),i=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s=t.encrypt(o,i,{iv:a}),c=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(c)},o={"AES-256-CBC":{proc:t,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,r,n){return e(y.TripleDES,t,r,n)},eproc:function(t,e,r){return n(y.TripleDES,t,e,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,r,n){return e(y.DES,t,r,n)},eproc:function(t,e,r){return n(y.DES,t,e,r)},keylen:8,ivlen:8}},i=function(t){var e={},r=t.match(RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(e.cipher=r[1],e.ivsalt=r[2]);var n=t.match(RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(e.type=n[1]);var o=-1,i=0;-1!=t.indexOf("\r\n\r\n")&&(o=t.indexOf("\r\n\r\n"),i=2),-1!=t.indexOf("\n\n")&&(o=t.indexOf("\n\n"),i=1);var a=t.indexOf("-----END");if(-1!=o&&-1!=a){var s=t.substring(o+2*i,a-i);s=s.replace(/\s+/g,""),e.data=s}return e},a=function(t,e,r){for(var n=r.substring(0,16),i=y.enc.Hex.parse(n),a=y.enc.Utf8.parse(e),s=o[t].keylen+o[t].ivlen,c="",u=null;;){var l=y.algo.MD5.create();if(null!=u&&l.update(u),l.update(a),l.update(i),u=l.finalize(),(c+=y.enc.Hex.stringify(u)).length>=2*s)break}var h={};return h.keyhex=c.substr(0,2*o[t].keylen),h.ivhex=c.substr(2*o[t].keylen,2*o[t].ivlen),h},s=function(t,e,r,n){var i=y.enc.Base64.parse(t),a=y.enc.Hex.stringify(i);return(0,o[e].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(t){return i(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,r){return a(t,e,r)},decryptKeyB64:function(t,e,r,n){return s(t,e,r,n)},getDecryptedKeyHex:function(t,e){var r=i(t),n=(r.type,r.cipher),o=r.ivsalt,c=r.data,u=a(n,e,o).keyhex;return s(c,n,u,o)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,r,n,i){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===o[n])throw Error("KEYUTIL unsupported algorithm: "+n);if(void 0===i||null==i){var c=function(t){var e=y.lib.WordArray.random(t);return y.enc.Hex.stringify(e)}(o[n].ivlen);i=c.toUpperCase()}var u=function(t,e,r,n){return(0,o[e].eproc)(t,r,n)}(e,n,a(n,r,i).keyhex,i);s="-----BEGIN "+t+" PRIVATE KEY-----\r\n";return s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+i+"\r\n",s+="\r\n",s+=u.replace(/(.{64})/g,"$1\r\n"),s+="\r\n-----END "+t+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(t,e,r){return Lt(this.getEncryptedPKCS8Hex(t,e,r),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(t,e,r){var n;(n=null==r||null==r?{}:JSON.parse(JSON.stringify(r))).plain=t,this.initPBES2Param(n),this.encryptPBES2Param(n,e);var o=this.generatePBES2ASN1Param(n);return st.asn1.ASN1Util.newObject(o).tohex()},initPBES2Param:function(t){var e;(null==te(t,"encalg")&&(t.encalg="aes256-CBC"),null==te(t,"iter")&&(t.iter=2048),null==te(t,"prf")&&(t.prf="hmacWithSHA256"),null==te(t,"salt")&&(t.salt=y.enc.Hex.stringify(y.lib.WordArray.random(8))),null==te(t,"enciv"))&&("des-EDE3-CBC"==t.encalg&&(e=8),"aes128-CBC"==t.encalg&&(e=16),"aes256-CBC"==t.encalg&&(e=16),t.enciv=y.enc.Hex.stringify(y.lib.WordArray.random(e)))},encryptPBES2Param:function(t,e){var r=re.getDKFromPBES2Param(t,e);try{var n=st.crypto.Cipher.encrypt(t.plain,r,t.encalg,{iv:t.enciv})}catch(e){throw Error("encrypt error: "+t.plain+" "+r+" "+t.encalg+" "+t.enciv)}t.enc=n},generatePBES2ASN1Param:function(t){var e={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:t.salt}},{int:{hex:Wt(t.iter)}}]}]},{seq:[{oid:t.encalg},{octstr:{hex:t.enciv}}]}]}]},{octstr:{hex:t.enc}}]};return"hmacWithSHA1"!=t.prf&&e.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:t.prf},{null:""}]}),e},parseHexOfEncryptedPKCS8:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={},i=r(t,0);if(2!=i.length)throw Error("malformed format: SEQUENCE(0).items != 2: "+i.length);o.ciphertext=n(t,i[1]);var a=r(t,i[0]);if(2!=a.length)throw Error("malformed format: SEQUENCE(0.0).items != 2: "+a.length);if("2a864886f70d01050d"!=n(t,a[0]))throw Error("this only supports pkcs5PBES2");var s=r(t,a[1]);if(2!=a.length)throw Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var c=r(t,s[1]);if(2!=c.length)throw Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length);if("2a864886f70d0307"!=n(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=n(t,c[1]);var u=r(t,s[0]);if(2!=u.length)throw Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length);if("2a864886f70d01050c"!=n(t,u[0]))throw Error("this only supports pkcs5PBKDF2");var l=r(t,u[1]);if(l.length<2)throw Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length);o.pbkdf2Salt=n(t,l[0]);var h=n(t,l[1]);try{o.pbkdf2Iter=parseInt(h,16)}catch(t){throw Error("malformed format pbkdf2Iter: "+h)}return o},getPBKDF2KeyHexFromParam:function(t,e){var r=y.enc.Hex.parse(t.pbkdf2Salt),n=t.pbkdf2Iter,o=y.PBKDF2(e,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(o)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var r=kt(t,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),o=re.getPBKDF2KeyHexFromParam(n,e),i={};i.ciphertext=y.enc.Hex.parse(n.ciphertext);var a=y.enc.Hex.parse(o),s=y.enc.Hex.parse(n.encryptionSchemeIV),c=y.TripleDES.decrypt(i,a,{iv:s});return y.enc.Hex.stringify(c)},parsePBES2:function(t){var e=lt.parse(t);if("pkcs5PBES2"!=te(e,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=te(e,"seq.0.seq.1.seq.0.seq.0.oid"))throw Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var r=te(e,"seq.0.seq.1.seq.0.seq.1.seq");if(null==r)throw Error("PBKDF2 parameter not found");var n=te(r,"0.octstr.hex"),o=te(r,"1.int.hex"),i=te(r,"2.seq.0.oid","hmacWithSHA1"),a=-1;try{a=parseInt(o,16)}catch(t){throw Error("iter not proper value")}var s=te(e,"seq.0.seq.1.seq.1.seq.0.oid"),c=te(e,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),u=te(e,"seq.1.octstr.hex");if(null==s||null==c||null==u)throw Error("encalg, enciv or enc is undefined");return{salt:n,iter:a,prf:i,encalg:s,enciv:c,enc:u}},getDKFromPBES2Param:function(t,e){var r={hmacWithSHA1:y.algo.SHA1,hmacWithSHA224:y.algo.SHA224,hmacWithSHA256:y.algo.SHA256,hmacWithSHA384:y.algo.SHA384,hmacWithSHA512:y.algo.SHA512}[t.prf];if(null==r)throw Error("unsupported prf");var n={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[t.encalg];if(null==n)throw Error("unsupported encalg");var o=y.enc.Hex.parse(t.salt),i=t.iter;try{var a=y.PBKDF2(e,o,{keySize:n,iterations:i,hasher:r});return y.enc.Hex.stringify(a)}catch(r){throw Error("PBKDF2 error: "+r+" "+JSON.stringify(t)+" "+e)}},getPlainHexFromEncryptedPKCS8PEM:function(t,e){if(-1==t.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw Error("not Encrypted PKCS#8 PEM string");var r,n=kt(t);try{r=re.parsePBES2(n)}catch(t){throw Error("malformed PBES2 format: "+t.message)}var o=re.getDKFromPBES2Param(r,e);return st.crypto.Cipher.decrypt(r.enc,o,r.encalg,{iv:r.enciv})},getKeyFromEncryptedPKCS8PEM:function(t,e){var r=this.getPlainHexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={algparam:null};if("30"!=t.substr(0,2))throw Error("malformed plain PKCS8 private key(code:001)");var i=r(t,0);if(i.length<3)throw Error("malformed plain PKCS8 private key(code:002)");if("30"!=t.substr(i[1],2))throw Error("malformed PKCS8 private key(code:003)");var a=r(t,i[1]);if(2!=a.length)throw Error("malformed PKCS8 private key(code:004)");if("06"!=t.substr(a[0],2))throw Error("malformed PKCS8 private key(code:005)");if(o.algoid=n(t,a[0]),"06"==t.substr(a[1],2)&&(o.algparam=n(t,a[1])),"04"!=t.substr(i[2],2))throw Error("malformed PKCS8 private key(code:006)");return o.keyidx=e.getVidx(t,i[2]),o},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=kt(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,r=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==r.algoid)e=new rt;else if("2a8648ce380401"==r.algoid)e=new st.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw Error("unsupported private key algorithm");e=new st.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,r=lt.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===r)e=new rt;else if("2a8648ce380401"===r)e=new st.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw Error("unsupported PKCS#8 public key hex");e=new st.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={};if("30"!=t.substr(0,2))throw Error("malformed RSA key(code:001)");var i=r(t,0);if(2!=i.length)throw Error("malformed RSA key(code:002)");if("02"!=t.substr(i[0],2))throw Error("malformed RSA key(code:003)");if(o.n=n(t,i[0]),"02"!=t.substr(i[1],2))throw Error("malformed RSA key(code:004)");return o.e=n(t,i[1]),o},parsePublicPKCS8Hex:function(t){var e=lt,r=e.getChildIdx,n=e.getV,o={algparam:null},i=r(t,0);if(2!=i.length)throw Error("outer DERSequence shall have 2 elements: "+i.length);var a=i[0];if("30"!=t.substr(a,2))throw Error("malformed PKCS8 public key(code:001)");var s=r(t,a);if(2!=s.length)throw Error("malformed PKCS8 public key(code:002)");if("06"!=t.substr(s[0],2))throw Error("malformed PKCS8 public key(code:003)");if(o.algoid=n(t,s[0]),"06"==t.substr(s[1],2)?o.algparam=n(t,s[1]):"30"==t.substr(s[1],2)&&(o.algparam={},o.algparam.p=e.getVbyList(t,s[1],[0],"02"),o.algparam.q=e.getVbyList(t,s[1],[1],"02"),o.algparam.g=e.getVbyList(t,s[1],[2],"02")),"03"!=t.substr(i[1],2))throw Error("malformed PKCS8 public key(code:004)");return o.key=n(t,i[1]).substr(2),o}}}();re.getKey=function(t,e,r){var n=(v=lt).getChildIdx,o=(v.getV,v.getVbyList),i=st.crypto,a=i.ECDSA,s=i.DSA,c=rt,u=kt,l=re;if(void 0!==c&&t instanceof c)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==s&&t instanceof s)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new c).setPublic(t.n,t.e),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(k=new c).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(k=new c).setPrivate(t.n,t.e,t.d),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(k=new s).setPublic(t.p,t.q,t.g,t.y),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(k=new s).setPrivate(t.p,t.q,t.g,t.y,t.x),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new c).setPublic(gt(t.n),gt(t.e)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(k=new c).setPrivateEx(gt(t.n),gt(t.e),gt(t.d),gt(t.p),gt(t.q),gt(t.dp),gt(t.dq),gt(t.qi)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(k=new c).setPrivate(gt(t.n),gt(t.e),gt(t.d)),k;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var h=(L=new a({curve:t.crv})).ecparams.keycharlen,f="04"+("0000000000"+gt(t.x)).slice(-h)+("0000000000"+gt(t.y)).slice(-h);return L.setPublicKeyHex(f),L}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){h=(L=new a({curve:t.crv})).ecparams.keycharlen,f="04"+("0000000000"+gt(t.x)).slice(-h)+("0000000000"+gt(t.y)).slice(-h);var p=("0000000000"+gt(t.d)).slice(-h);return L.setPublicKeyHex(f),L.setPrivateKeyHex(p),L}if("pkcs5prv"===r){var d,y=t,v=lt;if(9===(d=n(y,0)).length)(k=new c).readPKCS5PrvKeyHex(y);else if(6===d.length)(k=new s).readPKCS5PrvKeyHex(y);else{if(!(d.length>2&&"04"===y.substr(d[1],2)))throw Error("unsupported PKCS#1/5 hexadecimal key");(k=new a).readPKCS5PrvKeyHex(y)}return k}if("pkcs8prv"===r)return k=l.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===r)return l._getKeyFromPublicPKCS8Hex(t);if("x509pub"===r)return ae.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return ae.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var m=kt(t,"PUBLIC KEY");return l._getKeyFromPublicPKCS8Hex(m)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var g=u(t,"RSA PRIVATE KEY");return l.getKey(g,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=o(N=u(t,"DSA PRIVATE KEY"),0,[1],"02"),w=o(N,0,[2],"02"),x=o(N,0,[3],"02"),S=o(N,0,[4],"02"),_=o(N,0,[5],"02");return(k=new s).setPrivate(new E(b,16),new E(w,16),new E(x,16),new E(S,16),new E(_,16)),k}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){g=u(t,"EC PRIVATE KEY");return l.getKey(g,null,"pkcs5prv")}if(-1!=t.indexOf("-END PRIVATE KEY-"))return l.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A=l.getDecryptedKeyHex(t,e),T=new rt;return T.readPKCS5PrvKeyHex(A),T}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var L,k=o(N=l.getDecryptedKeyHex(t,e),0,[1],"04"),I=o(N,0,[2,0],"06"),O=o(N,0,[3,0],"03").substr(2);if(void 0===st.crypto.OID.oidhex2name[I])throw Error("undefined OID(hex) in KJUR.crypto.OID: "+I);return(L=new a({curve:st.crypto.OID.oidhex2name[I]})).setPublicKeyHex(O),L.setPrivateKeyHex(k),L.isPublic=!1,L}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var N;b=o(N=l.getDecryptedKeyHex(t,e),0,[1],"02"),w=o(N,0,[2],"02"),x=o(N,0,[3],"02"),S=o(N,0,[4],"02"),_=o(N,0,[5],"02");return(k=new s).setPrivate(new E(b,16),new E(w,16),new E(x,16),new E(S,16),new E(_,16)),k}if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return l.getKeyFromEncryptedPKCS8PEM(t,e);throw Error("not supported argument")},re.generateKeypair=function(t,e){if("RSA"==t){var r=e;(a=new rt).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new rt,o=a.n.toString(16),i=a.e.toString(16);return n.setPublic(o,i),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==t){var a,s,c=e,u=new st.crypto.ECDSA({curve:c}).generateKeyPairHex();return(a=new st.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new st.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw Error("unknown algorithm: "+t)},re.getPEM=function(t,e,r,n,o,i){var a=st,s=a.asn1,c=s.DERObjectIdentifier,u=s.DERInteger,l=s.ASN1Util.newObject,h=s.x509.SubjectPublicKeyInfo,f=a.crypto,p=f.DSA,d=f.ECDSA,y=rt;function v(t){return l({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return l({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function g(t){return l({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==y&&t instanceof y||void 0!==p&&t instanceof p||void 0!==d&&t instanceof d)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Lt(x=new h(t).tohex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==y&&t instanceof y&&(void 0===r||null==r)&&1==t.isPrivate)return Lt(x=v(t).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate){var b=new c({name:t.curveName}).tohex(),w=m(t).tohex(),E="";return E+=Lt(b,"EC PARAMETERS"),E+=Lt(w,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===r||null==r)&&1==t.isPrivate)return Lt(x=g(t).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==y&&t instanceof y&&void 0!==r&&null!=r&&1==t.isPrivate){var x=v(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,r,n,i)}if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate){x=m(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,r,n,i)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==r&&null!=r&&1==t.isPrivate){x=g(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,r,n,i)}var S=function(t,e){if("string"==typeof e)return re.getEncryptedPKCS8PEM(t,e);if("object"==typeof e&&null!=te(e,"passcode")){var r=JSON.parse(JSON.stringify(e)),n=r.passcode;return delete r.passcode,re.getEncryptedPKCS8PEM(t,n,r)}};if("PKCS8PRV"==e&&null!=y&&t instanceof y&&1==t.isPrivate){var _=v(t).tohex();x=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate){var A={seq:[{int:1},{octstr:{hex:t.prvKeyHex}}]};"string"==typeof t.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]});_=new l(A).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate){_=new u({bigint:t.x}).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:_}}]}).tohex();return void 0===r||null==r?Lt(x,"PRIVATE KEY"):S(x,r)}throw Error("unsupported object nor format")},re.getKeyFromCSRPEM=function(t){var e=kt(t,"CERTIFICATE REQUEST");return re.getKeyFromCSRHex(e)},re.getKeyFromCSRHex=function(t){var e=re.parseCSRHex(t);return re.getKey(e.p8pubkeyhex,null,"pkcs8pub")},re.parseCSRHex=function(t){var e=lt,r=e.getChildIdx,n=e.getTLV,o={},i=t;if("30"!=i.substr(0,2))throw Error("malformed CSR(code:001)");var a=r(i,0);if(a.length<1)throw Error("malformed CSR(code:002)");if("30"!=i.substr(a[0],2))throw Error("malformed CSR(code:003)");var s=r(i,a[0]);if(s.length<3)throw Error("malformed CSR(code:004)");return o.p8pubkeyhex=n(i,s[2]),o},re.getKeyID=function(t){var e=re,r=lt;"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&(t=e.getKey(t));var n=kt(e.getPEM(t)),o=r.getIdxbyList(n,0,[1]),i=r.getV(n,o).substring(2);return st.crypto.Util.hashHex(i,"sha1")},re.getJWK=function(t,e,r,n,o){var i,a,s={},c=st.crypto.Util.hashHex;if("string"==typeof t)i=re.getKey(t),-1!=t.indexOf("CERTIFICATE")&&(a=kt(t));else{if("object"!=typeof t)throw Error("unsupported keyinfo type");t instanceof ae?(i=t.getPublicKey(),a=t.hex):i=t}if(i instanceof rt&&i.isPrivate)s.kty="RSA",s.n=mt(i.n.toString(16)),s.e=mt(i.e.toString(16)),s.d=mt(i.d.toString(16)),s.p=mt(i.p.toString(16)),s.q=mt(i.q.toString(16)),s.dp=mt(i.dmp1.toString(16)),s.dq=mt(i.dmq1.toString(16)),s.qi=mt(i.coeff.toString(16));else if(i instanceof rt&&i.isPublic)s.kty="RSA",s.n=mt(i.n.toString(16)),s.e=mt(i.e.toString(16));else if(i instanceof st.crypto.ECDSA&&i.isPrivate){if("P-256"!==(l=i.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw Error("unsupported curve name for JWT: "+l);var u=i.getPublicKeyXYHex();s.kty="EC",s.crv=l,s.x=mt(u.x),s.y=mt(u.y),s.d=mt(i.prvKeyHex)}else if(i instanceof st.crypto.ECDSA&&i.isPublic){var l;if("P-256"!==(l=i.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw Error("unsupported curve name for JWT: "+l);u=i.getPublicKeyXYHex();s.kty="EC",s.crv=l,s.x=mt(u.x),s.y=mt(u.y)}if(null==s.kty)throw Error("unsupported keyinfo");return i.isPrivate||1==e||(s.kid=st.jws.JWS.getJWKthumbprint(s)),null!=a&&1!=r&&(s.x5c=[g(a)]),null!=a&&1!=n&&(s.x5t=yt(g(c(a,"sha1")))),null!=a&&1!=o&&(s["x5t#S256"]=yt(g(c(a,"sha256")))),s},re.getJWKFromKey=function(t){return re.getJWK(t,!0,!0,!0,!0)},rt.getPosArrayOfChildrenFromHex=function(t){return lt.getChildIdx(t,0)},rt.getHexValueArrayOfChildrenFromHex=function(t){var e,r=lt.getV,n=r(t,(e=rt.getPosArrayOfChildrenFromHex(t))[0]),o=r(t,e[1]),i=r(t,e[2]),a=r(t,e[3]),s=r(t,e[4]),c=r(t,e[5]),u=r(t,e[6]),l=r(t,e[7]),h=r(t,e[8]);return(e=[]).push(n,o,i,a,s,c,u,l,h),e},rt.prototype.readPrivateKeyFromPEMString=function(t){var e=kt(t),r=rt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},rt.prototype.readPKCS5PrvKeyHex=function(t){var e=rt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},rt.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,o,i,a,s,c,u=lt,l=u.getVbyListEx;if(!1===u.isASN1HEX(t))throw Error("not ASN.1 hex string");try{e=l(t,0,[2,0,1],"02"),r=l(t,0,[2,0,2],"02"),n=l(t,0,[2,0,3],"02"),o=l(t,0,[2,0,4],"02"),i=l(t,0,[2,0,5],"02"),a=l(t,0,[2,0,6],"02"),s=l(t,0,[2,0,7],"02"),c=l(t,0,[2,0,8],"02")}catch(t){throw Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,r,n,o,i,a,s,c)},rt.prototype.readPKCS5PubKeyHex=function(t){var e=lt,r=e.getV;if(!1===e.isASN1HEX(t))throw Error("keyHex is not ASN.1 hex string");var n=e.getChildIdx(t,0);if(2!==n.length||"02"!==t.substr(n[0],2)||"02"!==t.substr(n[1],2))throw Error("wrong hex for PKCS#5 public key");var o=r(t,n[0]),i=r(t,n[1]);this.setPublic(o,i)},rt.prototype.readPKCS8PubKeyHex=function(t){var e=lt;if(!1===e.isASN1HEX(t))throw Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(t,0,[0,0]))throw Error("not PKCS8 RSA public key");var r=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},rt.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new ae).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};function ne(t,e){for(var r="",n=e/4-t.length,o=0;o<n;o++)r+="0";return r+t}function oe(t,e,r){for(var n="",o=0;n.length<e;)n+=xt(r(St(t+String.fromCharCode.call(String,(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o)))),o+=1;return n}function ie(t){for(var e in st.crypto.Util.DIGESTINFOHEAD){var r=st.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function ae(t){var e,r=lt,n=r.getChildIdx,o=r.getV,i=(r.dump,r.parse),a=r.getTLV,s=r.getVbyList,c=r.getVbyListEx,u=r.getTLVbyList,l=r.getTLVbyListEx,h=r.getIdxbyList,f=r.getIdxbyListEx,p=r.getVidx,d=r.getInt,y=r.oidname,v=r.hextooidstr,m=kt,g=Error;try{e=st.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var t=u(this.hex,0,[0,0]);if("a0"==t.substr(0,2)){var e=u(t,0,[0]),r=d(e,0);if(r<0||2<r)throw Error("malformed version field");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return c(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var t=l(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var r in e)if(t===e[r])return r;return y(c(t,0,[0],"06"))},this.getIssuer=function(t,e){return this.getX500Name(this.getIssuerHex(),t,e)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(t,e){return this.getX500Name(this.getSubjectHex(),t,e)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var t=s(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=s(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var t=this.getSPKI();return null==t?null:s(t,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return h(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return re.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var t=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),o=new st.crypto.Signature({alg:e});return o.init(t),o.updateHex(n),o.verify(r)},this.parseExt=function(t){var e,i,a;if(void 0===t){if(a=this.hex,3!==this.version)return-1;e=h(a,0,[0,7,0],"30"),i=n(a,e)}else{a=kt(t);var c=h(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=o(a,c))return void(this.aExtInfo=[]);e=h(a,0,[0,3,0,1,0],"30"),i=n(a,e),this.hex=a}this.aExtInfo=[];for(var u=0;u<i.length;u++){var l={critical:!1},f=0;3===n(a,i[u]).length&&(l.critical=!0,f=1),l.oid=r.hextooidstr(s(a,i[u],[0],"06"));var d=h(a,i[u],[1+f]);l.vidx=p(a,d),this.aExtInfo.push(l)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=st.asn1.x509.OID.name2oid(t)),""!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getCriticalExtV=function(t,e,r){if(null!=e)return[e,r];var n=this.getExtInfo(t);return null==n?[null,null]:[a(this.hex,n.vidx),n.critical]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"basicConstraints"};if(e&&(n.critical=!0),"3000"===t)return n;if("30030101ff"===t)return n.cA=!0,n;if("30060101ff02"===t.substr(0,12)){var i=o(t,10),s=parseInt(i,16);return n.cA=!0,n.pathLen=s,n}throw Error("hExtV parse error: "+t)},this.getExtNameConstraints=function(t,e){var r=this.getCriticalExtV("nameConstraints",t,e);if(t=r[0],e=r[1],null!=t){var o={extname:"nameConstraints"};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){for(var c=[],u=n(t,i[s]),l=0;l<u.length;l++){var h=a(t,u[l]),f=this.getGeneralSubtree(h);c.push(f)}var p=t.substr(i[s],2);"a0"==p?o.permit=c:"a1"==p&&(o.exclude=c)}return o}},this.getGeneralSubtree=function(t){var e=n(t,0),r=e.length;if(r<1||2<r)throw Error("wrong num elements");for(var i=this.getGeneralName(a(t,e[0])),s=1;s<r;s++){var c=t.substr(e[s],2),u=o(t,e[s]),l=parseInt(u,16);"80"==c&&(i.min=l),"81"==c&&(i.max=l)}return i},this.getExtKeyUsage=function(t,e){var r=this.getCriticalExtV("keyUsage",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"keyUsage"};return e&&(n.critical=!0),n.names=this.getExtKeyUsageString(t).split(","),n}},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";t=a(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw Error("malformed key usage value: "+t);var r="000000000000000"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(r=r.slice(-8)),10==t.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),r=[],n=0;n<e.length;n++)"1"==e.substr(n,1)&&r.push(ae.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectKeyIdentifier"};e&&(n.critical=!0);var i=o(t,0);return n.kid={hex:i},n},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var i={extname:"authorityKeyIdentifier"};e&&(i.critical=!0);for(var s=n(t,0),c=0;c<s.length;c++){var u=t.substr(s[c],2);if("80"===u&&(i.kid={hex:o(t,s[c])}),"a1"===u){var l=a(t,s[c]),h=this.getGeneralNames(l);i.issuer=h[0].dn}"82"===u&&(i.sn={hex:o(t,s[c])})}return i},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var i={extname:"extKeyUsage",array:[]};e&&(i.critical=!0);for(var s=n(t,0),c=0;c<s.length;c++)i.array.push(y(o(t,s[c])));return i},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=[],r=a(this.hex,t.vidx);if(""===r)return e;for(var i=n(r,0),s=0;s<i.length;s++)e.push(y(o(r,i[s])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"issuerAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getGeneralNames=function(t){for(var e=n(t,0),r=[],o=0;o<e.length;o++){var i=this.getGeneralName(a(t,e[o]));void 0!==i&&r.push(i)}return r},this.getGeneralName=function(t){var e=t.substr(0,2),r=o(t,0),n=xt(r);return"81"==e?{rfc822:n}:"82"==e?{dns:n}:"86"==e?{uri:n}:"87"==e?{ip:Ft(r)}:"a4"==e?{dn:this.getX500Name(r)}:"a0"==e?{other:this.getOtherName(t)}:void 0},this.getExtSubjectAltName2=function(){var t,e,r,i=this.getExtInfo("subjectAltName");if(void 0===i)return i;for(var s=[],c=a(this.hex,i.vidx),u=n(c,0),l=0;l<u.length;l++)r=c.substr(u[l],2),t=o(c,u[l]),"81"===r&&(e=wt(t),s.push(["MAIL",e])),"82"===r&&(e=wt(t),s.push(["DNS",e])),"84"===r&&(e=ae.hex2dn(t,0),s.push(["DN",e])),"86"===r&&(e=wt(t),s.push(["URI",e])),"87"===r&&(e=Ft(t),s.push(["IP",e]));return s},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"cRLDistributionPoints",array:[]};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){var c=a(t,i[s]);o.array.push(this.getDistributionPoint(c))}return o},this.getDistributionPoint=function(t){for(var e={},r=n(t,0),o=0;o<r.length;o++){var i=t.substr(r[o],2),s=a(t,r[o]);"a0"==i&&(e.dpname=this.getDistributionPointName(s))}return e},this.getDistributionPointName=function(t){for(var e={},r=n(t,0),o=0;o<r.length;o++){var i=t.substr(r[o],2),s=a(t,r[o]);"a0"==i&&(e.full=this.getGeneralNames(s))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtCRLDistributionPoints();if(null==t)return t;for(var e=t.array,r=[],n=0;n<e.length;n++)try{null!=e[n].dpname.full[0].uri&&r.push(e[n].dpname.full[0].uri)}catch(t){}return r},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},r=n(this.hex,t.vidx),o=0;o<r.length;o++){var i=s(this.hex,r[o],[0],"06"),a=s(this.hex,r[o],[1],"86");"2b06010505073001"===i&&e.ocsp.push(wt(a)),"2b06010505073002"===i&&e.caissuer.push(wt(a))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"authorityInfoAccess",array:[]};e&&(o.critical=!0);for(var i=n(t,0),u=0;u<i.length;u++){var l=c(t,i[u],[0],"06"),h=wt(s(t,i[u],[1],"86"));if("2b06010505073001"==l)o.array.push({ocsp:h});else{if("2b06010505073002"!=l)throw Error("unknown method: "+l);o.array.push({caissuer:h})}}return o},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"certificatePolicies",array:[]};e&&(o.critical=!0);for(var i=n(t,0),s=0;s<i.length;s++){var c=a(t,i[s]),u=this.getPolicyInformation(c);o.array.push(u)}return o},this.getPolicyInformation=function(t){var e={},r=s(t,0,[0],"06");e.policyoid=y(r);var o=f(t,0,[1],"30");if(-1!=o){e.array=[];for(var i=n(t,o),c=0;c<i.length;c++){var u=a(t,i[c]),l=this.getPolicyQualifierInfo(u);e.array.push(l)}}return e},this.getOtherName=function(t){var e={},r=n(t,0),o=s(t,r[0],[],"06"),a=s(t,r[1],[]);return e.oid=y(o),e.value=i(a),e},this.getPolicyQualifierInfo=function(t){var e={},r=s(t,0,[0],"06");if("2b06010505070201"===r){var n=c(t,0,[1],"16");e.cps=xt(n)}else if("2b06010505070202"===r){var o=u(t,0,[1],"30");e.unotice=this.getUserNotice(o)}return e},this.getUserNotice=function(t){var e=null;try{return e=r.parse(t),this._asn1ToUnotice(e)}catch(t){return}},this._asn1ToUnotice=function(t){try{for(var e={},r=te(t,"seq"),n=0;n<r.length;n++){var o=this._asn1ToNoticeRef(r[n]);null!=o&&(e.noticeref=o);var i=this.asn1ToDisplayText(r[n]);null!=i&&(e.exptext=i)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeRef=function(t){try{for(var e={},r=te(t,"seq"),n=0;n<r.length;n++){var o=this._asn1ToNoticeNum(r[n]);null!=o&&(e.noticenum=o);var i=this.asn1ToDisplayText(r[n]);null!=i&&(e.org=i)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeNum=function(t){try{for(var e=te(t,"seq"),r=[],n=0;n<e.length;n++){var o=e[n];r.push(parseInt(te(o,"int.hex"),16))}return r}catch(t){return}},this.getDisplayText=function(t){var e={};return e.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[t.substr(0,2)],e.str=xt(o(t,0)),e},this.asn1ToDisplayText=function(t){return null!=t.utf8str?{type:"utf8",str:t.utf8str.str}:null!=t.ia5str?{type:"ia5",str:t.ia5str.str}:null!=t.visstr?{type:"vis",str:t.visstr.str}:null!=t.bmpstr?{type:"bmp",str:t.bmpstr.str}:null!=t.prnstr?{type:"prn",str:t.prnstr.str}:void 0},this.getExtPolicyMappings=function(t,e){var r=this.getCriticalExtV("policyMappings",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyMappings"};e&&(n.critical=!0);try{for(var o=i(t).seq,a=[],s=0;s<o.length;s++){var c=o[s].seq;a.push([c[0].oid,c[1].oid])}n.array=a}catch(t){throw new g("malformed policyMappings")}return n}},this.getExtPolicyConstraints=function(t,e){var r=this.getCriticalExtV("policyConstraints",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyConstraints"};e&&(n.critical=!0);var o=i(t);try{for(var a=o.seq,s=0;s<a.length;s++){var c=a[s].tag;0==c.explicit&&("80"==c.tag&&(n.reqexp=parseInt(c.hex,16)),"81"==c.tag&&(n.inhibit=parseInt(c.hex,16)))}}catch(t){return new g("malformed policyConstraints value")}return n}},this.getExtInhibitAnyPolicy=function(t,e){var r=this.getCriticalExtV("inhibitAnyPolicy",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"inhibitAnyPolicy"};e&&(n.critical=!0);var o=d(t,0);return-1==o?new g("wrong value"):(n.skip=o,n)}},this.getExtCRLNumber=function(t,e){var r={extname:"cRLNumber"};if(e&&(r.critical=!0),"02"==t.substr(0,2))return r.num={hex:o(t,0)},r;throw new g("hExtV parse error: "+t)},this.getExtCRLReason=function(t,e){var r={extname:"cRLReason"};if(e&&(r.critical=!0),"0a"==t.substr(0,2))return r.code=parseInt(o(t,0),16),r;throw Error("hExtV parse error: "+t)},this.getExtOcspNonce=function(t,e){var r={extname:"ocspNonce"};e&&(r.critical=!0);var n=o(t,0);return r.hex=n,r},this.getExtOcspNoCheck=function(t,e){var r={extname:"ocspNoCheck"};return e&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var o={extname:"adobeTimeStamp"};e&&(o.critical=!0);var i=n(t,0);if(i.length>1){var s=a(t,i[1]),c=this.getGeneralName(s);null!=c.uri&&(o.uri=c.uri)}if(i.length>2){var u=a(t,i[2]);"0101ff"==u&&(o.reqauth=!0),"010100"==u&&(o.reqauth=!1)}return o},this.getExtSubjectDirectoryAttributes=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectDirectoryAttributes");if(void 0===r)return;t=a(this.hex,r.vidx),e=r.critical}var n={extname:"subjectDirectoryAttributes"};e&&(n.critical=!0);try{for(var o=i(t),s=[],c=0;c<o.seq.length;c++){var u=o.seq[c],l=te(u,"seq.0.oid"),h=te(u,"seq.1.set");if(null==l||null==h)throw"error";s.push({attr:l,array:h})}return n.array=s,n}catch(t){throw Error("malformed subjectDirectoryAttributes extension value")}};var b=function(t){var e={};try{var r=t.seq[0].oid,n=st.asn1.x509.OID.name2oid(r);e.type=st.asn1.x509.OID.oid2atype(n);var o=t.seq[1];if(null!=o.utf8str)e.ds="utf8",e.value=o.utf8str.str;else if(null!=o.numstr)e.ds="num",e.value=o.numstr.str;else if(null!=o.telstr)e.ds="tel",e.value=o.telstr.str;else if(null!=o.prnstr)e.ds="prn",e.value=o.prnstr.str;else if(null!=o.ia5str)e.ds="ia5",e.value=o.ia5str.str;else if(null!=o.visstr)e.ds="vis",e.value=o.visstr.str;else{if(null==o.bmpstr)throw"error";e.ds="bmp",e.value=o.bmpstr.str}return e}catch(t){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},w=function(t){try{return t.set.map((function(t){return b(t)}))}catch(t){throw Error("improper ASN.1 parsed RDN: "+t)}};this.getX500NameRule=function(t){for(var e=null,r=[],n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;i++)r.push(o[i]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,c=a.value,u=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=u)return"mixed";if(st.lang.String.isMail(c))continue;return"mixed"}if("C"==u){if("prn"==s)continue;return"mixed"}if(null==e)e=s;else if(e!==s)return"mixed"}return null==e?"prn":e},this.getAttrTypeAndValue=function(t){var e=i(t);return b(e)},this.getRDN=function(t){var e=i(t);return w(e)},this.getX500NameArray=function(t){return function(t){try{return t.seq.map((function(t){return w(t)}))}catch(t){throw Error("improper ASN.1 parsed X500Name: "+t)}}(i(t))},this.getX500Name=function(t,e,r){var n=this.getX500NameArray(t),o={str:this.dnarraytostr(n)};return o.array=n,1==r&&(o.hex=t),1==e&&(o.canon=this.c14nRDNArray(n)),o},this.readCertPEM=function(t){this.readCertHex(m(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(t){var e={};return null==t&&(t={}),e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(t.dncanon,t.dnhex),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(t.dncanon,t.dnhex),e.sbjpubkey=Lt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),1==t.tbshex&&(e.tbshex=u(this.hex,0,[0])),1==t.nodnarray&&(delete e.issuer.array,delete e.subject.array),e},this.getExtParamArray=function(t){null==t&&(-1!=f(this.hex,0,[0,"[3]"])&&(t=l(this.hex,0,[0,"[3]",0],"30")));for(var e=[],r=n(t,0),o=0;o<r.length;o++){var i=a(t,r[o]),s=this.getExtParam(i);null!=s&&e.push(s)}return e},this.getExtParam=function(t){var e=n(t,0).length;if(2!=e&&3!=e)throw Error("wrong number elements in Extension: "+e+" "+t);var r=v(s(t,0,[0],"06")),o=!1;3==e&&"0101ff"==u(t,0,[1])&&(o=!0);var a=u(t,0,[e-1,0]),c=void 0;if("2.5.29.14"==r?c=this.getExtSubjectKeyIdentifier(a,o):"2.5.29.15"==r?c=this.getExtKeyUsage(a,o):"2.5.29.17"==r?c=this.getExtSubjectAltName(a,o):"2.5.29.18"==r?c=this.getExtIssuerAltName(a,o):"2.5.29.19"==r?c=this.getExtBasicConstraints(a,o):"2.5.29.30"==r?c=this.getExtNameConstraints(a,o):"2.5.29.31"==r?c=this.getExtCRLDistributionPoints(a,o):"2.5.29.32"==r?c=this.getExtCertificatePolicies(a,o):"2.5.29.33"==r?c=this.getExtPolicyMappings(a,o):"2.5.29.35"==r?c=this.getExtAuthorityKeyIdentifier(a,o):"2.5.29.36"==r?c=this.getExtPolicyConstraints(a,o):"2.5.29.37"==r?c=this.getExtExtKeyUsage(a,o):"2.5.29.54"==r?c=this.getExtInhibitAnyPolicy(a,o):"1.3.6.1.5.5.7.1.1"==r?c=this.getExtAuthorityInfoAccess(a,o):"2.5.29.20"==r?c=this.getExtCRLNumber(a,o):"2.5.29.21"==r?c=this.getExtCRLReason(a,o):"2.5.29.9"==r?c=this.getExtSubjectDirectoryAttributes(a,o):"1.3.6.1.5.5.7.48.1.2"==r?c=this.getExtOcspNonce(a,o):"1.3.6.1.5.5.7.48.1.5"==r?c=this.getExtOcspNoCheck(a,o):"1.2.840.113583.1.1.9.1"==r?c=this.getExtAdobeTimeStamp(a,o):null!=ae.EXT_PARSER[r]&&(c=ae.EXT_PARSER[r](r,o,a)),null!=c)return c;var l={extname:r,extn:a};try{l.extn=i(a)}catch(t){}return o&&(l.critical=!0),l},this.findExt=function(t,e){for(var r=0;r<t.length;r++)if(t[r].extname==e)return t[r];return null},this.updateExtCDPFullURI=function(t,e){var r=this.findExt(t,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)if(null!=n[o].dpname&&null!=n[o].dpname.full)for(var i=n[o].dpname.full,a=0;a<i.length;a++){var s=i[o];null!=s.uri&&(s.uri=e)}},this.updateExtAIAOCSP=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].ocsp&&(n[o].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].caissuer&&(n[o].caissuer=e)},this.dnarraytostr=function(t){return"/"+t.map((function(t){return function(t){return t.map((function(t){return function(t){return t.type+"="+t.value}(t).replace(/\+/,"\\+")})).join("+")}(t).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(t){var e;if(null!=t.str&&null==t.array){var r=new st.asn1.x509.X500Name({str:t.str}).tohex();e=this.getX500NameArray(r)}else e=t.array;null==t.canon&&(t.canon=this.c14nRDNArray(e))},this.c14nRDNArray=function(t){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++){var a=n[i],s=a.value;s=(s=(s=(s=s.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),o.push(a.type.toLowerCase()+"="+s)}e.push(o.join("+"))}return"/"+e.join("/")},this.getInfo=function(){var t,e,r,n=function(t){for(var e="",r="    ",n="\n",o=t.array,i=0;i<o.length;i++){var a=o[i];if(null!=a.dn&&(e+=r+"dn: "+a.dn.str+n),null!=a.ip&&(e+=r+"ip: "+a.ip+n),null!=a.rfc822&&(e+=r+"rfc822: "+a.rfc822+n),null!=a.dns&&(e+=r+"dns: "+a.dns+n),null!=a.uri&&(e+=r+"uri: "+a.uri+n),null!=a.other)e+=r+"other: "+a.other.oid+"="+JSON.stringify(a.other.value).replace(/\"/g,"")+n}return e=e.replace(/\n$/,"")},o=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];if(e+="    policy oid: "+o.policyoid+"\n",void 0!==o.array)for(var i=0;i<o.array.length;i++){var a=o.array[i];void 0!==a.cps&&(e+="    cps: "+a.cps+"\n")}}return e},i=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];try{void 0!==o.dpname.full[0].uri&&(e+="    "+o.dpname.full[0].uri+"\n")}catch(t){}try{void 0!==o.dname.full[0].dn.hex&&(e+="    "+ae.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(t){}}return e},a=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var o=r[n];void 0!==o.caissuer&&(e+="    caissuer: "+o.caissuer+"\n"),void 0!==o.ocsp&&(e+="    ocsp: "+o.ocsp+"\n")}return e};if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Vt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Vt(e.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var c=r[s],u=st.asn1.x509.OID.oid2name(c.oid);""===u&&(u=c.oid);var l="";if(!0===c.critical&&(l="CRITICAL"),t+="  "+u+" "+l+":\n","basicConstraints"===u){var h=this.getExtBasicConstraints();void 0===h.cA?t+="    {}\n":(t+="    cA=true",void 0!==h.pathLen&&(t+=", pathLen="+h.pathLen),t+="\n")}else{var f;if("policyMappings"==u)t+="    "+this.getExtPolicyMappings().array.map((function(t){var e=t;return e[0]+":"+e[1]})).join(", ")+"\n";else if("policyConstraints"==u)t+="    ",null!=(f=this.getExtPolicyConstraints()).reqexp&&(t+=" reqexp="+f.reqexp),null!=f.inhibit&&(t+=" inhibit="+f.inhibit),t+="\n";else if("inhibitAnyPolicy"==u)t+="    skip="+(f=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==u)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==u)t+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==u){var p=this.getExtAuthorityKeyIdentifier();void 0!==p.kid&&(t+="    kid="+p.kid.hex+"\n")}else{if("extKeyUsage"==u)t+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"==u)t+=n(this.getExtSubjectAltName())+"\n";else if("cRLDistributionPoints"==u)t+=i(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"==u)t+=a(this.getExtAuthorityInfoAccess());else"certificatePolicies"==u&&(t+=o(this.getExtCertificatePolicies()))}}}}return t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",t+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?this.readCertPEM(t):st.lang.String.isHex(t)&&this.readCertHex(t))}rt.prototype.sign=function(t,e){var r=function(t){return st.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(r,e)},rt.prototype.signWithMessageHash=function(t,e){var r=et(st.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return ne(this.doPrivate(r).toString(16),this.n.bitLength())},rt.prototype.signPSS=function(t,e,r){var n,o=(n=St(t),st.crypto.Util.hashHex(n,e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(o,e,r)},rt.prototype.signWithMessageHashPSS=function(t,e,r){var n,o=xt(t),i=o.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),c=function(t){return st.crypto.Util.hashHex(t,e)};if(-1===r||void 0===r)r=i;else if(-2===r)r=s-i-2;else if(r<-2)throw Error("invalid salt length");if(s<i+r+2)throw Error("data too long");var u="";r>0&&(u=Array(r),(new tt).nextBytes(u),u=String.fromCharCode.apply(String,u));var l=xt(c(St("\0\0\0\0\0\0\0\0"+o+u))),h=[];for(n=0;n<s-r-i-2;n+=1)h[n]=0;var f=String.fromCharCode.apply(String,h)+""+u,p=oe(l,f.length,c),d=[];for(n=0;n<f.length;n+=1)d[n]=f.charCodeAt(n)^p.charCodeAt(n);var y=65280>>8*s-a&255;for(d[0]&=~y,n=0;n<i;n++)d.push(l.charCodeAt(n));return d.push(188),ne(this.doPrivate(new E(d)).toString(16),this.n.bitLength())},rt.prototype.verify=function(t,e){if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var r=et(e,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var o=this.doPublic(r).toString(16);if(o.length+3!=n/4)return!1;var i=ie(o.replace(/^1f+00/,""));if(0==i.length)return!1;var a=i[0],s=i[1],c=function(t){return st.crypto.Util.hashString(t,a)}(t);return s==c},rt.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=et(e,16);if(r.bitLength()>this.n.bitLength())return 0;var n=ie(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;n[0];return n[1]==t},rt.prototype.verifyPSS=function(t,e,r,n){var o,i=(o=St(t),st.crypto.Util.hashHex(o,r));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,e,r,n)},rt.prototype.verifyWithMessageHashPSS=function(t,e,r,n){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var o,i=new E(e,16),a=function(t){return st.crypto.Util.hashHex(t,r)},s=xt(t),c=s.length,u=this.n.bitLength()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw Error("invalid salt length");if(l<c+n+2)throw Error("data too long");var h=this.doPublic(i).toByteArray();for(o=0;o<h.length;o+=1)h[o]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw Error("encoded message does not end in 0xbc");var f=(h=String.fromCharCode.apply(String,h)).substr(0,l-c-1),p=h.substr(f.length,c),d=65280>>8*l-u&255;if(f.charCodeAt(0)&d)throw Error("bits beyond keysize not zero");var y=oe(p,f.length,a),v=[];for(o=0;o<f.length;o+=1)v[o]=f.charCodeAt(o)^y.charCodeAt(o);v[0]&=~d;var m=l-c-n-2;for(o=0;o<m;o+=1)if(0!==v[o])throw Error("leftmost octets not zero");if(1!==v[m])throw Error("0x01 marker not found");return p===xt(a(St("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,v.slice(-n)))))},rt.SALT_LEN_HLEN=-1,rt.SALT_LEN_MAX=-2,rt.SALT_LEN_RECOVER=-2,ae.EXT_PARSER={},ae.registExtParser=function(t,e){ae.EXT_PARSER[t]=e},ae.hex2dn=function(t,e){void 0===e&&(e=0);var r=new ae;lt.getTLV(t,e);return r.getX500Name(t).str},ae.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw Error("malformed RDN");for(var r=[],n=lt.getChildIdx(t,e),o=0;o<n.length;o++)r.push(ae.hex2attrTypeValue(t,n[o]));return r=r.map((function(t){return t.replace("+","\\+")})),r.join("+")},ae.hex2attrTypeValue=function(t,e){var r=lt,n=r.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw Error("malformed attribute type and value");var o=r.getChildIdx(t,e);2!==o.length||t.substr(o[0],2);var i=n(t,o[0]),a=st.asn1.ASN1Util.oidHexToInt(i);return st.asn1.x509.OID.oid2atype(a)+"="+xt(n(t,o[1]))},ae.getPublicKeyFromCertHex=function(t){var e=new ae;return e.readCertHex(t),e.getPublicKey()},ae.getPublicKeyFromCertPEM=function(t){var e=new ae;return e.readCertPEM(t),e.getPublicKey()},ae.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=lt.getVbyList,o={};return o.algparam=null,(e=new ae).readCertPEM(t),r=e.getPublicKeyHex(),o.keyhex=n(r,0,[1],"03").substr(2),o.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===o.algoid&&(o.algparam=n(r,0,[0,1],"06")),o},ae.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];void 0!==st&&st||(st={}),void 0!==st.jws&&st.jws||(st.jws={}),st.jws.JWS=function(){var t=st.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var o=n[1],i=n[2],a=n[3],s=o+"."+i;if(this.parsedJWS={},this.parsedJWS.headB64U=o,this.parsedJWS.payloadB64U=i,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var c=gt(a),u=et(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=ut(o),h=ut(i);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!t(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},st.jws.JWS.sign=function(t,e,r,n,o){var i,a,s,c=st,u=c.jws.JWS,l=u.readSafeJSONString,h=u.isSafeJSONString,f=c.crypto,p=(f.ECDSA,f.Mac),d=f.Signature,y=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(a=e,i=y.stringify(a)),"string"==typeof e){if(!h(i=e))throw"JWS Head is not safe JSON string: "+i;a=l(i)}if(s=r,"object"==typeof r&&(s=y.stringify(r)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,i=y.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var v=null;if(void 0===u.jwsalg2sigalg[t])throw"unsupported alg name: "+t;v=u.jwsalg2sigalg[t];var m=ct(i)+"."+ct(s),g="";if("Hmac"==v.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var b=new p({alg:v,prov:"cryptojs",pass:n});b.updateString(m),g=b.doFinal()}else if(-1!=v.indexOf("withECDSA")){(E=new d({alg:v})).init(n,o),E.updateString(m);var w=E.sign();g=st.crypto.ECDSA.asn1SigToConcatSig(w)}else{var E;if("none"!=v)(E=new d({alg:v})).init(n,o),E.updateString(m),g=E.sign()}return m+"."+mt(g)},st.jws.JWS.verify=function(t,e,r){var n,o=st,i=o.jws.JWS,a=i.readSafeJSONString,s=o.crypto,c=s.ECDSA,u=s.Mac,l=s.Signature;if(n=rt,!qt(t))return!1;var h=t.split(".");if(3!==h.length)return!1;var f=h[0]+"."+h[1],p=gt(h[2]),d=a(ut(h[0])),y=null,v=null;if(void 0===d.alg)throw"algorithm not specified in header";if((v=(y=d.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0)&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=re.getKey(e)),!("RS"!=v&&"PS"!=v||e instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==v&&!(e instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===i.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+y;if("none"==(m=i.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var g=new u({alg:m,pass:e});return g.updateString(f),p==g.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,w=null;try{w=c.concatSigToASN1Sig(p)}catch(t){return!1}return(b=new l({alg:m})).init(e),b.updateString(f),b.verify(w)}return(b=new l({alg:m})).init(e),b.updateString(f),b.verify(p)},st.jws.JWS.parse=function(t){var e,r,n,o=t.split("."),i={};if(2!=o.length&&3!=o.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=o[0],r=o[1],3==o.length&&(n=o[2]),i.headerObj=st.jws.JWS.readSafeJSONString(ut(e)),i.payloadObj=st.jws.JWS.readSafeJSONString(ut(r)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),null==i.payloadObj?i.payloadPP=ut(r):i.payloadPP=JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=gt(n)),i},st.jws.JWS.verifyJWT=function(t,e,r){var n=st.jws,o=n.JWS,i=o.readSafeJSONString,a=o.inArray,s=o.includedArray;if(!qt(t))return!1;var c=t.split(".");if(3!=c.length)return!1;var u=c[0],l=c[1],h=(gt(c[2]),i(ut(u))),f=i(ut(l));if(void 0===h.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,r.alg))return!1;if(void 0!==f.iss&&"object"==typeof r.iss&&!a(f.iss,r.iss))return!1;if(void 0!==f.sub&&"object"==typeof r.sub&&!a(f.sub,r.sub))return!1;if(void 0!==f.aud&&"object"==typeof r.aud)if("string"==typeof f.aud){if(!a(f.aud,r.aud))return!1}else if("object"==typeof f.aud&&!s(f.aud,r.aud))return!1;var p=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(p=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+r.gracePeriod<p)&&(!(void 0!==f.nbf&&"number"==typeof f.nbf&&p<f.nbf-r.gracePeriod)&&(!(void 0!==f.iat&&"number"==typeof f.iat&&p<f.iat-r.gracePeriod)&&((void 0===f.jti||void 0===r.jti||f.jti===r.jti)&&!!o.verify(t,e,r.alg))))},st.jws.JWS.includedArray=function(t,e){var r=st.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e))return!1;return!0},st.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},st.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},st.jws.JWS.isSafeJSONString=function(t,e,r){var n=null;try{return"object"!=typeof(n=at(t))||n.constructor===Array?0:(e&&(e[r]=n),1)}catch(t){return 0}},st.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=at(t))||e.constructor===Array?null:e}catch(t){return null}},st.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},st.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var r=St(e);return mt(st.crypto.Util.hashHex(r,"sha256"))},st.jws.IntDate={},st.jws.IntDate.get=function(t){var e=st.jws.IntDate,r=e.getNow,n=e.getZulu;if("now"==t)return r();if("now + 1hour"==t)return r()+3600;if("now + 1day"==t)return r()+86400;if("now + 1month"==t)return r()+2592e3;if("now + 1year"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},st.jws.IntDate.getZulu=function(t){return Ot(t)},st.jws.IntDate.getNow=function(){return~~(new Date/1e3)},st.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},st.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==st&&st||(st={}),void 0!==st.jws&&st.jws||(st.jws={}),st.jws.JWSJS=function(){var t=st.jws.JWS,e=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,r,n){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var o=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var i=st.jws.JWS.sign(t,e,this.sPayload,r,n).split(".");i[0],i[2];this.aHeader.push(i[0]),this.aSignature.push(i[2])}catch(t){throw this.aHeader.length>o&&this.aHeader.pop(),this.aSignature.length>o&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(2!==r.length)return!1;if(!1===this.verifyNth(e,r[0],r[1]))return!1}return!0},this.verifyNth=function(e,r,n){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var o=this.aHeader[e],i=this.aSignature[e],a=o+"."+this.sPayload+"."+i,s=!1;try{s=t.verify(a,r,n)}catch(t){return!1}return s},this.readJWSJS=function(t){if("string"==typeof t){var r=e(t);if(null==r)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignature=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.sD=rt,st.crypto.ECDSA,st.crypto.DSA,st.crypto.Signature,st.crypto.MessageDigest,st.crypto.Mac,e.ym=re,st.crypto,st.asn1,st.jws,st.lang},9073:(t,e,r)=>{var n=r(2316),o=r(6458),i=r(2149),a=r(4297),s=r(3121);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},2707:(t,e,r)=>{var n=r(9714),o=r(3812),i=r(4727),a=r(8379),s=r(8291);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},1955:(t,e,r)=>{var n=r(9138)(r(1433),"Map");t.exports=n},369:(t,e,r)=>{var n=r(2092),o=r(9626),i=r(9925),a=r(6809),s=r(4385);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},6469:(t,e,r)=>{var n=r(2707),o=r(1848),i=r(7406),a=r(8569),s=r(3109),c=r(3389);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},2781:(t,e,r)=>{var n=r(1433).Symbol;t.exports=n},8944:(t,e,r)=>{var n=r(1433).Uint8Array;t.exports=n},6701:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},1163:(t,e,r)=>{var n=r(6204),o=r(1256),i=r(6397),a=r(492),s=r(2845),c=r(7995),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),h=!r&&!l&&a(t),f=!r&&!l&&!h&&c(t),p=r||l||h||f,d=p?n(t.length,String):[],y=d.length;for(var v in t)!e&&!u.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},3998:(t,e,r)=>{var n=r(4772),o=r(9316);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},2863:(t,e,r)=>{var n=r(4772),o=r(9316),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8301:(t,e,r)=>{var n=r(9316);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4772:(t,e,r)=>{var n=r(8559);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},3508:(t,e,r)=>{var n=r(8953),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},1469:(t,e,r)=>{var n=r(5409)();t.exports=n},7148:(t,e,r)=>{var n=r(2781),o=r(7903),i=r(1738),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},9250:(t,e,r)=>{var n=r(7148),o=r(2934);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},6567:(t,e,r)=>{var n=r(8446),o=r(8092),i=r(8953),a=r(1485),s=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.hasOwnProperty,h=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?h:s).test(a(t))}},7129:(t,e,r)=>{var n=r(7148),o=r(3330),i=r(2934),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},1491:(t,e,r)=>{var n=r(8953),o=r(7499),i=r(8201),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},9702:(t,e,r)=>{var n=r(6469),o=r(3998),i=r(1469),a=r(708),s=r(8953),c=r(5405),u=r(9874);t.exports=function t(e,r,l,h,f){e!==r&&i(r,(function(i,c){if(f||(f=new n),s(i))a(e,r,c,l,t,h,f);else{var p=h?h(u(e,c),i,c+"",e,r,f):void 0;void 0===p&&(p=i),o(e,c,p)}}),c)}},708:(t,e,r)=>{var n=r(3998),o=r(7030),i=r(6733),a=r(8835),s=r(9181),c=r(1256),u=r(6397),l=r(5569),h=r(492),f=r(8446),p=r(8953),d=r(4679),y=r(7995),v=r(9874),m=r(7264);t.exports=function(t,e,r,g,b,w,E){var x=v(t,r),S=v(e,r),_=E.get(S);if(_)n(t,r,_);else{var A=w?w(x,S,r+"",t,e,E):void 0,T=void 0===A;if(T){var L=u(S),k=!L&&h(S),I=!L&&!k&&y(S);A=S,L||k||I?u(x)?A=x:l(x)?A=a(x):k?(T=!1,A=o(S,!0)):I?(T=!1,A=i(S,!0)):A=[]:d(S)||c(S)?(A=x,c(x)?A=m(x):p(x)&&!f(x)||(A=s(S))):T=!1}T&&(E.set(S,A),b(A,S,g,w,E),E.delete(S)),n(t,r,A)}}},1506:(t,e,r)=>{var n=r(4796),o=r(5265),i=r(6805);t.exports=function(t,e){return i(o(t,e,n),t+"")}},7310:(t,e,r)=>{var n=r(3122),o=r(8559),i=r(4796),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},6204:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},41:t=>{t.exports=function(t){return function(e){return t(e)}}},7177:(t,e,r)=>{var n=r(8944);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},7030:(t,e,r)=>{t=r.nmd(t);var n=r(1433),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},6733:(t,e,r)=>{var n=r(7177);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},8835:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},2083:(t,e,r)=>{var n=r(2863),o=r(4772);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),a?o(r,u,l):n(r,u,l)}return r}},8109:(t,e,r)=>{var n=r(1433)["__core-js_shared__"];t.exports=n},4171:(t,e,r)=>{var n=r(1506),o=r(6220);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var c=r[n];c&&t(e,c,n,a)}return e}))}},5409:t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===r(i[c],c,i))break}return e}}},9386:(t,e,r)=>{var n=r(9702),o=r(8953);t.exports=function t(e,r,i,a,s,c){return o(e)&&o(r)&&(c.set(r,e),n(e,r,void 0,t,c),c.delete(r)),e}},8559:(t,e,r)=>{var n=r(9138),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},2999:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},5535:(t,e,r)=>{var n=r(5662);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},9138:(t,e,r)=>{var n=r(6567),o=r(6772);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},3347:(t,e,r)=>{var n=r(1019)(Object.getPrototypeOf,Object);t.exports=n},7903:(t,e,r)=>{var n=r(2781),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=r:delete t[s]),o}},6772:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},2316:(t,e,r)=>{var n=r(4558);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},6458:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2149:(t,e,r)=>{var n=r(4558),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},4297:(t,e,r)=>{var n=r(4558),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},3121:(t,e,r)=>{var n=r(4558);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},9181:(t,e,r)=>{var n=r(3508),o=r(3347),i=r(7499);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},2845:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6220:(t,e,r)=>{var n=r(9316),o=r(8330),i=r(2845),a=r(8953);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?o(r)&&i(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},5662:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},8092:(t,e,r)=>{var n,o=r(8109),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},7499:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9714:t=>{t.exports=function(){this.__data__=[],this.size=0}},3812:(t,e,r)=>{var n=r(8301),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},4727:(t,e,r)=>{var n=r(8301);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},8379:(t,e,r)=>{var n=r(8301);t.exports=function(t){return n(this.__data__,t)>-1}},8291:(t,e,r)=>{var n=r(8301);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},2092:(t,e,r)=>{var n=r(9073),o=r(2707),i=r(1955);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},9626:(t,e,r)=>{var n=r(5535);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},9925:(t,e,r)=>{var n=r(5535);t.exports=function(t){return n(this,t).get(t)}},6809:(t,e,r)=>{var n=r(5535);t.exports=function(t){return n(this,t).has(t)}},4385:(t,e,r)=>{var n=r(5535);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4558:(t,e,r)=>{var n=r(9138)(Object,"create");t.exports=n},8201:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},3685:(t,e,r)=>{t=r.nmd(t);var n=r(2999),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},1738:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},1019:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5265:(t,e,r)=>{var n=r(6701),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=r(c),n(t,this,u)}}},1433:(t,e,r)=>{var n=r(2999),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},9874:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},6805:(t,e,r)=>{var n=r(7310),o=r(3983)(n);t.exports=o},3983:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},1848:(t,e,r)=>{var n=r(2707);t.exports=function(){this.__data__=new n,this.size=0}},7406:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},8569:t=>{t.exports=function(t){return this.__data__.get(t)}},3109:t=>{t.exports=function(t){return this.__data__.has(t)}},3389:(t,e,r)=>{var n=r(2707),o=r(1955),i=r(369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},1485:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},3122:t=>{t.exports=function(t){return function(){return t}}},4526:(t,e,r)=>{var n=r(6701),o=r(1506),i=r(9386),a=r(9032),s=o((function(t){return t.push(void 0,i),n(a,void 0,t)}));t.exports=s},9316:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},4796:t=>{t.exports=function(t){return t}},1256:(t,e,r)=>{var n=r(9250),o=r(2934),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},6397:t=>{var e=Array.isArray;t.exports=e},8330:(t,e,r)=>{var n=r(8446),o=r(3330);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},5569:(t,e,r)=>{var n=r(8330),o=r(2934);t.exports=function(t){return o(t)&&n(t)}},492:(t,e,r)=>{t=r.nmd(t);var n=r(1433),o=r(659),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c},8446:(t,e,r)=>{var n=r(7148),o=r(8953);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},3330:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},8953:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2934:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},4679:(t,e,r)=>{var n=r(7148),o=r(3347),i=r(2934),a=Object.prototype,s=Function.prototype.toString,c=a.hasOwnProperty,u=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u}},7995:(t,e,r)=>{var n=r(7129),o=r(41),i=r(3685),a=i&&i.isTypedArray,s=a?o(a):n;t.exports=s},5405:(t,e,r)=>{var n=r(1163),o=r(1491),i=r(8330);t.exports=function(t){return i(t)?n(t,!0):o(t)}},9032:(t,e,r)=>{var n=r(9702),o=r(4171)((function(t,e,r,o){n(t,e,r,o)}));t.exports=o},659:t=>{t.exports=function(){return!1}},7264:(t,e,r)=>{var n=r(2083),o=r(5405);t.exports=function(t){return n(t,o(t))}},2688:(t,e,r)=>{var n=r(2867),o=new n("76561197960265728");t.exports={to64:function(t){return(t=new n(t)).plus(o).toString()},to32:function(t){return(t=new n(t)).minus(o).toString()}}},2867:function(t,e,r){var n;/*! bignumber.js v2.4.0 https://github.com/MikeMcl/bignumber.js/LICENCE */!function(){"use strict";var e,r,o,i=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,c=" not a boolean or binary digit",u="rounding mode",l="number type has more than 15 significant digits",h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",f=1e14,p=14,d=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,m=1e9;function g(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,n=1,o=t.length,i=t[0]+"";n<o;){for(e=t[n++]+"",r=p-e.length;r--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function w(t,e){var r,n,o=t.c,i=e.c,a=t.s,s=e.s,c=t.e,u=e.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=c==u,!o||!i)return n?0:!o^r?1:-1;if(!n)return c>u^r?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return c==u?0:c>u^r?1:-1}function E(t,e,r){return(t=T(t))>=e&&t<=r}function x(t){return"[object Array]"==Object.prototype.toString.call(t)}function S(t,e,r){for(var n,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;i[o]*=e);for(i[n=0]+=h.indexOf(t.charAt(a++));n<i.length;n++)i[n]>r-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function _(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function A(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(++e>(r=t.length)){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function T(t){return(t=parseFloat(t))<0?a(t):s(t)}"undefined"!=typeof crypto&&(r=crypto),e=function t(e){var n,L,k,I,O,N,P,C,D=0,R=X.prototype,F=new X(1),j=20,B=4,M=-7,G=21,U=-1e7,H=1e7,q=!0,V=Z,K=!1,Y=1,W=100,z={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function X(t,e){var r,n,a,c,u,f,y=this;if(!(y instanceof X))return q&&et(26,"constructor call without new",t),new X(t,e);if(null!=e&&V(e,2,64,D,"base")){if(f=t+"",10==(e|=0))return rt(y=new X(t instanceof X?t:f),j+y.e+1,B);if((c="number"==typeof t)&&0*t!=0||!RegExp("^-?"+(r="["+h.slice(0,e)+"]+")+"(?:\\."+r+")?$",e<37?"i":"").test(f))return o(y,f,c,e);c?(y.s=1/t<0?(f=f.slice(1),-1):1,q&&f.replace(/^0\.0*|\./,"").length>15&&et(D,l,t),c=!1):y.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1,f=$(f,10,e,y.s)}else{if(t instanceof X)return y.s=t.s,y.e=t.e,y.c=(t=t.c)?t.slice():t,void(D=0);if((c="number"==typeof t)&&0*t==0){if(y.s=1/t<0?(t=-t,-1):1,t===~~t){for(n=0,a=t;a>=10;a/=10,n++);return y.e=n,y.c=[t],void(D=0)}f=t+""}else{if(!i.test(f=t+""))return o(y,f,c);y.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1}}for((n=f.indexOf("."))>-1&&(f=f.replace(".","")),(a=f.search(/e/i))>0?(n<0&&(n=a),n+=+f.slice(a+1),f=f.substring(0,a)):n<0&&(n=f.length),a=0;48===f.charCodeAt(a);a++);for(u=f.length;48===f.charCodeAt(--u););if(f=f.slice(a,u+1))if(u=f.length,c&&q&&u>15&&(t>d||t!==s(t))&&et(D,l,y.s*t),(n=n-a-1)>H)y.c=y.e=null;else if(n<U)y.c=[y.e=0];else{if(y.e=n,y.c=[],a=(n+1)%p,n<0&&(a+=p),a<u){for(a&&y.c.push(+f.slice(0,a)),u-=p;a<u;)y.c.push(+f.slice(a,a+=p));f=f.slice(a),a=p-f.length}else a-=u;for(;a--;f+="0");y.c.push(+f)}else y.c=[y.e=0];D=0}function $(t,e,r,o){var i,a,s,c,u,l,f,p=t.indexOf("."),d=j,y=B;for(r<37&&(t=t.toLowerCase()),p>=0&&(s=W,W=0,t=t.replace(".",""),u=(f=new X(r)).pow(t.length-p),W=s,f.c=S(A(b(u.c),u.e),10,e),f.e=f.c.length),a=s=(l=S(t,r,e)).length;0==l[--s];l.pop());if(!l[0])return"0";if(p<0?--a:(u.c=l,u.e=a,u.s=o,l=(u=n(u,f,d,y,e)).c,c=u.r,a=u.e),p=l[i=a+d+1],s=e/2,c=c||i<0||null!=l[i+1],c=y<4?(null!=p||c)&&(0==y||y==(u.s<0?3:2)):p>s||p==s&&(4==y||c||6==y&&1&l[i-1]||y==(u.s<0?8:7)),i<1||!l[0])t=c?A("1",-d):"0";else{if(l.length=i,c)for(--e;++l[--i]>e;)l[i]=0,i||(++a,l.unshift(1));for(s=l.length;!l[--s];);for(p=0,t="";p<=s;t+=h.charAt(l[p++]));t=A(t,a)}return t}function J(t,e,r,n){var o,i,a,s,c;if(r=null!=r&&V(r,0,8,n,u)?0|r:B,!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)c=b(t.c),c=19==n||24==n&&a<=M?_(c,a):A(c,a);else if(i=(t=rt(new X(t),e,r)).e,s=(c=b(t.c)).length,19==n||24==n&&(e<=i||i<=M)){for(;s<e;c+="0",s++);c=_(c,i)}else if(e-=a,c=A(c,i),i+1>s){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=i-s)>0)for(i+1==s&&(c+=".");e--;c+="0");return t.s<0&&o?"-"+c:c}function Q(t,e){var r,n,o=0;for(x(t[0])&&(t=t[0]),r=new X(t[0]);++o<t.length;){if(!(n=new X(t[o])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function Z(t,e,r,n,o){return(t<e||t>r||t!=T(t))&&et(n,(o||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function tt(t,e,r){for(var n=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,n++);return(r=n+r*p-1)>H?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function et(t,e,r){var n=Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",D=0,n}function rt(t,e,r,n){var o,i,c,u,l,h,d,v=t.c,m=y;if(v){t:{for(o=1,u=v[0];u>=10;u/=10,o++);if((i=e-o)<0)i+=p,c=e,d=(l=v[h=0])/m[o-c-1]%10|0;else if((h=a((i+1)/p))>=v.length){if(!n)break t;for(;v.length<=h;v.push(0));l=d=0,o=1,c=(i%=p)-p+1}else{for(l=u=v[h],o=1;u>=10;u/=10,o++);d=(c=(i%=p)-p+o)<0?0:l/m[o-c-1]%10|0}if(n=n||e<0||null!=v[h+1]||(c<0?l:l%m[o-c-1]),n=r<4?(d||n)&&(0==r||r==(t.s<0?3:2)):d>5||5==d&&(4==r||n||6==r&&(i>0?c>0?l/m[o-c]:0:v[h-1])%10&1||r==(t.s<0?8:7)),e<1||!v[0])return v.length=0,n?(e-=t.e+1,v[0]=m[(p-e%p)%p],t.e=-e||0):v[0]=t.e=0,t;if(0==i?(v.length=h,u=1,h--):(v.length=h+1,u=m[p-i],v[h]=c>0?s(l/m[o-c]%m[c])*u:0),n)for(;;){if(0==h){for(i=1,c=v[0];c>=10;c/=10,i++);for(c=v[0]+=u,u=1;c>=10;c/=10,u++);i!=u&&(t.e++,v[0]==f&&(v[0]=1));break}if(v[h]+=u,v[h]!=f)break;v[h--]=0,u=1}for(i=v.length;0===v[--i];v.pop());}t.e>H?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}return X.another=t,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=function(){var t,e,n=0,o={},i=arguments,a=i[0],s=a&&"object"==typeof a?function(){if(a.hasOwnProperty(e))return null!=(t=a[e])}:function(){if(i.length>n)return null!=(t=i[n++])};return s(e="DECIMAL_PLACES")&&V(t,0,m,2,e)&&(j=0|t),o[e]=j,s(e="ROUNDING_MODE")&&V(t,0,8,2,e)&&(B=0|t),o[e]=B,s(e="EXPONENTIAL_AT")&&(x(t)?V(t[0],-m,0,2,e)&&V(t[1],0,m,2,e)&&(M=0|t[0],G=0|t[1]):V(t,-m,m,2,e)&&(M=-(G=0|(t<0?-t:t)))),o[e]=[M,G],s(e="RANGE")&&(x(t)?V(t[0],-m,-1,2,e)&&V(t[1],1,m,2,e)&&(U=0|t[0],H=0|t[1]):V(t,-m,m,2,e)&&(0|t?U=-(H=0|(t<0?-t:t)):q&&et(2,e+" cannot be zero",t))),o[e]=[U,H],s(e="ERRORS")&&(t===!!t||1===t||0===t?(D=0,V=(q=!!t)?Z:E):q&&et(2,e+c,t)),o[e]=q,s(e="CRYPTO")&&(t===!!t||1===t||0===t?(K=!(!t||!r),t&&!K&&q&&et(2,"crypto unavailable",r)):q&&et(2,e+c,t)),o[e]=K,s(e="MODULO_MODE")&&V(t,0,9,2,e)&&(Y=0|t),o[e]=Y,s(e="POW_PRECISION")&&V(t,0,m,2,e)&&(W=0|t),o[e]=W,s(e="FORMAT")&&("object"==typeof t?z=t:q&&et(2,e+" not an object",t)),o[e]=z,o},X.max=function(){return Q(arguments,R.lt)},X.min=function(){return Q(arguments,R.gt)},X.random=(L=9007199254740992,k=Math.random()*L&2097151?function(){return s(Math.random()*L)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,o,i,c,u=0,l=[],h=new X(F);if(t=null!=t&&V(t,0,m,14)?0|t:j,i=a(t/p),K)if(r&&r.getRandomValues){for(e=r.getRandomValues(new Uint32Array(i*=2));u<i;)(c=131072*e[u]+(e[u+1]>>>11))>=9e15?(n=r.getRandomValues(new Uint32Array(2)),e[u]=n[0],e[u+1]=n[1]):(l.push(c%1e14),u+=2);u=i/2}else if(r&&r.randomBytes){for(e=r.randomBytes(i*=7);u<i;)(c=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?r.randomBytes(7).copy(e,u):(l.push(c%1e14),u+=7);u=i/7}else q&&et(14,"crypto unavailable",r);if(!u)for(;u<i;)(c=k())<9e15&&(l[u++]=c%1e14);for(i=l[--u],t%=p,i&&t&&(c=y[p-t],l[u]=s(i/c)*c);0===l[u];l.pop(),u--);if(u<0)l=[o=0];else{for(o=-1;0===l[0];l.shift(),o-=p);for(u=1,c=l[0];c>=10;c/=10,u++);u<p&&(o-=p-u)}return h.e=o,h.c=l,h}),n=function(){function t(t,e,r){var n,o,i,a,s=0,c=t.length,u=e%v,l=e/v|0;for(t=t.slice();c--;)s=((o=u*(i=t[c]%v)+(n=l*i+(a=t[c]/v|0)*u)%v*v+s)/r|0)+(n/v|0)+l*a,t[c]=o%r;return s&&t.unshift(s),t}function e(t,e,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,r,n){for(var o=0;r--;)t[r]-=o,o=t[r]<e[r]?1:0,t[r]=o*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,o,i,a,c){var u,l,h,d,y,v,m,b,w,E,x,S,_,A,T,L,k,I=n.s==o.s?1:-1,O=n.c,N=o.c;if(!(O&&O[0]&&N&&N[0]))return new X(n.s&&o.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*I:I/0:NaN);for(w=(b=new X(I)).c=[],I=i+(l=n.e-o.e)+1,c||(c=f,l=g(n.e/p)-g(o.e/p),I=I/p|0),h=0;N[h]==(O[h]||0);h++);if(N[h]>(O[h]||0)&&l--,I<0)w.push(1),d=!0;else{for(A=O.length,L=N.length,h=0,I+=2,(y=s(c/(N[0]+1)))>1&&(N=t(N,y,c),O=t(O,y,c),L=N.length,A=O.length),_=L,x=(E=O.slice(0,L)).length;x<L;E[x++]=0);(k=N.slice()).unshift(0),T=N[0],N[1]>=c/2&&T++;do{if(y=0,(u=e(N,E,L,x))<0){if(S=E[0],L!=x&&(S=S*c+(E[1]||0)),(y=s(S/T))>1)for(y>=c&&(y=c-1),m=(v=t(N,y,c)).length,x=E.length;1==e(v,E,m,x);)y--,r(v,L<m?k:N,m,c),m=v.length,u=1;else 0==y&&(u=y=1),m=(v=N.slice()).length;if(m<x&&v.unshift(0),r(E,v,x,c),x=E.length,-1==u)for(;e(N,E,L,x)<1;)y++,r(E,L<x?k:N,x,c),x=E.length}else 0===u&&(y++,E=[0]);w[h++]=y,E[0]?E[x++]=O[_]||0:(E=[O[_]],x=1)}while((_++<A||null!=E[0])&&I--);d=null!=E[0],w[0]||w.shift()}if(c==f){for(h=1,I=w[0];I>=10;I/=10,h++);rt(b,i+(b.e=h+l*p-1)+1,a,d)}else b.e=l,b.r=+d;return b}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,N=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(t,e,r,n){var o,i=r?e:e.replace(C,"");if(P.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(I,(function(t,e,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?t:e})),n&&(o=n,i=i.replace(O,"$1").replace(N,"0.$1")),e!=i))return new X(i,o);q&&et(D,"not a"+(n?" base "+n:"")+" number",e),t.s=null}t.c=t.e=null,D=0},R.absoluteValue=R.abs=function(){var t=new X(this);return t.s<0&&(t.s=1),t},R.ceil=function(){return rt(new X(this),this.e+1,2)},R.comparedTo=R.cmp=function(t,e){return D=1,w(this,new X(t,e))},R.decimalPlaces=R.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-g(this.e/p))*p,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},R.dividedBy=R.div=function(t,e){return D=3,n(this,new X(t,e),j,B)},R.dividedToIntegerBy=R.divToInt=function(t,e){return D=4,n(this,new X(t,e),0,1)},R.equals=R.eq=function(t,e){return D=5,0===w(this,new X(t,e))},R.floor=function(){return rt(new X(this),this.e+1,3)},R.greaterThan=R.gt=function(t,e){return D=6,w(this,new X(t,e))>0},R.greaterThanOrEqualTo=R.gte=function(t,e){return D=7,1===(e=w(this,new X(t,e)))||0===e},R.isFinite=function(){return!!this.c},R.isInteger=R.isInt=function(){return!!this.c&&g(this.e/p)>this.c.length-2},R.isNaN=function(){return!this.s},R.isNegative=R.isNeg=function(){return this.s<0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.lessThan=R.lt=function(t,e){return D=8,w(this,new X(t,e))<0},R.lessThanOrEqualTo=R.lte=function(t,e){return D=9,-1===(e=w(this,new X(t,e)))||0===e},R.minus=R.sub=function(t,e){var r,n,o,i,a=this,s=a.s;if(D=10,e=(t=new X(t,e)).s,!s||!e)return new X(NaN);if(s!=e)return t.s=-e,a.plus(t);var c=a.e/p,u=t.e/p,l=a.c,h=t.c;if(!c||!u){if(!l||!h)return l?(t.s=-e,t):new X(h?a:NaN);if(!l[0]||!h[0])return h[0]?(t.s=-e,t):new X(l[0]?a:3==B?-0:0)}if(c=g(c),u=g(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=h),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(n=(i=(s=l.length)<(e=h.length))?s:e,s=e=0;e<n;e++)if(l[e]!=h[e]){i=l[e]<h[e];break}if(i&&(o=l,l=h,h=o,t.s=-t.s),(e=(n=h.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=f-1;n>s;){if(l[--n]<h[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=f}l[n]-=h[n]}for(;0==l[0];l.shift(),--u);return l[0]?tt(t,l,u):(t.s=3==B?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var r,o,i=this;return D=11,t=new X(t,e),!i.c||!t.s||t.c&&!t.c[0]?new X(NaN):!t.c||i.c&&!i.c[0]?new X(i):(9==Y?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,Y),i.minus(r.times(t)))},R.negated=R.neg=function(){var t=new X(this);return t.s=-t.s||null,t},R.plus=R.add=function(t,e){var r,n=this,o=n.s;if(D=12,e=(t=new X(t,e)).s,!o||!e)return new X(NaN);if(o!=e)return t.s=-e,n.minus(t);var i=n.e/p,a=t.e/p,s=n.c,c=t.c;if(!i||!a){if(!s||!c)return new X(o/0);if(!s[0]||!c[0])return c[0]?t:new X(s[0]?n:0*o)}if(i=g(i),a=g(a),s=s.slice(),o=i-a){for(o>0?(a=i,r=c):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(e=c.length)<0&&(r=c,c=s,s=r,e=o),o=0;e;)o=(s[--e]=s[e]+c[e]+o)/f|0,s[e]%=f;return o&&(s.unshift(o),++a),tt(t,s,a)},R.precision=R.sd=function(t){var e,r,n=this,o=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(q&&et(13,"argument"+c,t),t!=!!t&&(t=null)),!o)return null;if(e=(r=o.length-1)*p+1,r=o[r]){for(;r%10==0;r/=10,e--);for(r=o[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},R.round=function(t,e){var r=new X(this);return(null==t||V(t,0,m,15))&&rt(r,~~t+this.e+1,null!=e&&V(e,0,8,15,u)?0|e:B),r},R.shift=function(t){var e=this;return V(t,-9007199254740991,d,16,"argument")?e.times("1e"+T(t)):new X(e.c&&e.c[0]&&(t<-9007199254740991||t>d)?e.s*(t<0?0:1/0):e)},R.squareRoot=R.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=j+4,h=new X("0.5");if(1!==c||!s||!s[0])return new X(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+a))||c==1/0?(((e=b(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=g((u+1)/2)-(u<0||u%2),r=new X(e=c==1/0?"1e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new X(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=h.times(i.plus(n(a,i,l,1))),b(i.c).slice(0,c)===(e=b(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(rt(r,r.e+j+2,1),t=!r.times(r).eq(a));break}if(!o&&(rt(i,i.e+j+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return rt(r,r.e+j+1,B,t)},R.times=R.mul=function(t,e){var r,n,o,i,a,s,c,u,l,h,d,y,m,b,w,E=this,x=E.c,S=(D=17,t=new X(t,e)).c;if(!(x&&S&&x[0]&&S[0]))return!E.s||!t.s||x&&!x[0]&&!S||S&&!S[0]&&!x?t.c=t.e=t.s=null:(t.s*=E.s,x&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=g(E.e/p)+g(t.e/p),t.s*=E.s,(c=x.length)<(h=S.length)&&(m=x,x=S,S=m,o=c,c=h,h=o),o=c+h,m=[];o--;m.push(0));for(b=f,w=v,o=h;--o>=0;){for(r=0,d=S[o]%w,y=S[o]/w|0,i=o+(a=c);i>o;)r=((u=d*(u=x[--a]%w)+(s=y*u+(l=x[a]/w|0)*d)%w*w+m[i]+r)/b|0)+(s/w|0)+y*l,m[i--]=u%b;m[i]=r}return r?++n:m.shift(),tt(t,m,n)},R.toDigits=function(t,e){var r=new X(this);return t=null!=t&&V(t,1,m,18,"precision")?0|t:null,e=null!=e&&V(e,0,8,18,u)?0|e:B,t?rt(r,t,e):r},R.toExponential=function(t,e){return J(this,null!=t&&V(t,0,m,19)?1+~~t:null,e,19)},R.toFixed=function(t,e){return J(this,null!=t&&V(t,0,m,20)?~~t+this.e+1:null,e,20)},R.toFormat=function(t,e){var r=J(this,null!=t&&V(t,0,m,21)?~~t+this.e+1:null,e,21);if(this.c){var n,o=r.split("."),i=+z.groupSize,a=+z.secondaryGroupSize,s=z.groupSeparator,c=o[0],u=o[1],l=this.s<0,h=l?c.slice(1):c,f=h.length;if(a&&(n=i,i=a,a=n,f-=n),i>0&&f>0){for(n=f%i||i,c=h.substr(0,n);n<f;n+=i)c+=s+h.substr(n,i);a>0&&(c+=s+h.slice(n)),l&&(c="-"+c)}r=u?c+z.decimalSeparator+((a=+z.fractionGroupSize)?u.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+z.fractionGroupSeparator):u):c}return r},R.toFraction=function(t){var e,r,o,i,a,s,c,u,l,h=q,f=this,d=f.c,v=new X(F),m=r=new X(F),g=c=new X(F);if(null!=t&&(q=!1,s=new X(t),q=h,(h=s.isInt())&&!s.lt(F)||(q&&et(22,"max denominator "+(h?"out of range":"not an integer"),t),t=!h&&s.c&&rt(s,s.e+1,1).gte(F)?s:null)),!d)return f.toString();for(l=b(d),i=v.e=l.length-f.e-1,v.c[0]=y[(a=i%p)<0?p+a:a],t=!t||s.cmp(v)>0?i>0?v:m:s,a=H,H=1/0,s=new X(l),c.c[0]=0;u=n(s,v,0,1),1!=(o=r.plus(u.times(g))).cmp(t);)r=g,g=o,m=c.plus(u.times(o=m)),c=o,v=s.minus(u.times(o=v)),s=o;return o=n(t.minus(r),g,0,1),c=c.plus(o.times(m)),r=r.plus(o.times(g)),c.s=m.s=f.s,e=n(m,g,i*=2,B).minus(f).abs().cmp(n(c,r,i,B).minus(f).abs())<1?[m.toString(),g.toString()]:[c.toString(),r.toString()],H=a,e},R.toNumber=function(){return+this},R.toPower=R.pow=function(t,e){var r,n,o,i=s(t<0?-t:+t),c=this;if(null!=e&&(D=23,e=new X(e)),!V(t,-9007199254740991,d,23,"exponent")&&(!isFinite(t)||i>d&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return r=Math.pow(+c,t),new X(e?r%e:r);for(e?t>1&&c.gt(F)&&c.isInt()&&e.gt(F)&&e.isInt()?c=c.mod(e):(o=e,e=null):W&&(r=a(W/p+2)),n=new X(F);;){if(i%2){if(!(n=n.times(c)).c)break;r?n.c.length>r&&(n.c.length=r):e&&(n=n.mod(e))}if(!(i=s(i/2)))break;c=c.times(c),r?c.c&&c.c.length>r&&(c.c.length=r):e&&(c=c.mod(e))}return e?n:(t<0&&(n=F.div(n)),o?n.mod(o):r?rt(n,W,B):n)},R.toPrecision=function(t,e){return J(this,null!=t&&V(t,1,m,24,"precision")?0|t:null,e,24)},R.toString=function(t){var e,r=this,n=r.s,o=r.e;return null===o?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=b(r.c),e=null!=t&&V(t,2,64,25,"base")?$(A(e,o),0|t,10,n):o<=M||o>=G?_(e,o):A(e,o),n<0&&r.c[0]&&(e="-"+e)),e},R.truncated=R.trunc=function(){return rt(new X(this),this.e+1,1)},R.valueOf=R.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=b(e.c),t=r<=M||r>=G?_(t,r):A(t,r),e.s<0?"-"+t:t)},null!=e&&X.config(e),X}(),e.default=e.BigNumber=e,void 0===(n=e)||(t.exports=n)}()}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,t=[],n.O=(e,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,o,i]=t[l],s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.j=471,(()=>{var t={471:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,i,[a,s,c]=r,u=0;if(a.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(e&&e(r);u<a.length;u++)i=a[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var o=n.O(void 0,[76],(()=>n(9799)));o=n.O(o)})();